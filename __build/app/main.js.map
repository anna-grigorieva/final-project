{
  "version": 3,
  "file": "main.build.js",
  "sources": [
    "../lib/jquery-2.1.1.min.js",
    "../lib/durandal/system.js",
    "../lib/durandal/viewEngine.js",
    "../lib/durandal/viewLocator.js",
    "../lib/knockout-3.1.0.js",
    "../lib/durandal/binder.js",
    "../lib/durandal/activator.js",
    "../lib/durandal/composition.js",
    "../lib/durandal/events.js",
    "../lib/durandal/app.js",
    "../lib/moment.min.js",
    "../lib/jquery-ui/jquery-ui.min.js",
    "../lib/ckeditor/ckeditor.js",
    "bindingHandlers.js",
    "main.js",
    "constructors/card.js",
    "constructors/lecture.js",
    "constructors/day.js",
    "constructors/event.js",
    "constructors/task.js",
    "../lib/q.min.js",
    "../lib/durandal/plugins/http.js",
    "userContext.js",
    "dataContext.js",
    "viewmodels/404.js",
    "../lib/durandal/plugins/dialog.js",
    "viewmodels/modals/editEvent.js",
    "viewmodels/events.js",
    "viewmodels/modals/daySchedule.js",
    "viewmodels/modals/editTask.js",
    "viewmodels/modals/newNotes.js",
    "viewmodels/organizer.js",
    "viewmodels/schedule.js",
    "../lib/durandal/plugins/history.js",
    "../lib/durandal/plugins/router.js",
    "../lib/bootstrap/bootstrap.min.js",
    "viewmodels/shell.js",
    "viewmodels/signin.js",
    "viewmodels/signup.js",
    "viewmodels/subject/deck.js",
    "viewmodels/subject/flashcards.js",
    "viewmodels/subject/notes.js",
    "viewmodels/subject/notesList.js",
    "viewmodels/subject/planner.js",
    "viewmodels/subject/shell.js",
    "viewmodels/tasks.js",
    "viewmodels/timepicker.js",
    "../lib/ckeditor/lang/en.js",
    "../lib/ckeditor/styles.js",
    "../lib/durandal/plugins/observable.js",
    "../lib/durandal/plugins/serializer.js",
    "../lib/durandal/plugins/widget.js",
    "../lib/text.js",
    "views/404.html!text",
    "views/events.html!text",
    "views/modals/daySchedule.html!text",
    "views/modals/editEvent.html!text",
    "views/modals/editTask.html!text",
    "views/modals/newNotes.html!text",
    "views/organizer.html!text",
    "views/schedule.html!text",
    "views/shell.html!text",
    "views/signin.html!text",
    "views/signup.html!text",
    "views/subject/deck.html!text",
    "views/subject/flashcards.html!text",
    "views/subject/notes.html!text",
    "views/subject/notesList.html!text",
    "views/subject/planner.html!text",
    "views/subject/shell.html!text",
    "views/tasks.html!text",
    "views/templates/calendar.html!text",
    "views/templates/taskInfo.html!text",
    "views/timepicker.html!text"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;ACJA,ADKA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA,ADiGA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxJA,ADyJA;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7tBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxNA,ADyNA;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA,ADOA;ACNA;AACA;AACA;AACA;AACA;AACA;ACNA,ADOA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACr+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA,ADsCA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA,ADUA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA,ADYA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA,AD2BA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA,ADsFA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxPA;AACA;AACA;AACA;ACHA,ADIA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA,AD+BA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjQA,ADkQA;ACjQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1mCA,AD2mCA;AC1mCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA,ADwBA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA,ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrXA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA",
  "sourcesContent": [
    "/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m=\"2.1.1\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return\"object\"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,\"isPrototypeOf\")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=l.createElement(\"script\"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C=\"undefined\",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",N=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",O=N.replace(\"w\",\"w#\"),P=\"\\\\[\"+M+\"*(\"+N+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+O+\"))|)\"+M+\"*\\\\]\",Q=\":(\"+N+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+P+\")*)|.*)\\\\)|)\",R=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),S=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),T=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),U=new RegExp(\"=\"+M+\"*([^\\\\]'\\\"]*?)\"+M+\"*\\\\]\",\"g\"),V=new RegExp(Q),W=new RegExp(\"^\"+O+\"$\"),X={ID:new RegExp(\"^#(\"+N+\")\"),CLASS:new RegExp(\"^\\\\.(\"+N+\")\"),TAG:new RegExp(\"^(\"+N.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+P),PSEUDO:new RegExp(\"^\"+Q),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+L+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,$=/^[^{]+\\{\\s*\\[native \\w/,_=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ab=/[+~]/,bb=/'|\\\\/g,cb=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),db=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||\"string\"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&\"object\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\"id\"))?s=r.replace(bb,\"\\\\$&\"):b.setAttribute(\"id\",s),s=\"[id='\"+s+\"'] \",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(\",\")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\"id\")}}}return i(a.replace(R,\"$1\"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split(\"|\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener(\"unload\",function(){m()},!1):g.attachEvent&&g.attachEvent(\"onunload\",function(){m()})),c.attributes=ib(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML=\"<div class='a'></div><div class='a i'></div>\",a.firstChild.className=\"i\",2===a.getElementsByClassName(\"i\").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML=\"<select msallowclip=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowclip^='']\").length&&q.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+M+\"*(?:value|\"+L+\")\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\")}),ib(function(a){var b=e.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+M+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",Q)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\"='$1']\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||\"\").replace(cb,db),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+M+\")\"+a+\"(\"+M+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,\"$1\"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||\"\")||fb.error(\"unsupported lang: \"+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(R,\"$1\"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\"0\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\"*\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ib(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||jb(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||jb(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute(\"disabled\")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,w=/^.[^:#\\[\\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,\"string\"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if(\"string\"==typeof a){if(c=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?\"undefined\"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?\"string\"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return n.dir(a,\"parentNode\",c)},next:function(a){return D(a,\"nextSibling\")},prev:function(a){return D(a,\"previousSibling\")},nextAll:function(a){return n.dir(a,\"nextSibling\")},prevAll:function(a){return n.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return n.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return n.dir(a,\"previousSibling\",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);\"function\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\"string\"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler(\"ready\"),n(l).off(\"ready\"))))}});function I(){l.removeEventListener(\"DOMContentLoaded\",I,!1),a.removeEventListener(\"load\",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),\"complete\"===l.readyState?setTimeout(n.ready):(l.addEventListener(\"DOMContentLoaded\",I,!1),a.addEventListener(\"load\",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if(\"string\"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(O,\"-$1\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)\n},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf(\"-\")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){L.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=L.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,R=[\"Top\",\"Right\",\"Bottom\",\"Left\"],S=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement(\"div\")),c=l.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U=\"undefined\";k.focusinBubbles=\"onfocusin\"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||\"\").match(E)||[\"\"],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,\"events\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,\"type\")?b.type:b,r=j.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(\".\")>=0&&(r=q.split(\".\"),q=r.shift(),r.sort()),k=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join(\".\"),b.namespace_re=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,\"events\")||{})[b.type]&&L.get(g,\"handle\"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\"click\"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||\"click\"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if(\"object\"==typeof a){\"string\"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\"string\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\"function\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,bb=/<([\\w:]+)/,cb=/<|&#?\\w+;/,db=/<(?:script|style|link)/i,eb=/checked\\s*(?:[^=]|=\\s*.checked.)/i,fb=/^$|\\/(?:java|ecma)script/i,gb=/^true\\/(.*)/,hb=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,ib={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function kb(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],\"globalEval\",!b||L.get(b[c],\"globalEval\"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&T.test(a.type)?b.checked=a.checked:(\"input\"===c||\"textarea\"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,\"script\"),g.length>0&&mb(g,!i&&ob(a,\"script\")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if(\"object\"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement(\"div\")),g=(bb.exec(e)||[\"\",\"\"])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,\"<$1></$2>\")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=\"\"}else l.push(b.createTextNode(e));k.textContent=\"\",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),\"script\"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||\"\")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,\"script\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(ab,\"<$1></$2>\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&\"string\"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,\"script\"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,\"script\"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||\"\")&&!L.access(h,\"globalEval\")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,\"\")))}return this}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],\"display\");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),\"none\"!==c&&c||(qb=(qb||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp(\"^(\"+Q+\")(?!px)[a-z%]+$\",\"i\"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(\"\"!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+\"\":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement(\"div\"),f=l.createElement(\"div\");if(f.style){f.style.backgroundClip=\"content-box\",f.cloneNode(!0).style.backgroundClip=\"\",k.clearCloneStyle=\"content-box\"===f.style.backgroundClip,e.style.cssText=\"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute\",e.appendChild(f);function g(){f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\",f.innerHTML=\"\",d.appendChild(e);var g=a.getComputedStyle(f,null);b=\"1%\"!==g.top,c=\"4px\"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement(\"div\"));return c.style.cssText=f.style.cssText=\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",f.style.width=\"1px\",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp(\"^(\"+Q+\")(.*)$\",\"i\"),Bb=new RegExp(\"^([+-])=(\"+Q+\")\",\"i\"),Cb={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Db={letterSpacing:\"0\",fontWeight:\"400\"},Eb=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\"px\"):b}function Hb(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+R[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+R[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+R[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+R[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+R[f]+\"Width\",!0,e)));return g}function Ib(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&S(d)&&(f[g]=L.access(d,\"olddisplay\",tb(d.nodeName)))):(e=S(d),\"none\"===c&&e||L.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f=\"number\"),null!=c&&c===c&&(\"number\"!==f||n.cssNumber[h]||(c+=\"px\"),k.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),\"normal\"===e&&b in Db&&(e=Db[b]),\"\"===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,\"display\"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:\"inline-block\"},xb,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\"swing\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp(\"^(?:([+-])=|)(\"+Q+\")([a-z%]*)$\",\"i\"),Pb=/queueHooks$/,Qb=[Vb],Rb={\"*\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?\"\":\"px\"),g=(n.cssNumber[a]||\"px\"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\".5\",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?L.get(a,\"olddisplay\")||tb(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?tb(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=L.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.split(\" \");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=L.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb(\"show\"),slideUp:Tb(\"hide\"),slideToggle:Tb(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||\"fx\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement(\"input\"),b=l.createElement(\"select\"),c=b.appendChild(l.createElement(\"option\"));a.type=\"checkbox\",k.checkOn=\"\"!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",k.radioValue=\"t\"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&\"get\"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&\"set\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\"\"),c):void n.removeAttr(a,b))\n},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute(\"tabindex\")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\\t\\r\\n\\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\" \")){f=0;while(e=b[f++])d.indexOf(\" \"+e+\" \")<0&&(d+=e+\" \");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||\"string\"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||\"\").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(\" \"+c.className+\" \").replace(ac,\" \"):\"\")){f=0;while(e=b[f++])while(d.indexOf(\" \"+e+\" \")>=0)d=d.replace(\" \"+e+\" \",\" \");g=a?n.trim(d):\"\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\"string\"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||\"boolean\"===c)&&(this.className&&L.set(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":L.get(this,\"__className__\")||\"\")})},hasClass:function(a){for(var b=\" \"+a+\" \",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\" \"+this[c].className+\" \").replace(ac,\" \").indexOf(b)>=0)return!0;return!1}});var bc=/\\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(bc,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\"disabled\"))||c.parentNode.disabled&&n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)}});var cc=n.now(),dc=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(a){var b,c;if(!a||\"string\"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,\"text/xml\")}catch(d){b=void 0}return(!b||b.getElementsByTagName(\"parsererror\").length)&&n.error(\"Invalid XML: \"+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\\/\\//,mc=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,nc={},oc={},pc=\"*/\".concat(\"*\");try{fc=location.href}catch(qc){fc=l.createElement(\"a\"),fc.href=\"\",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:\"GET\",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":pc,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){\"object\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks(\"once memory\"),q=k.statusCode||{},r={},s={},t=0,u=\"canceled\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+\"\").replace(gc,\"\").replace(lc,ec[1]+\"//\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||\"*\").toLowerCase().match(E)||[\"\"],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||(\"http:\"===h[1]?\"80\":\"443\"))===(ec[3]||(\"http:\"===ec[1]?\"80\":\"443\")))),k.data&&k.processData&&\"string\"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger(\"ajaxStart\"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?\"&\":\"?\")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,\"$1_=\"+cc++):d+(dc.test(d)?\"&\":\"?\")+\"_=\"+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader(\"If-Modified-Since\",n.lastModified[d]),n.etag[d]&&v.setRequestHeader(\"If-None-Match\",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\"Content-Type\",k.contentType),v.setRequestHeader(\"Accept\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\"*\"!==k.dataTypes[0]?\", \"+pc+\"; q=0.01\":\"\"):k.accepts[\"*\"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\"abort\";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger(\"ajaxSend\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\"timeout\")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\"No Transport\");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||\"\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[d]=w),w=v.getResponseHeader(\"etag\"),w&&(n.etag[d]=w)),204===a||\"HEAD\"===k.type?x=\"nocontent\":304===a?x=\"notmodified\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\"error\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\"\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?\"ajaxSuccess\":\"ajaxError\",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger(\"ajaxComplete\",[v,k]),--n.active||n.event.trigger(\"ajaxStop\")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\\[\\]$/,yc=/\\r?\\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+\"[\"+(\"object\"==typeof e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Bc(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join(\"&\").replace(wc,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,\"\\r\\n\")}}):{name:b.name,value:c.replace(yc,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on(\"unload\",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&\"withCredentials\"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,\"abort\"===a?f.abort():\"error\"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,\"string\"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b(\"error\"),b=Dc[g]=b(\"abort\");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n(\"<script>\").prop({async:!0,charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&e(\"error\"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Gc.pop()||n.expando+\"_\"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?\"url\":\"string\"==typeof b.data&&!(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Hc.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,\"$1\"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e,dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,\"html\")&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(b,c){var d=\"pageYOffset\"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The system module encapsulates the most basic features used by other modules.\n * @module system\n * @requires require\n * @requires jquery\n */\ndefine('durandal/system',['require', 'jquery'], function(require, $) {\n    var isDebugging = false,\n        nativeKeys = Object.keys,\n        hasOwnProperty = Object.prototype.hasOwnProperty,\n        toString = Object.prototype.toString,\n        system,\n        treatAsIE8 = false,\n        nativeIsArray = Array.isArray,\n        slice = Array.prototype.slice;\n\n    //polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim\n    if (!String.prototype.trim) {\n        String.prototype.trim = function () {\n            return this.replace(/^\\s+|\\s+$/g, '');\n        };\n    }\n\n    //see http://patik.com/blog/complete-cross-browser-console-log/\n    // Tell IE9 to use its built-in console\n    if (Function.prototype.bind && (typeof console === 'object' || typeof console === 'function') && typeof console.log == 'object') {\n        try {\n            ['log', 'info', 'warn', 'error', 'assert', 'dir', 'clear', 'profile', 'profileEnd']\n                .forEach(function(method) {\n                    console[method] = this.call(console[method], console);\n                }, Function.prototype.bind);\n        } catch (ex) {\n            treatAsIE8 = true;\n        }\n    }\n\n    // callback for dojo's loader \n    // note: if you wish to use Durandal with dojo's AMD loader,\n    // currently you must fork the dojo source with the following\n    // dojo/dojo.js, line 1187, the last line of the finishExec() function: \n    //  (add) signal(\"moduleLoaded\", [module.result, module.mid]);\n    // an enhancement request has been submitted to dojo to make this\n    // a permanent change. To view the status of this request, visit:\n    // http://bugs.dojotoolkit.org/ticket/16727\n\n    if (require.on) {\n        require.on(\"moduleLoaded\", function(module, mid) {\n            system.setModuleId(module, mid);\n        });\n    }\n\n    // callback for require.js loader\n    if (typeof requirejs !== 'undefined') {\n        requirejs.onResourceLoad = function(context, map, depArray) {\n            system.setModuleId(context.defined[map.id], map.id);\n        };\n    }\n\n    var noop = function() { };\n\n    var log = function() {\n        try {\n            // Modern browsers\n            if (typeof console != 'undefined' && typeof console.log == 'function') {\n                // Opera 11\n                if (window.opera) {\n                    var i = 0;\n                    while (i < arguments.length) {\n                        console.log('Item ' + (i + 1) + ': ' + arguments[i]);\n                        i++;\n                    }\n                }\n                // All other modern browsers\n                else if ((slice.call(arguments)).length == 1 && typeof slice.call(arguments)[0] == 'string') {\n                    console.log((slice.call(arguments)).toString());\n                } else {\n                    console.log.apply(console, slice.call(arguments));\n                }\n            }\n            // IE8\n            else if ((!Function.prototype.bind || treatAsIE8) && typeof console != 'undefined' && typeof console.log == 'object') {\n                Function.prototype.call.call(console.log, console, slice.call(arguments));\n            }\n\n            // IE7 and lower, and other old browsers\n        } catch (ignore) { }\n    };\n\n    var logError = function(error, err) {\n        var exception;\n        \n        if(error instanceof Error){\n            exception = error;\n        } else {\n            exception = new Error(error);\n        }\n        \n        exception.innerError = err;\n        \n        //Report the error as an error, not as a log\n        try {\n            // Modern browsers (it's only a single item, no need for argument splitting as in log() above)\n            if (typeof console != 'undefined' && typeof console.error == 'function') {\n                console.error(exception);\n            }\n            // IE8\n            else if ((!Function.prototype.bind || treatAsIE8) && typeof console != 'undefined' && typeof console.error == 'object') {\n                Function.prototype.call.call(console.error, console, exception);\n            }\n            // IE7 and lower, and other old browsers\n        } catch (ignore) { }\n\n        throw exception;\n    };\n\n    /**\n     * @class SystemModule\n     * @static\n     */\n    system = {\n        /**\n         * Durandal's version.\n         * @property {string} version\n         */\n        version: \"2.1.0\",\n        /**\n         * A noop function.\n         * @method noop\n         */\n        noop: noop,\n        /**\n         * Gets the module id for the specified object.\n         * @method getModuleId\n         * @param {object} obj The object whose module id you wish to determine.\n         * @return {string} The module id.\n         */\n        getModuleId: function(obj) {\n            if (!obj) {\n                return null;\n            }\n\n            if (typeof obj == 'function' && obj.prototype) {\n                return obj.prototype.__moduleId__;\n            }\n\n            if (typeof obj == 'string') {\n                return null;\n            }\n\n            return obj.__moduleId__;\n        },\n        /**\n         * Sets the module id for the specified object.\n         * @method setModuleId\n         * @param {object} obj The object whose module id you wish to set.\n         * @param {string} id The id to set for the specified object.\n         */\n        setModuleId: function(obj, id) {\n            if (!obj) {\n                return;\n            }\n\n            if (typeof obj == 'function' && obj.prototype) {\n                obj.prototype.__moduleId__ = id;\n                return;\n            }\n\n            if (typeof obj == 'string') {\n                return;\n            }\n\n            obj.__moduleId__ = id;\n        },\n        /**\n         * Resolves the default object instance for a module. If the module is an object, the module is returned. If the module is a function, that function is called with `new` and it's result is returned.\n         * @method resolveObject\n         * @param {object} module The module to use to get/create the default object for.\n         * @return {object} The default object for the module.\n         */\n        resolveObject: function(module) {\n            if (system.isFunction(module)) {\n                return new module();\n            } else {\n                return module;\n            }\n        },\n        /**\n         * Gets/Sets whether or not Durandal is in debug mode.\n         * @method debug\n         * @param {boolean} [enable] Turns on/off debugging.\n         * @return {boolean} Whether or not Durandal is current debugging.\n         */\n        debug: function(enable) {\n            if (arguments.length == 1) {\n                isDebugging = enable;\n                if (isDebugging) {\n                    this.log = log;\n                    this.error = logError;\n                    this.log('Debug:Enabled');\n                } else {\n                    this.log('Debug:Disabled');\n                    this.log = noop;\n                    this.error = noop;\n                }\n            }\n\n            return isDebugging;\n        },\n        /**\n         * Logs data to the console. Pass any number of parameters to be logged. Log output is not processed if the framework is not running in debug mode.\n         * @method log\n         * @param {object} info* The objects to log.\n         */\n        log: noop,\n        /**\n         * Logs an error.\n         * @method error\n         * @param {string|Error} obj The error to report.\n         */\n        error: noop,\n        /**\n         * Asserts a condition by throwing an error if the condition fails.\n         * @method assert\n         * @param {boolean} condition The condition to check.\n         * @param {string} message The message to report in the error if the condition check fails.\n         */\n        assert: function (condition, message) {\n            if (!condition) {\n                system.error(new Error(message || 'Assert:Failed'));\n            }\n        },\n        /**\n         * Creates a deferred object which can be used to create a promise. Optionally pass a function action to perform which will be passed an object used in resolving the promise.\n         * @method defer\n         * @param {function} [action] The action to defer. You will be passed the deferred object as a paramter.\n         * @return {Deferred} The deferred object.\n         */\n        defer: function(action) {\n            return $.Deferred(action);\n        },\n        /**\n         * Creates a simple V4 UUID. This should not be used as a PK in your database. It can be used to generate internal, unique ids. For a more robust solution see [node-uuid](https://github.com/broofa/node-uuid).\n         * @method guid\n         * @return {string} The guid.\n         */\n        guid: function() {\n            var d = new Date().getTime();\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n                var r = (d + Math.random() * 16) % 16 | 0;\n                d = Math.floor(d/16);\n                return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);\n            });\n        },\n        /**\n         * Uses require.js to obtain a module. This function returns a promise which resolves with the module instance. You can pass more than one module id to this function or an array of ids. If more than one or an array is passed, then the promise will resolve with an array of module instances.\n         * @method acquire\n         * @param {string|string[]} moduleId The id(s) of the modules to load.\n         * @return {Promise} A promise for the loaded module(s).\n         */\n        acquire: function() {\n            var modules,\n                first = arguments[0],\n                arrayRequest = false;\n\n            if(system.isArray(first)){\n                modules = first;\n                arrayRequest = true;\n            }else{\n                modules = slice.call(arguments, 0);\n            }\n\n            return this.defer(function(dfd) {\n                require(modules, function() {\n                    var args = arguments;\n                    setTimeout(function() {\n                        if(args.length > 1 || arrayRequest){\n                            dfd.resolve(slice.call(args, 0));\n                        }else{\n                            dfd.resolve(args[0]);\n                        }\n                    }, 1);\n                }, function(err){\n                    dfd.reject(err);\n                });\n            }).promise();\n        },\n        /**\n         * Extends the first object with the properties of the following objects.\n         * @method extend\n         * @param {object} obj The target object to extend.\n         * @param {object} extension* Uses to extend the target object.\n         */\n        extend: function(obj) {\n            var rest = slice.call(arguments, 1);\n\n            for (var i = 0; i < rest.length; i++) {\n                var source = rest[i];\n\n                if (source) {\n                    for (var prop in source) {\n                        obj[prop] = source[prop];\n                    }\n                }\n            }\n\n            return obj;\n        },\n        /**\n         * Uses a setTimeout to wait the specified milliseconds.\n         * @method wait\n         * @param {number} milliseconds The number of milliseconds to wait.\n         * @return {Promise}\n         */\n        wait: function(milliseconds) {\n            return system.defer(function(dfd) {\n                setTimeout(dfd.resolve, milliseconds);\n            }).promise();\n        }\n    };\n\n    /**\n     * Gets all the owned keys of the specified object.\n     * @method keys\n     * @param {object} object The object whose owned keys should be returned.\n     * @return {string[]} The keys.\n     */\n    system.keys = nativeKeys || function(obj) {\n        if (obj !== Object(obj)) {\n            throw new TypeError('Invalid object');\n        }\n\n        var keys = [];\n\n        for (var key in obj) {\n            if (hasOwnProperty.call(obj, key)) {\n                keys[keys.length] = key;\n            }\n        }\n\n        return keys;\n    };\n\n    /**\n     * Determines if the specified object is an html element.\n     * @method isElement\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n    system.isElement = function(obj) {\n        return !!(obj && obj.nodeType === 1);\n    };\n\n    /**\n     * Determines if the specified object is an array.\n     * @method isArray\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n    system.isArray = nativeIsArray || function(obj) {\n        return toString.call(obj) == '[object Array]';\n    };\n\n    /**\n     * Determines if the specified object is...an object. ie. Not an array, string, etc.\n     * @method isObject\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n    system.isObject = function(obj) {\n        return obj === Object(obj);\n    };\n\n    /**\n     * Determines if the specified object is a boolean.\n     * @method isBoolean\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n    system.isBoolean = function(obj) {\n        return typeof(obj) === \"boolean\";\n    };\n\n    /**\n     * Determines if the specified object is a promise.\n     * @method isPromise\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n    system.isPromise = function(obj) {\n        return obj && system.isFunction(obj.then);\n    };\n\n    /**\n     * Determines if the specified object is a function arguments object.\n     * @method isArguments\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n\n    /**\n     * Determines if the specified object is a function.\n     * @method isFunction\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n\n    /**\n     * Determines if the specified object is a string.\n     * @method isString\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n\n    /**\n     * Determines if the specified object is a number.\n     * @method isNumber\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n\n    /**\n     * Determines if the specified object is a date.\n     * @method isDate\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n\n    /**\n     * Determines if the specified object is a boolean.\n     * @method isBoolean\n     * @param {object} object The object to check.\n     * @return {boolean} True if matches the type, false otherwise.\n     */\n\n    //isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n    var isChecks = ['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'];\n\n    function makeIsFunction(name) {\n        var value = '[object ' + name + ']';\n        system['is' + name] = function(obj) {\n            return toString.call(obj) == value;\n        };\n    }\n\n    for (var i = 0; i < isChecks.length; i++) {\n        makeIsFunction(isChecks[i]);\n    }\n\n    return system;\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The viewEngine module provides information to the viewLocator module which is used to locate the view's source file. The viewEngine also transforms a view id into a view instance.\n * @module viewEngine\n * @requires system\n * @requires jquery\n */\ndefine('durandal/viewEngine',['durandal/system', 'jquery'], function (system, $) {\n    var parseMarkup;\n\n    if ($.parseHTML) {\n        parseMarkup = function (html) {\n            return $.parseHTML(html);\n        };\n    } else {\n        parseMarkup = function (html) {\n            return $(html).get();\n        };\n    }\n\n    /**\n     * @class ViewEngineModule\n     * @static\n     */\n    return {\n        cache:{},\n        /**\n         * The file extension that view source files are expected to have.\n         * @property {string} viewExtension\n         * @default .html\n         */\n        viewExtension: '.html',\n        /**\n         * The name of the RequireJS loader plugin used by the viewLocator to obtain the view source. (Use requirejs to map the plugin's full path).\n         * @property {string} viewPlugin\n         * @default text\n         */\n        viewPlugin: 'text',\n        /**\n         * Parameters passed to the RequireJS loader plugin used by the viewLocator to obtain the view source.\n         * @property {string} viewPluginParameters\n         * @default The empty string by default.\n         */\n        viewPluginParameters: '',\n        /**\n         * Determines if the url is a url for a view, according to the view engine.\n         * @method isViewUrl\n         * @param {string} url The potential view url.\n         * @return {boolean} True if the url is a view url, false otherwise.\n         */\n        isViewUrl: function (url) {\n            return url.indexOf(this.viewExtension, url.length - this.viewExtension.length) !== -1;\n        },\n        /**\n         * Converts a view url into a view id.\n         * @method convertViewUrlToViewId\n         * @param {string} url The url to convert.\n         * @return {string} The view id.\n         */\n        convertViewUrlToViewId: function (url) {\n            return url.substring(0, url.length - this.viewExtension.length);\n        },\n        /**\n         * Converts a view id into a full RequireJS path.\n         * @method convertViewIdToRequirePath\n         * @param {string} viewId The view id to convert.\n         * @return {string} The require path.\n         */\n        convertViewIdToRequirePath: function (viewId) {\n            var plugin = this.viewPlugin ? this.viewPlugin + '!' : '';\n            return plugin + viewId + this.viewExtension + this.viewPluginParameters;\n        },\n        /**\n         * Parses the view engine recognized markup and returns DOM elements.\n         * @method parseMarkup\n         * @param {string} markup The markup to parse.\n         * @return {DOMElement[]} The elements.\n         */\n        parseMarkup: parseMarkup,\n        /**\n         * Calls `parseMarkup` and then pipes the results through `ensureSingleElement`.\n         * @method processMarkup\n         * @param {string} markup The markup to process.\n         * @return {DOMElement} The view.\n         */\n        processMarkup: function (markup) {\n            var allElements = this.parseMarkup(markup);\n            return this.ensureSingleElement(allElements);\n        },\n        /**\n         * Converts an array of elements into a single element. White space and comments are removed. If a single element does not remain, then the elements are wrapped.\n         * @method ensureSingleElement\n         * @param {DOMElement[]} allElements The elements.\n         * @return {DOMElement} A single element.\n         */\n        ensureSingleElement:function(allElements){\n            if (allElements.length == 1) {\n                return allElements[0];\n            }\n\n            var withoutCommentsOrEmptyText = [];\n\n            for (var i = 0; i < allElements.length; i++) {\n                var current = allElements[i];\n                if (current.nodeType != 8) {\n                    if (current.nodeType == 3) {\n                        var result = /\\S/.test(current.nodeValue);\n                        if (!result) {\n                            continue;\n                        }\n                    }\n\n                    withoutCommentsOrEmptyText.push(current);\n                }\n            }\n\n            if (withoutCommentsOrEmptyText.length > 1) {\n                return $(withoutCommentsOrEmptyText).wrapAll('<div class=\"durandal-wrapper\"></div>').parent().get(0);\n            }\n\n            return withoutCommentsOrEmptyText[0];\n        },\n        /**\n         * Gets the view associated with the id from the cache of parsed views.\n         * @method tryGetViewFromCache\n         * @param {string} id The view id to lookup in the cache.\n         * @return {DOMElement|null} The cached view or null if it's not in the cache.\n         */\n        tryGetViewFromCache:function(id) {\n            return this.cache[id];\n        },\n        /**\n         * Puts the view associated with the id into the cache of parsed views.\n         * @method putViewInCache\n         * @param {string} id The view id whose view should be cached.\n         * @param {DOMElement} view The view to cache.\n         */\n        putViewInCache: function (id, view) {\n            this.cache[id] = view;\n        },\n        /**\n         * Creates the view associated with the view id.\n         * @method createView\n         * @param {string} viewId The view id whose view should be created.\n         * @return {Promise} A promise of the view.\n         */\n        createView: function(viewId) {\n            var that = this;\n            var requirePath = this.convertViewIdToRequirePath(viewId);\n            var existing = this.tryGetViewFromCache(requirePath);\n\n            if (existing) {\n                return system.defer(function(dfd) {\n                    dfd.resolve(existing.cloneNode(true));\n                }).promise();\n            }\n\n            return system.defer(function(dfd) {\n                system.acquire(requirePath).then(function(markup) {\n                    var element = that.processMarkup(markup);\n                    element.setAttribute('data-view', viewId);\n                    that.putViewInCache(requirePath, element);\n                    dfd.resolve(element.cloneNode(true));\n                }).fail(function(err) {\n                    that.createFallbackView(viewId, requirePath, err).then(function(element) {\n                        element.setAttribute('data-view', viewId);\n                        that.cache[requirePath] = element;\n                        dfd.resolve(element.cloneNode(true));\n                    });\n                });\n            }).promise();\n        },\n        /**\n         * Called when a view cannot be found to provide the opportunity to locate or generate a fallback view. Mainly used to ease development.\n         * @method createFallbackView\n         * @param {string} viewId The view id whose view should be created.\n         * @param {string} requirePath The require path that was attempted.\n         * @param {Error} requirePath The error that was returned from the attempt to locate the default view.\n         * @return {Promise} A promise for the fallback view.\n         */\n        createFallbackView: function (viewId, requirePath, err) {\n            var that = this,\n                message = 'View Not Found. Searched for \"' + viewId + '\" via path \"' + requirePath + '\".';\n\n            return system.defer(function(dfd) {\n                dfd.resolve(that.processMarkup('<div class=\"durandal-view-404\">' + message + '</div>'));\n            }).promise();\n        }\n    };\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The viewLocator module collaborates with the viewEngine module to provide views (literally dom sub-trees) to other parts of the framework as needed. The primary consumer of the viewLocator is the composition module.\n * @module viewLocator\n * @requires system\n * @requires viewEngine\n */\ndefine('durandal/viewLocator',['durandal/system', 'durandal/viewEngine'], function (system, viewEngine) {\n    function findInElements(nodes, url) {\n        for (var i = 0; i < nodes.length; i++) {\n            var current = nodes[i];\n            var existingUrl = current.getAttribute('data-view');\n            if (existingUrl == url) {\n                return current;\n            }\n        }\n    }\n    \n    function escape(str) {\n        return (str + '').replace(/([\\\\\\.\\+\\*\\?\\[\\^\\]\\$\\(\\)\\{\\}\\=\\!\\<\\>\\|\\:])/g, \"\\\\$1\");\n    }\n\n    /**\n     * @class ViewLocatorModule\n     * @static\n     */\n    return {\n        /**\n         * Allows you to set up a convention for mapping module folders to view folders. It is a convenience method that customizes `convertModuleIdToViewId` and `translateViewIdToArea` under the covers.\n         * @method useConvention\n         * @param {string} [modulesPath] A string to match in the path and replace with the viewsPath. If not specified, the match is 'viewmodels'.\n         * @param {string} [viewsPath] The replacement for the modulesPath. If not specified, the replacement is 'views'.\n         * @param {string} [areasPath] Partial views are mapped to the \"views\" folder if not specified. Use this parameter to change their location.\n         */\n        useConvention: function(modulesPath, viewsPath, areasPath) {\n            modulesPath = modulesPath || 'viewmodels';\n            viewsPath = viewsPath || 'views';\n            areasPath = areasPath || viewsPath;\n\n            var reg = new RegExp(escape(modulesPath), 'gi');\n\n            this.convertModuleIdToViewId = function (moduleId) {\n                return moduleId.replace(reg, viewsPath);\n            };\n\n            this.translateViewIdToArea = function (viewId, area) {\n                if (!area || area == 'partial') {\n                    return areasPath + '/' + viewId;\n                }\n                \n                return areasPath + '/' + area + '/' + viewId;\n            };\n        },\n        /**\n         * Maps an object instance to a view instance.\n         * @method locateViewForObject\n         * @param {object} obj The object to locate the view for.\n         * @param {string} [area] The area to translate the view to.\n         * @param {DOMElement[]} [elementsToSearch] An existing set of elements to search first.\n         * @return {Promise} A promise of the view.\n         */\n        locateViewForObject: function(obj, area, elementsToSearch) {\n            var view;\n\n            if (obj.getView) {\n                view = obj.getView();\n                if (view) {\n                    return this.locateView(view, area, elementsToSearch);\n                }\n            }\n\n            if (obj.viewUrl) {\n                return this.locateView(obj.viewUrl, area, elementsToSearch);\n            }\n\n            var id = system.getModuleId(obj);\n            if (id) {\n                return this.locateView(this.convertModuleIdToViewId(id), area, elementsToSearch);\n            }\n\n            return this.locateView(this.determineFallbackViewId(obj), area, elementsToSearch);\n        },\n        /**\n         * Converts a module id into a view id. By default the ids are the same.\n         * @method convertModuleIdToViewId\n         * @param {string} moduleId The module id.\n         * @return {string} The view id.\n         */\n        convertModuleIdToViewId: function(moduleId) {\n            return moduleId;\n        },\n        /**\n         * If no view id can be determined, this function is called to genreate one. By default it attempts to determine the object's type and use that.\n         * @method determineFallbackViewId\n         * @param {object} obj The object to determine the fallback id for.\n         * @return {string} The view id.\n         */\n        determineFallbackViewId: function (obj) {\n            var funcNameRegex = /function (.{1,})\\(/;\n            var results = (funcNameRegex).exec((obj).constructor.toString());\n            var typeName = (results && results.length > 1) ? results[1] : \"\";\n            typeName = typeName.trim();\n            return 'views/' + typeName;\n        },\n        /**\n         * Takes a view id and translates it into a particular area. By default, no translation occurs.\n         * @method translateViewIdToArea\n         * @param {string} viewId The view id.\n         * @param {string} area The area to translate the view to.\n         * @return {string} The translated view id.\n         */\n        translateViewIdToArea: function (viewId, area) {\n            return viewId;\n        },\n        /**\n         * Locates the specified view.\n         * @method locateView\n         * @param {string|DOMElement} viewOrUrlOrId A view, view url or view id to locate.\n         * @param {string} [area] The area to translate the view to.\n         * @param {DOMElement[]} [elementsToSearch] An existing set of elements to search first.\n         * @return {Promise} A promise of the view.\n         */\n        locateView: function(viewOrUrlOrId, area, elementsToSearch) {\n            if (typeof viewOrUrlOrId === 'string') {\n                var viewId;\n\n                if (viewEngine.isViewUrl(viewOrUrlOrId)) {\n                    viewId = viewEngine.convertViewUrlToViewId(viewOrUrlOrId);\n                } else {\n                    viewId = viewOrUrlOrId;\n                }\n\n                if (area) {\n                    viewId = this.translateViewIdToArea(viewId, area);\n                }\n\n                if (elementsToSearch) {\n                    var existing = findInElements(elementsToSearch, viewId);\n                    if (existing) {\n                        return system.defer(function(dfd) {\n                            dfd.resolve(existing);\n                        }).promise();\n                    }\n                }\n\n                return viewEngine.createView(viewId);\n            }\n\n            return system.defer(function(dfd) {\n                dfd.resolve(viewOrUrlOrId);\n            }).promise();\n        }\n    };\n});\n\n",
    "// Knockout JavaScript library v3.1.0\n// (c) Steven Sanderson - http://knockoutjs.com/\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\n\n(function() {(function(p){var A=this||(0,eval)(\"this\"),w=A.document,K=A.navigator,t=A.jQuery,C=A.JSON;(function(p){\"function\"===typeof require&&\"object\"===typeof exports&&\"object\"===typeof module?p(module.exports||exports):\"function\"===typeof define&&define.amd?define('knockout',[\"exports\"],p):p(A.ko={})})(function(z){function G(a,c){return null===a||typeof a in M?a===c:!1}function N(a,c){var d;return function(){d||(d=setTimeout(function(){d=p;a()},c))}}function O(a,c){var d;return function(){clearTimeout(d);d=setTimeout(a,\nc)}}function H(b,c,d,e){a.d[b]={init:function(b,h,g,k,l){var n,r;a.ba(function(){var g=a.a.c(h()),k=!d!==!g,s=!r;if(s||c||k!==n)s&&a.ca.fa()&&(r=a.a.lb(a.e.childNodes(b),!0)),k?(s||a.e.U(b,a.a.lb(r)),a.gb(e?e(l,g):l,b)):a.e.da(b),n=k},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a=\"undefined\"!==typeof z?z:{};a.b=function(b,c){for(var d=b.split(\".\"),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.s=function(a,c,d){a[c]=d};a.version=\"3.1.0\";a.b(\"version\",\na.version);a.a=function(){function b(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}var e={__proto__:[]}instanceof Array,f={},h={};f[K&&/Firefox\\/2/i.test(K.userAgent)?\"KeyboardEvent\":\"UIEvents\"]=[\"keyup\",\"keydown\",\"keypress\"];f.MouseEvents=\"click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\".split(\" \");b(f,function(a,b){if(b.length)for(var c=0,\nd=b.length;c<d;c++)h[b[c]]=a});var g={propertychange:!0},k=w&&function(){for(var a=3,b=w.createElement(\"div\"),c=b.getElementsByTagName(\"i\");b.innerHTML=\"\\x3c!--[if gt IE \"+ ++a+\"]><i></i><![endif]--\\x3e\",c[0];);return 4<a?a:p}();return{mb:[\"authenticity_token\",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},l:function(a,b){if(\"function\"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===\nb)return c;return-1},hb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},ma:function(b,c){var d=a.a.l(b,c);0<d?b.splice(d,1):0===d&&b.shift()},ib:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++)0>a.a.l(c,b[d])&&c.push(b[d]);return c},ya:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},la:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},$:function(a,b){if(b instanceof Array)a.push.apply(a,\nb);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Y:function(b,c,d){var e=a.a.l(a.a.Sa(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},na:e,extend:c,ra:d,sa:e?d:c,A:b,Oa:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Fa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},ec:function(b){b=a.a.R(b);for(var c=w.createElement(\"div\"),d=0,e=b.length;d<e;d++)c.appendChild(a.M(b[d]));return c},lb:function(b,c){for(var d=0,e=b.length,g=[];d<\ne;d++){var k=b[d].cloneNode(!0);g.push(c?a.M(k):k)}return g},U:function(b,c){a.a.Fa(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Bb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],g=e.parentNode,k=0,h=c.length;k<h;k++)g.insertBefore(c[k],e);k=0;for(h=d.length;k<h;k++)a.removeNode(d[k])}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),\nc=c.nextSibling,!c)return;a.push(d)}}return a},Db:function(a,b){7>k?a.setAttribute(\"selected\",b):a.selected=b},ta:function(a){return null===a||a===p?\"\":a.trim?a.trim():a.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},oc:function(b,c){for(var d=[],e=(b||\"\").split(c),g=0,k=e.length;g<k;g++){var h=a.a.ta(e[g]);\"\"!==h&&d.push(h)}return d},kc:function(a,b){a=a||\"\";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===\na.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return!!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(b,c,d){var e=k&&g[c];if(!e&&t)t(b).bind(c,d);else if(e||\"function\"!=typeof b.addEventListener)if(\"undefined\"!=typeof b.attachEvent){var h=function(a){d.call(b,a)},f=\"on\"+c;b.attachEvent(f,\nh);a.a.u.ja(b,function(){b.detachEvent(f,h)})}else throw Error(\"Browser doesn't support addEventListener or attachEvent\");else b.addEventListener(c,d,!1)},ha:function(b,c){if(!b||!b.nodeType)throw Error(\"element must be a DOM node when calling triggerEvent\");var d;\"input\"===a.a.B(b)&&b.type&&\"click\"==c.toLowerCase()?(d=b.type,d=\"checkbox\"==d||\"radio\"==d):d=!1;if(t&&!d)t(b).trigger(c);else if(\"function\"==typeof w.createEvent)if(\"function\"==typeof b.dispatchEvent)d=w.createEvent(h[c]||\"HTMLEvents\"),\nd.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error(\"The supplied element doesn't support dispatchEvent\");else if(d&&b.click)b.click();else if(\"undefined\"!=typeof b.fireEvent)b.fireEvent(\"on\"+c);else throw Error(\"Browser doesn't support triggering events\");},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,c,d){if(c){var e=/\\S+/g,g=b.className.match(e)||[];a.a.r(c.match(e),function(b){a.a.Y(g,b,d)});b.className=g.join(\" \")}},Xa:function(b,\nc){var d=a.a.c(c);if(null===d||d===p)d=\"\";var e=a.e.firstChild(b);!e||3!=e.nodeType||a.e.nextSibling(e)?a.e.U(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=k)try{a.mergeAttributes(w.createElement(\"<input name='\"+a.name+\"'/>\"),!1)}catch(c){}},Vb:function(a){9<=k&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(k){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=\n[],e=b;e<=c;e++)d.push(e);return d},R:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},mc:6===k,nc:7===k,oa:k,ob:function(b,c){for(var d=a.a.R(b.getElementsByTagName(\"input\")).concat(a.a.R(b.getElementsByTagName(\"textarea\"))),e=\"string\"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},g=[],k=d.length-1;0<=k;k--)e(d[k])&&g.push(d[k]);return g},fc:function(b){return\"string\"==typeof b&&(b=a.a.ta(b))?C&&C.parse?C.parse(b):(new Function(\"return \"+b))():\nnull},Ya:function(b,c,d){if(!C||!C.stringify)throw Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");return C.stringify(a.a.c(b),c,d)},gc:function(c,d,e){e=e||{};var g=e.params||{},k=e.includeFields||this.mb,h=c;if(\"object\"==typeof c&&\"form\"===a.a.B(c))for(var h=c.action,f=k.length-1;0<=f;f--)for(var u=a.a.ob(c,k[f]),D=u.length-1;0<=D;D--)g[u[D].name]=\nu[D].value;d=a.a.c(d);var y=w.createElement(\"form\");y.style.display=\"none\";y.action=h;y.method=\"post\";for(var p in d)c=w.createElement(\"input\"),c.name=p,c.value=a.a.Ya(a.a.c(d[p])),y.appendChild(c);b(g,function(a,b){var c=w.createElement(\"input\");c.name=a;c.value=b;y.appendChild(c)});w.body.appendChild(y);e.submitter?e.submitter(y):y.submit();setTimeout(function(){y.parentNode.removeChild(y)},0)}}}();a.b(\"utils\",a.a);a.b(\"utils.arrayForEach\",a.a.r);a.b(\"utils.arrayFirst\",a.a.hb);a.b(\"utils.arrayFilter\",\na.a.la);a.b(\"utils.arrayGetDistinctValues\",a.a.ib);a.b(\"utils.arrayIndexOf\",a.a.l);a.b(\"utils.arrayMap\",a.a.ya);a.b(\"utils.arrayPushAll\",a.a.$);a.b(\"utils.arrayRemoveItem\",a.a.ma);a.b(\"utils.extend\",a.a.extend);a.b(\"utils.fieldsIncludedWithJsonPost\",a.a.mb);a.b(\"utils.getFormFields\",a.a.ob);a.b(\"utils.peekObservable\",a.a.Sa);a.b(\"utils.postJson\",a.a.gc);a.b(\"utils.parseJson\",a.a.fc);a.b(\"utils.registerEventHandler\",a.a.q);a.b(\"utils.stringifyJson\",a.a.Ya);a.b(\"utils.range\",a.a.ic);a.b(\"utils.toggleDomNodeCssClass\",\na.a.ua);a.b(\"utils.triggerEvent\",a.a.ha);a.b(\"utils.unwrapObservable\",a.a.c);a.b(\"utils.objectForEach\",a.a.A);a.b(\"utils.addOrRemoveItem\",a.a.Y);a.b(\"unwrap\",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments);a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(b,h){var g=b[d];if(!g||\"null\"===g||!e[g]){if(!h)return p;g=b[d]=\"ko\"+c++;e[g]={}}return e[g]}\nvar c=0,d=\"__ko__\"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===p?p:e[d]},set:function(c,d,e){if(e!==p||a(c,!1)!==p)a(c,!0)[d]=e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},L:function(){return c++ +d}}};a.b(\"utils.domData\",a.a.f);a.b(\"utils.domData.clear\",a.a.f.clear);a.a.u=new function(){function b(b,c){var e=a.a.f.get(b,d);e===p&&c&&(e=[],a.a.f.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](d);\na.a.f.clear(d);a.a.u.cleanExternalData(d);if(f[d.nodeType])for(e=d.firstChild;d=e;)e=d.nextSibling,8===d.nodeType&&c(d)}var d=a.a.f.L(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ja:function(a,c){if(\"function\"!=typeof c)throw Error(\"Callback must be a function\");b(a,!0).push(c)},Ab:function(c,e){var k=b(c,!1);k&&(a.a.ma(k,e),0==k.length&&a.a.f.set(c,d,p))},M:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.$(d,b.getElementsByTagName(\"*\"));for(var k=0,l=d.length;k<l;k++)c(d[k])}return b},\nremoveNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){t&&\"function\"==typeof t.cleanData&&t.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b(\"cleanNode\",a.M);a.b(\"removeNode\",a.removeNode);a.b(\"utils.domNodeDisposal\",a.a.u);a.b(\"utils.domNodeDisposal.addDisposeCallback\",a.a.u.ja);a.b(\"utils.domNodeDisposal.removeDisposeCallback\",a.a.u.Ab);(function(){a.a.Qa=function(b){var c;if(t)if(t.parseHTML)c=t.parseHTML(b)||[];else{if((c=t.clean([b]))&&\nc[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;)b=b.parentNode;b.parentNode&&b.parentNode.removeChild(b)}}else{var d=a.a.ta(b).toLowerCase();c=w.createElement(\"div\");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,\"<table>\",\"</table>\"]||!d.indexOf(\"<tr\")&&[2,\"<table><tbody>\",\"</tbody></table>\"]||(!d.indexOf(\"<td\")||!d.indexOf(\"<th\"))&&[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"]||[0,\"\",\"\"];b=\"ignored<div>\"+d[1]+b+d[2]+\"</div>\";for(\"function\"==typeof A.innerShiv?c.appendChild(A.innerShiv(b)):\nc.innerHTML=b;d[0]--;)c=c.lastChild;c=a.a.R(c.lastChild.childNodes)}return c};a.a.Va=function(b,c){a.a.Fa(b);c=a.a.c(c);if(null!==c&&c!==p)if(\"string\"!=typeof c&&(c=c.toString()),t)t(b).html(c);else for(var d=a.a.Qa(c),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b(\"utils.parseHtmlFragment\",a.a.Qa);a.b(\"utils.setHtml\",a.a.Va);a.w=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.w.xb(c.nodeValue);null!=f&&e.push({Rb:c,cc:f})}else if(1==c.nodeType)for(var f=0,h=c.childNodes,g=h.length;f<g;f++)b(h[f],\ne)}var c={};return{Na:function(a){if(\"function\"!=typeof a)throw Error(\"You can only pass a function to ko.memoization.memoize()\");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return\"\\x3c!--[ko_memo:\"+b+\"]--\\x3e\"},Hb:function(a,b){var f=c[a];if(f===p)throw Error(\"Couldn't find any memo with ID \"+a+\". Perhaps it's already been unmemoized.\");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,e){var f=\n[];b(c,f);for(var h=0,g=f.length;h<g;h++){var k=f[h].Rb,l=[k];e&&a.a.$(l,e);a.w.Hb(f[h].cc,l);k.nodeValue=\"\";k.parentNode&&k.parentNode.removeChild(k)}},xb:function(a){return(a=a.match(/^\\[ko_memo\\:(.*?)\\]$/))?a[1]:null}}}();a.b(\"memoization\",a.w);a.b(\"memoization.memoize\",a.w.Na);a.b(\"memoization.unmemoize\",a.w.Hb);a.b(\"memoization.parseMemoText\",a.w.xb);a.b(\"memoization.unmemoizeDomNodeAndDescendants\",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);\nd=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,c){var d,e,f;\"number\"==typeof c?d=c:(d=c.timeout,e=c.method);f=\"notifyWhenChangesStop\"==e?O:N;a.Ma(function(a){return f(a,d)})},notify:function(a,c){a.equalityComparer=\"always\"==c?null:G}};var M={undefined:1,\"boolean\":1,number:1,string:1};a.b(\"extenders\",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,\"dispose\",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H=\n{}};var F=\"change\";z={V:function(b,c,d){var e=this;d=d||F;var f=new a.Fb(e,c?b.bind(c):b,function(){a.a.ma(e.H[d],f)});e.o&&e.o();e.H[d]||(e.H[d]=[]);e.H[d].push(f);return f},notifySubscribers:function(b,c){c=c||F;if(this.qb(c))try{a.k.jb();for(var d=this.H[c].slice(0),e=0,f;f=d[e];++e)f.sb||f.za(b)}finally{a.k.end()}},Ma:function(b){var c=this,d=a.v(c),e,f,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&b!==F?\"beforeChange\"===b?c.bb(a):c.ia(a,b):c.cb(a)});var g=b(function(){d&&\nh===c&&(h=c());e=!1;c.Ka(f,h)&&c.ia(f=h)});c.cb=function(a){e=!0;h=a;g()};c.bb=function(a){e||(f=a,c.ia(a,\"beforeChange\"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,d){b+=d.length});return b},Ka:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.A(b,function(b,e){var f=a.Ga[b];\"function\"==typeof f&&(c=f(c,e)||c)});return c}};a.s(z,\"subscribe\",z.V);a.s(z,\"extend\",z.extend);a.s(z,\"getSubscriptionsCount\",\nz.Wb);a.a.na&&a.a.ra(z,Function.prototype);a.N.fn=z;a.tb=function(a){return null!=a&&\"function\"==typeof a.V&&\"function\"==typeof a.notifySubscribers};a.b(\"subscribable\",a.N);a.b(\"isSubscribable\",a.tb);a.ca=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{jb:b,end:c,zb:function(b){if(e){if(!a.tb(b))throw Error(\"Only subscribable things can act as dependencies\");e.za(b,b.Kb||(b.Kb=++f))}},t:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},fa:function(){if(e)return e.ba.fa()},\npa:function(){if(e)return e.pa}}}();a.b(\"computedContext\",a.ca);a.b(\"computedContext.getDependenciesCount\",a.ca.fa);a.b(\"computedContext.isInitial\",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length)return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this;a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,\"beforeChange\")};a.s(c,\"peek\",c.o);a.s(c,\"valueHasMutated\",c.O);a.s(c,\"valueWillMutate\",\nc.P);return c};a.m.fn={equalityComparer:G};var E=a.m.hc=\"__ko_proto__\";a.m.fn[E]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===p||b[E]===p?!1:b[E]===c?!0:a.Ha(b[E],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return\"function\"==typeof b&&b[E]===a.m||\"function\"==typeof b&&b[E]===a.h&&b.Yb?!0:!1};a.b(\"observable\",a.m);a.b(\"isObservable\",a.v);a.b(\"isWriteableObservable\",a.ub);a.T=function(b){b=b||[];if(\"object\"!=typeof b||!(\"length\"in b))throw Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");\nb=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],e=\"function\"!=typeof b||a.v(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var h=c[f];e(h)&&(0===d.length&&this.P(),d.push(h),c.splice(f,1),f--)}d.length&&this.O();return d},removeAll:function(b){if(b===p){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d=\n\"function\"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.O()},destroyAll:function(b){return b===p?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.P(),this.o()[d]=c,this.O())}};a.a.r(\"pop push reverse shift sort splice unshift\".split(\" \"),function(b){a.T.fn[b]=function(){var a=this.o();\nthis.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r([\"slice\"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b(\"observableArray\",a.T);var I=\"arrayChange\";a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var c=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==F||++f;return c.apply(this,arguments)};var k=[].concat(b.o()||[]);e=null;b.V(function(c){c=[].concat(c||[]);if(b.qb(I)){var d;\nif(!e||1<f)e=a.a.Aa(k,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,I)}k=c;e=null;f=0})}}if(!b.kb){var d=!1,e=null,f=0,h=b.V;b.V=b.subscribe=function(a,b,d){d===I&&c();return h.apply(this,arguments)};b.kb=function(b,c,l){function h(a,b,c){return r[r.length]={status:a,value:b,index:c}}if(d&&!f){var r=[],m=b.length,q=l.length,s=0;switch(c){case \"push\":s=m;case \"unshift\":for(c=0;c<q;c++)h(\"added\",l[c],s+c);break;case \"pop\":s=m-1;case \"shift\":m&&h(\"deleted\",b[s],s);break;case \"splice\":c=Math.min(Math.max(0,\n0>l[0]?m+l[0]:l[0]),m);for(var m=1===q?m:Math.min(c+(l[1]||0),m),q=c+q-2,s=Math.max(m,q),B=[],u=[],D=2;c<s;++c,++D)c<m&&u.push(h(\"deleted\",b[c],c)),c<q&&B.push(h(\"added\",l[D],c));a.a.nb(u,B);break;default:return}e=r}}}};a.ba=a.h=function(b,c,d){function e(){q=!0;a.a.A(v,function(a,b){b.F()});v={};x=0;n=!1}function f(){var a=g.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(h,a)):g.wa?g.wa():h()}function h(){if(!r&&!q){if(y&&y()){if(!m){p();return}}else m=!1;r=!0;try{var b=v,d=x;a.k.jb({za:function(a,\nc){q||(d&&b[c]?(v[c]=b[c],++x,delete b[c],--d):v[c]||(v[c]=a.V(f),++x))},ba:g,pa:!x});v={};x=0;try{var e=c?s.call(c):s()}finally{a.k.end(),d&&a.a.A(b,function(a,b){b.F()}),n=!1}g.Ka(l,e)&&(g.notifySubscribers(l,\"beforeChange\"),l=e,g.wa&&!g.throttleEvaluation||g.notifySubscribers(l))}finally{r=!1}x||p()}}function g(){if(0<arguments.length){if(\"function\"===typeof B)B.apply(c,arguments);else throw Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");\nreturn this}n&&h();a.k.zb(g);return l}function k(){return n||0<x}var l,n=!0,r=!1,m=!1,q=!1,s=b;s&&\"object\"==typeof s?(d=s,s=d.read):(d=d||{},s||(s=d.read));if(\"function\"!=typeof s)throw Error(\"Pass a function that returns the value of the ko.computed\");var B=d.write,u=d.disposeWhenNodeIsRemoved||d.G||null,D=d.disposeWhen||d.Da,y=D,p=e,v={},x=0,t=null;c||(c=d.owner);a.N.call(g);a.a.sa(g,a.h.fn);g.o=function(){n&&!x&&h();return l};g.fa=function(){return x};g.Yb=\"function\"===typeof d.write;g.F=function(){p()};\ng.ga=k;var w=g.Ma;g.Ma=function(a){w.call(g,a);g.wa=function(){g.bb(l);n=!0;g.cb(g)}};a.s(g,\"peek\",g.o);a.s(g,\"dispose\",g.F);a.s(g,\"isActive\",g.ga);a.s(g,\"getDependenciesCount\",g.fa);u&&(m=!0,u.nodeType&&(y=function(){return!a.a.Ea(u)||D&&D()}));!0!==d.deferEvaluation&&h();u&&k()&&u.nodeType&&(p=function(){a.a.u.Ab(u,p);e()},a.a.u.ja(u,p));return g};a.$b=function(b){return a.Ha(b,a.h)};z=a.m.hc;a.h[z]=a.m;a.h.fn={equalityComparer:G};a.h.fn[z]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b(\"dependentObservable\",\na.h);a.b(\"computed\",a.h);a.b(\"isComputed\",a.$b);(function(){function b(a,f,h){h=h||new d;a=f(a);if(\"object\"!=typeof a||null===a||a===p||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var g=a instanceof Array?[]:{};h.save(a,g);c(a,function(c){var d=f(a[c]);switch(typeof d){case \"boolean\":case \"number\":case \"string\":case \"function\":g[c]=d;break;case \"object\":case \"undefined\":var n=h.get(d);g[c]=n!==p?n:b(d,f,h)}});return g}function c(a,b){if(a instanceof Array){for(var c=\n0;c<a.length;c++)b(c);\"function\"==typeof a.toJSON&&b(\"toJSON\")}else for(c in a)b(c)}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length)throw Error(\"When calling ko.toJS, pass the object you want to convert.\");return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Gb(b);return a.a.Ya(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.ab[d]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,\nb);return 0<=b?this.ab[b]:p}}})();a.b(\"toJS\",a.Gb);a.b(\"toJSON\",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case \"option\":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode(\"value\")&&b.getAttributeNode(\"value\").specified?b.value:b.text:b.value;case \"select\":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):p;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case \"option\":switch(typeof c){case \"string\":a.a.f.set(b,a.d.options.Pa,\np);\"__ko__hasDomDataOptionValue__\"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value=\"number\"===typeof c?c:\"\"}break;case \"select\":if(\"\"===c||null===c)c=p;for(var e=-1,f=0,h=b.options.length,g;f<h;++f)if(g=a.i.p(b.options[f]),g==c||\"\"==g&&c===p){e=f;break}if(d||0<=e||c===p&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===p)c=\"\";b.value=c}}}})();a.b(\"selectExtensions\",a.i);a.b(\"selectExtensions.readValue\",\na.i.p);a.b(\"selectExtensions.writeValue\",a.i.X);a.g=function(){function b(b){b=a.a.ta(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),g,m,q=0;if(d){d.push(\",\");for(var s=0,B;B=d[s];++s){var u=B.charCodeAt(0);if(44===u){if(0>=q){g&&c.push(m?{key:g,value:m.join(\"\")}:{unknown:g});g=m=q=0;continue}}else if(58===u){if(!m)continue}else if(47===u&&s&&1<B.length)(u=d[s-1].match(f))&&!h[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),d.push(\",\"),s=-1,B=\"/\");else if(40===u||123===u||91===\nu)++q;else if(41===u||125===u||93===u)--q;else if(!g&&!m){g=34===u||39===u?B.slice(1,-1):B;continue}m?m.push(B):m=[B]}}return c}var c=[\"true\",\"false\",\"null\",\"undefined\"],d=/^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i,e=RegExp(\"\\\"(?:[^\\\"\\\\\\\\]|\\\\\\\\.)*\\\"|'(?:[^'\\\\\\\\]|\\\\\\\\.)*'|/(?:[^/\\\\\\\\]|\\\\\\\\.)*/w*|[^\\\\s:,/][^,\\\"'{}()/:[\\\\]]*[^\\\\s,\\\"'{}()/:[\\\\]]|[^\\\\s]\",\"g\"),f=/[\\])\"'A-Za-z0-9_$]+$/,h={\"in\":1,\"return\":1,\"typeof\":1},g={};return{aa:[],W:g,Ra:b,qa:function(e,l){function f(b,e){var l,k=a.getBindingHandler(b);\nif(k&&k.preprocess?e=k.preprocess(e,b,f):1){if(k=g[b])l=e,0<=a.a.l(c,l)?l=!1:(k=l.match(d),l=null===k?!1:k[1]?\"Object(\"+k[1]+\")\"+k[2]:l),k=l;k&&m.push(\"'\"+b+\"':function(_z){\"+l+\"=_z}\");q&&(e=\"function(){return \"+e+\" }\");h.push(\"'\"+b+\"':\"+e)}}l=l||{};var h=[],m=[],q=l.valueAccessors,s=\"string\"===typeof e?b(e):e;a.a.r(s,function(a){f(a.key||a.unknown,a.value)});m.length&&f(\"_ko_property_writers\",\"{\"+m.join(\",\")+\" }\");return h.join(\",\")},bc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;\nreturn!1},va:function(b,c,d,e,g){if(b&&a.v(b))!a.ub(b)||g&&b.o()===e||b(e);else if((b=c.get(\"_ko_property_writers\"))&&b[d])b[d](e)}}}();a.b(\"expressionRewriting\",a.g);a.b(\"expressionRewriting.bindingRewriteValidators\",a.g.aa);a.b(\"expressionRewriting.parseObjectLiteral\",a.g.Ra);a.b(\"expressionRewriting.preProcessBindings\",a.g.qa);a.b(\"expressionRewriting._twoWayBindings\",a.g.W);a.b(\"jsonExpressionRewriting\",a.g);a.b(\"jsonExpressionRewriting.insertPropertyAccessorsIntoJson\",a.g.qa);(function(){function b(a){return 8==\na.nodeType&&h.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,g=1,k=[];e=e.nextSibling;){if(c(e)&&(g--,0===g))return k;k.push(e);b(e)&&g++}if(!d)throw Error(\"Cannot find closing comment tag to match: \"+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&\"\\x3c!--test--\\x3e\"===w.createComment(\"test\").text,h=f?/^\\x3c!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*--\\x3e$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/,\ng=f?/^\\x3c!--\\s*\\/ko\\s*--\\x3e$/:/^\\s*\\/ko\\s*$/,k={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Fa(c)},U:function(c,d){if(b(c)){a.e.da(c);for(var e=c.nextSibling,g=0,k=d.length;g<k;g++)e.parentNode.insertBefore(d[g],e)}else a.a.U(c,d)},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,\nd,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(f?a.text:a.nodeValue).match(h))?a[1]:null},wb:function(d){if(k[a.a.B(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var f;f=g.firstChild;\nvar h=null;if(f){do if(h)h.push(f);else if(b(f)){var q=e(f,!0);q?f=q:h=[f]}else c(f)&&(h=[f]);while(f=f.nextSibling)}if(f=h)for(h=g.nextSibling,q=0;q<f.length;q++)h?d.insertBefore(f[q],h):d.appendChild(f[q])}while(g=g.nextSibling)}}}}})();a.b(\"virtualElements\",a.e);a.b(\"virtualElements.allowedBindings\",a.e.Q);a.b(\"virtualElements.emptyNode\",a.e.da);a.b(\"virtualElements.insertAfter\",a.e.rb);a.b(\"virtualElements.prepend\",a.e.yb);a.b(\"virtualElements.setDomNodeChildren\",a.e.U);(function(){a.J=function(){this.Nb=\n{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute(\"data-bind\");case 8:return a.e.Xb(b);default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a):null},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(\"data-bind\");\ncase 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Nb,h=b+(e&&e.valueAccessors||\"\"),g;if(!(g=f[h])){var k,l=\"with($context){with($data||{}){return{\"+a.g.qa(b,e)+\"}}}\";k=new Function(\"$context\",\"$element\",l);g=f[h]=k}return g(c,d)}catch(n){throw n.message=\"Unable to parse bindings.\\nBindings value: \"+b+\"\\nMessage: \"+n.message,n;}}});a.J.instance=new a.J})();a.b(\"bindingProvider\",a.J);(function(){function b(a){return function(){return a}}function c(a){return a()}\nfunction d(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function e(a,b){return d(this.getBindings.bind(this,a,b))}function f(b,c,d){var e,g=a.e.firstChild(c),k=a.J.instance,f=k.preprocessNode;if(f){for(;e=g;)g=a.e.nextSibling(e),f.call(k,e);g=a.e.firstChild(c)}for(;e=g;)g=a.e.nextSibling(e),h(b,e,d)}function h(b,c,d){var e=!0,g=1===c.nodeType;g&&a.e.wb(c);if(g&&d||a.J.instance.nodeHasBindings(c))e=k(c,null,b,d).shouldBindDescendants;e&&!n[a.a.B(c)]&&f(b,c,!g)}function g(b){var c=\n[],d={},e=[];a.a.A(b,function y(g){if(!d[g]){var k=a.getBindingHandler(g);k&&(k.after&&(e.push(g),a.a.r(k.after,function(c){if(b[c]){if(-1!==a.a.l(e,c))throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \"+e.join(\", \"));y(c)}}),e.length--),c.push({key:g,pb:k}));d[g]=!0}});return c}function k(b,d,k,f){var h=a.a.f.get(b,r);if(!d){if(h)throw Error(\"You cannot apply bindings multiple times to the same element.\");a.a.f.set(b,r,!0)}!h&&f&&a.Eb(b,k);var l;if(d&&\"function\"!==\ntypeof d)l=d;else{var n=a.J.instance,m=n.getBindingAccessors||e,x=a.h(function(){(l=d?d(k,b):m.call(n,b,k))&&k.D&&k.D();return l},null,{G:b});l&&x.ga()||(x=null)}var t;if(l){var w=x?function(a){return function(){return c(x()[a])}}:function(a){return l[a]},z=function(){return a.a.Oa(x?x():l,c)};z.get=function(a){return l[a]&&c(w(a))};z.has=function(a){return a in l};f=g(l);a.a.r(f,function(c){var d=c.pb.init,e=c.pb.update,g=c.key;if(8===b.nodeType&&!a.e.Q[g])throw Error(\"The binding '\"+g+\"' cannot be used with virtual elements\");\ntry{\"function\"==typeof d&&a.k.t(function(){var a=d(b,w(g),z,k.$data,k);if(a&&a.controlsDescendantBindings){if(t!==p)throw Error(\"Multiple bindings (\"+t+\" and \"+g+\") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");t=g}}),\"function\"==typeof e&&a.h(function(){e(b,w(g),z,k.$data,k)},null,{G:b})}catch(f){throw f.message='Unable to process binding \"'+g+\": \"+l[g]+'\"\\nMessage: '+f.message,f;}})}return{shouldBindDescendants:t===p}}\nfunction l(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var n={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,d,e){var g=this,k=\"function\"==typeof b&&!a.v(b),f,h=a.h(function(){var f=k?b():b,l=a.a.c(f);c?(c.D&&c.D(),a.a.extend(g,c),h&&(g.D=h)):(g.$parents=[],g.$root=l,g.ko=a);g.$rawData=f;g.$data=l;d&&(g[d]=l);e&&e(g,c,l);return g.$data},null,{Da:function(){return f&&!a.a.eb(f)},G:!0});h.ga()&&(g.D=h,h.equalityComparer=null,f=[],h.Jb=function(b){f.push(b);a.a.u.ja(b,\nfunction(b){a.a.ma(f,b);f.length||(h.F(),g.D=h=p)})})};a.I.prototype.createChildContext=function(b,c,d){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,\"function\"==typeof b?b():b)})};var r=a.a.f.L(),m=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length)a.a.f.set(b,m,c),\nc.D&&c.D.Jb(b);else return a.a.f.get(b,m)};a.xa=function(b,c,d){1===b.nodeType&&a.e.wb(b);return k(b,c,l(d),!0)};a.Lb=function(c,e,g){g=l(g);return a.xa(c,\"function\"===typeof e?d(e.bind(null,g,c)):a.a.Oa(e,b),g)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||f(l(a),b,!0)};a.fb=function(a,b){!t&&A.jQuery&&(t=A.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");b=b||A.document.body;h(l(a),\nb,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c)return c;if(b.parentNode)return a.Ca(b.parentNode)}return p};a.Pb=function(b){return(b=a.Ca(b))?b.$data:p};a.b(\"bindingHandlers\",a.d);a.b(\"applyBindings\",a.fb);a.b(\"applyBindingsToDescendants\",a.gb);a.b(\"applyBindingAccessorsToNode\",a.xa);a.b(\"applyBindingsToNode\",a.Lb);a.b(\"contextFor\",a.Ca);a.b(\"dataFor\",a.Pb)})();var L={\"class\":\"className\",\"for\":\"htmlFor\"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,\nd){d=a.a.c(d);var h=!1===d||null===d||d===p;h&&b.removeAttribute(c);8>=a.a.oa&&c in L?(c=L[c],h?b.removeAttribute(c):b[c]=d):h||b.setAttribute(c,d.toString());\"name\"===c&&a.a.Cb(b,h?\"\":d.toString())})}};(function(){a.d.checked={after:[\"value\",\"attr\"],init:function(b,c,d){function e(){return d.has(\"checkedValue\")?a.a.c(d.get(\"checkedValue\")):b.value}function f(){var g=b.checked,f=r?e():g;if(!a.ca.pa()&&(!k||g)){var h=a.k.t(c);l?n!==f?(g&&(a.a.Y(h,f,!0),a.a.Y(h,n,!1)),n=f):a.a.Y(h,f,g):a.g.va(h,d,\"checked\",\nf,!0)}}function h(){var d=a.a.c(c());b.checked=l?0<=a.a.l(d,e()):g?d:e()===d}var g=\"checkbox\"==b.type,k=\"radio\"==b.type;if(g||k){var l=g&&a.a.c(c())instanceof Array,n=l?e():p,r=k||l;k&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.ba(f,null,{G:b});a.a.q(b,\"click\",f);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());\"object\"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||\n\"\"),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute(\"disabled\"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var h=c()||{};a.a.A(h,function(g){\"string\"==typeof g&&a.a.q(b,g,function(b){var h,n=c()[g];if(n){try{var r=a.a.R(arguments);e=f.$data;r.unshift(e);h=n.apply(e,r)}finally{!0!==h&&(b.preventDefault?\nb.preventDefault():b.returnValue=!1)}!1===d.get(g+\"Bubble\")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||\"number\"==typeof d.length)return{foreach:c,templateEngine:a.K.Ja};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,\nc){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.vb(c),d,e,f)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var k=b.ownerDocument;if(\"activeElement\"in k){var f;try{f=k.activeElement}catch(h){f=k.body}e=f===b}k=c();a.g.va(k,d,\"hasfocus\",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),h=e.bind(null,!1);a.a.q(b,\"focus\",f);a.a.q(b,\"focusin\",\nf);a.a.q(b,\"blur\",h);a.a.q(b,\"focusout\",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?\"focusin\":\"focusout\"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};H(\"if\");H(\"ifnot\",!1,!0);H(\"with\",!0,!1,function(a,c){return a.createChildContext(c)});var J={};a.d.options={init:function(b){if(\"select\"!==\na.a.B(b))throw Error(\"options binding applies only to SELECT elements\");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.la(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return\"function\"==d?b(a):\"string\"==d?a[b]:c}function h(c,d){if(r.length){var e=0<=a.a.l(r,a.i.p(d[0]));a.a.Db(d[0],e);m&&!e&&a.k.t(a.a.ha,null,[b,\"change\"])}}var g=0!=b.length&&b.multiple?b.scrollTop:null,k=a.a.c(c()),l=d.get(\"optionsIncludeDestroyed\");\nc={};var n,r;r=b.multiple?a.a.ya(e(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];k&&(\"undefined\"==typeof k.length&&(k=[k]),n=a.a.la(k,function(b){return l||b===p||null===b||!a.a.c(b._destroy)}),d.has(\"optionsCaption\")&&(k=a.a.c(d.get(\"optionsCaption\")),null!==k&&k!==p&&n.unshift(J)));var m=!1;c.beforeRemove=function(a){b.removeChild(a)};k=h;d.has(\"optionsAfterRender\")&&(k=function(b,c){h(0,c);a.k.t(d.get(\"optionsAfterRender\"),null,[c[0],b!==J?b:p])});a.a.Ua(b,n,function(c,e,g){g.length&&\n(r=g[0].selected?[a.i.p(g[0])]:[],m=!0);e=b.ownerDocument.createElement(\"option\");c===J?(a.a.Xa(e,d.get(\"optionsCaption\")),a.i.X(e,p)):(g=f(c,d.get(\"optionsValue\"),c),a.i.X(e,a.a.c(g)),c=f(c,d.get(\"optionsText\"),g),a.a.Xa(e,c));return[e]},c,k);a.k.t(function(){d.get(\"valueAllowUnset\")&&d.has(\"value\")?a.i.X(b,a.a.c(d.get(\"value\")),!0):(b.multiple?r.length&&e().length<r.length:r.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==r[0]:r.length||0<=b.selectedIndex)&&a.a.ha(b,\"change\")});a.a.Tb(b);\ng&&20<Math.abs(g-b.scrollTop)&&(b.scrollTop=g)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:[\"options\",\"foreach\"],init:function(b,c,d){a.a.q(b,\"change\",function(){var e=c(),f=[];a.a.r(b.getElementsByTagName(\"option\"),function(b){b.selected&&f.push(a.i.p(b))});a.g.va(e,d,\"selectedOptions\",f)})},update:function(b,c){if(\"select\"!=a.a.B(b))throw Error(\"values binding applies only to SELECT elements\");var d=a.a.c(c());d&&\"number\"==typeof d.length&&a.a.r(b.getElementsByTagName(\"option\"),function(b){var c=\n0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||\"\"})}};a.d.submit={init:function(b,c,d,e,f){if(\"function\"!=typeof c())throw Error(\"The value for a submit binding must be a function\");a.a.q(b,\"submit\",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},\nupdate:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d=\"ko_unique_\"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:[\"options\",\"foreach\"],init:function(b,c,d){function e(){g=!1;var e=c(),f=a.i.p(b);a.g.va(e,d,\"value\",f)}var f=[\"change\"],h=d.get(\"valueUpdate\"),g=!1;h&&(\"string\"==typeof h&&(h=[h]),a.a.$(f,h),f=a.a.ib(f));!a.a.oa||\"input\"!=b.tagName.toLowerCase()||\"text\"!=b.type||\"off\"==b.autocomplete||b.form&&\"off\"==b.form.autocomplete||\n-1!=a.a.l(f,\"propertychange\")||(a.a.q(b,\"propertychange\",function(){g=!0}),a.a.q(b,\"focus\",function(){g=!1}),a.a.q(b,\"blur\",function(){g&&e()}));a.a.r(f,function(c){var d=e;a.a.kc(c,\"after\")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var e=a.a.c(c());c=a.i.p(b);if(e!==c)if(\"select\"===a.a.B(b)){var f=d.get(\"valueAllowUnset\");d=function(){a.i.X(b,e,f)};d();f||e===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,\"change\"])}else a.i.X(b,e)}};a.g.W.value=!0;a.d.visible=\n{update:function(b,c){var d=a.a.c(c()),e=\"none\"!=b.style.display;d&&!e?b.style.display=\"\":!d&&e&&(b.style.display=\"none\")}};(function(b){a.d[b]={init:function(c,d,e,f,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,h)}}})(\"click\");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error(\"Override renderTemplateSource\");};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error(\"Override createJavaScriptEvaluatorBlock\");};a.C.prototype.makeTemplateSource=\nfunction(b,c){if(\"string\"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error(\"Cannot find template with ID \"+b);return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.n.Z(b);throw Error(\"Unknown template type: \"+b);};a.C.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d)};a.C.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data(\"isRewritten\")};a.C.prototype.rewriteTemplate=\nfunction(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data(\"isRewritten\",!0)};a.b(\"templateEngine\",a.C);a.Za=function(){function b(b,c,d,g){b=a.g.Ra(b);for(var k=a.g.aa,l=0;l<b.length;l++){var n=b[l].key;if(k.hasOwnProperty(n)){var r=k[n];if(\"function\"===typeof r){if(n=r(b[l].value))throw Error(n);}else if(!r)throw Error(\"This template engine does not support the '\"+n+\"' binding within its templates\");}}d=\"ko.__tr_ambtns(function($context,$element){return(function(){return{ \"+a.g.qa(b,\n{valueAccessors:!0})+\" } })()},'\"+d.toLowerCase()+\"')\";return g.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi,d=/\\x3c!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*--\\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,f){return a.replace(c,function(a,c,d,e,n){return b(n,c,d,f)}).replace(d,function(a,c){return b(c,\"\\x3c!-- ko --\\x3e\",\n\"#comment\",f)})},Mb:function(b,c){return a.w.Na(function(d,g){var k=d.nextSibling;k&&k.nodeName.toLowerCase()===c&&a.xa(k,b,g)})}}}();a.b(\"__tr_ambtns\",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b=\"script\"===b?\"text\":\"textarea\"===b?\"value\":\"innerHTML\";if(0==arguments.length)return this.j[b];var c=arguments[0];\"innerHTML\"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+\"_\";a.n.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,\nb+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===p&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,c)||{}).Ba;a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b(\"templateSources\",a.n);a.b(\"templateSources.domElement\",a.n.j);a.b(\"templateSources.anonymousTemplate\",\na.n.Z)})();(function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;)b=a.e.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],h=e.parentNode,m=a.J.instance,q=m.preprocessNode;if(q){b(e,f,function(a,b){var c=a.previousSibling,d=q.call(m,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):(c.push(e,f),a.a.ea(c,h))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==\nb.nodeType||a.w.Ib(b,[d])});a.a.ea(c,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,h,n,r){r=r||{};var m=b&&d(b),m=m&&m.ownerDocument,q=r.templateEngine||f;a.Za.Ub(h,q,m);h=q.renderTemplate(h,n,r,m);if(\"number\"!=typeof h.length||0<h.length&&\"number\"!=typeof h[0].nodeType)throw Error(\"Template engine must return an array of DOM nodes\");m=!1;switch(e){case \"replaceChildren\":a.e.U(b,h);m=!0;break;case \"replaceNode\":a.a.Bb(b,h);m=!0;break;case \"ignoreTargetNode\":break;default:throw Error(\"Unknown renderMode: \"+\ne);}m&&(c(h,n),r.afterRender&&a.k.t(r.afterRender,null,[h,n.$data]));return h}var f;a.Wa=function(b){if(b!=p&&!(b instanceof a.C))throw Error(\"templateEngine must inherit from ko.templateEngine\");f=b};a.Ta=function(b,c,h,n,r){h=h||{};if((h.templateEngine||f)==p)throw Error(\"Set a template engine before calling renderTemplate\");r=r||\"replaceChildren\";if(n){var m=d(n);return a.h(function(){var f=c&&c instanceof a.I?c:new a.I(a.a.c(c)),p=a.v(b)?b():\"function\"==typeof b?b(f.$data,f):b,f=e(n,r,p,f,h);\n\"replaceNode\"==r&&(n=f,m=d(n))},null,{Da:function(){return!m||!a.a.Ea(m)},G:m&&\"replaceNode\"==r?m.parentNode:m})}return a.w.Na(function(d){a.Ta(b,c,h,d,\"replaceNode\")})};a.jc=function(b,d,f,h,r){function m(a,b){c(b,s);f.afterRender&&f.afterRender(b,a)}function q(a,c){s=r.createChildContext(a,f.as,function(a){a.$index=c});var d=\"function\"==typeof b?b(a,s):b;return e(null,\"ignoreTargetNode\",d,s,f)}var s;return a.h(function(){var b=a.a.c(d)||[];\"undefined\"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return f.includeDestroyed||\nb===p||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[h,b,q,f,m])},null,{G:h})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());\"string\"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var m=c(),q;c=a.a.c(m);d=!0;e=null;\"string\"==typeof c?c={}:(m=c.name,\"if\"in c&&(d=a.a.c(c[\"if\"])),d&&\"ifnot\"in c&&(d=!a.a.c(c.ifnot)),q=a.a.c(c.data));\"foreach\"in c?e=a.jc(m||b,d&&c.foreach||\n[],c,b,f):d?(f=\"data\"in c?f.createChildContext(q,c.as):f,e=a.Ta(m||b,f,c,b)):a.e.da(b);f=e;(q=a.a.f.get(b,h))&&\"function\"==typeof q.F&&q.F();a.a.f.set(b,h,f&&f.ga()?f:p)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,\"name\")?null:\"This template engine does not support anonymous templates nested within its templates\"};a.e.Q.template=!0})();a.b(\"setTemplateEngine\",a.Wa);a.b(\"renderTemplate\",a.Ta);a.a.nb=function(a,c,d){if(a.length&&c.length){var e,f,h,g,k;for(e=\nf=0;(!d||e<d)&&(g=a[f]);++f){for(h=0;k=c[h];++h)if(g.value===k.value){g.moved=k.index;k.moved=g.index;c.splice(h,1);e=h=0;break}e+=h}}};a.a.Aa=function(){function b(b,d,e,f,h){var g=Math.min,k=Math.max,l=[],n,p=b.length,m,q=d.length,s=q-p||1,t=p+q+1,u,w,y;for(n=0;n<=p;n++)for(w=u,l.push(u=[]),y=g(q,n+s),m=k(0,n-1);m<=y;m++)u[m]=m?n?b[n-1]===d[m-1]?w[m-1]:g(w[m]||t,u[m-1]||t)+1:m+1:n+1;g=[];k=[];s=[];n=p;for(m=q;n||m;)q=l[n][m]-1,m&&q===l[n][m-1]?k.push(g[g.length]={status:e,value:d[--m],index:m}):\nn&&q===l[n-1][m]?s.push(g[g.length]={status:f,value:b[--n],index:n}):(--m,--n,h.sparse||g.push({status:\"retained\",value:d[m]}));a.a.nb(k,s,10*p);return g.reverse()}return function(a,d,e){e=\"boolean\"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<=d.length?b(a,d,\"added\",\"deleted\",e):b(d,a,\"deleted\",\"added\",e)}}();a.b(\"utils.compareArrays\",a.a.Aa);(function(){function b(b,c,f,h,g){var k=[],l=a.h(function(){var l=c(f,g,a.a.ea(k,b))||[];0<k.length&&(a.a.Bb(k,l),h&&a.k.t(h,null,[f,\nl,g]));k.length=0;a.a.$(k,l)},null,{G:b,Da:function(){return!a.a.eb(k)}});return{S:k,h:l.ga()?l:p}}var c=a.a.f.L();a.a.Ua=function(d,e,f,h,g){function k(b,c){v=r[c];u!==c&&(z[b]=v);v.Ia(u++);a.a.ea(v.S,d);s.push(v);y.push(v)}function l(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}e=e||[];h=h||{};var n=a.a.f.get(d,c)===p,r=a.a.f.get(d,c)||[],m=a.a.ya(r,function(a){return a.ka}),q=a.a.Aa(m,e,h.dontLimitMoves),s=[],t=0,u=0,w=[],y=[];e=[];for(var z=[],m=[],\nv,x=0,A,C;A=q[x];x++)switch(C=A.moved,A.status){case \"deleted\":C===p&&(v=r[t],v.h&&v.h.F(),w.push.apply(w,a.a.ea(v.S,d)),h.beforeRemove&&(e[x]=v,y.push(v)));t++;break;case \"retained\":k(x,t++);break;case \"added\":C!==p?k(x,C):(v={ka:A.value,Ia:a.m(u++)},s.push(v),y.push(v),n||(m[x]=v))}l(h.beforeMove,z);a.a.r(w,h.beforeRemove?a.M:a.removeNode);for(var x=0,n=a.e.firstChild(d),E;v=y[x];x++){v.S||a.a.extend(v,b(d,f,v.ka,g,v.Ia));for(t=0;q=v.S[t];n=q.nextSibling,E=q,t++)q!==n&&a.e.rb(d,q,E);!v.Zb&&g&&(g(v.ka,\nv.S,v.Ia),v.Zb=!0)}l(h.beforeRemove,e);l(h.afterMove,z);l(h.afterAdd,m);a.a.f.set(d,c,s)}})();a.b(\"utils.setDomNodeChildrenFromArrayMapping\",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c)return a.a.R(c.cloneNode(!0).childNodes);b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b(\"nativeTemplateEngine\",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!t||\n!t.tmpl)return 0;try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf(\"__\"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f){f=f||{};if(2>a)throw Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");var h=b.data(\"precompiled\");h||(h=b.text()||\"\",h=t.template(null,\"{{ko_with $item.koBindingContext}}\"+h+\"{{/ko_with}}\"),b.data(\"precompiled\",h));b=[e.$data];e=t.extend({koBindingContext:e},f.templateOptions);e=t.tmpl(h,b,e);e.appendTo(w.createElement(\"div\"));\nt.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return\"{{ko_code ((function() { return \"+a+\" })()) }}\"};this.addTemplate=function(a,b){w.write(\"<script type='text/html' id='\"+a+\"'>\"+b+\"\\x3c/script>\")};0<a&&(t.tmpl.tag.ko_code={open:\"__.push($1 || '');\"},t.tmpl.tag.ko_with={open:\"with($1) {\",close:\"} \"})};a.La.prototype=new a.C;var b=new a.La;0<b.ac&&a.Wa(b);a.b(\"jqueryTmplTemplateEngine\",a.La)})()})})();})();\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The binder joins an object instance and a DOM element tree by applying databinding and/or invoking binding lifecycle callbacks (binding and bindingComplete).\n * @module binder\n * @requires system\n * @requires knockout\n */\ndefine('durandal/binder',['durandal/system', 'knockout'], function (system, ko) {\n    var binder,\n        insufficientInfoMessage = 'Insufficient Information to Bind',\n        unexpectedViewMessage = 'Unexpected View Type',\n        bindingInstructionKey = 'durandal-binding-instruction',\n        koBindingContextKey = '__ko_bindingContext__';\n\n    function normalizeBindingInstruction(result){\n        if(result === undefined){\n            return { applyBindings: true };\n        }\n\n        if(system.isBoolean(result)){\n            return { applyBindings:result };\n        }\n\n        if(result.applyBindings === undefined){\n            result.applyBindings = true;\n        }\n\n        return result;\n    }\n\n    function doBind(obj, view, bindingTarget, data){\n        if (!view || !bindingTarget) {\n            if (binder.throwOnErrors) {\n                system.error(insufficientInfoMessage);\n            } else {\n                system.log(insufficientInfoMessage, view, data);\n            }\n            return;\n        }\n\n        if (!view.getAttribute) {\n            if (binder.throwOnErrors) {\n                system.error(unexpectedViewMessage);\n            } else {\n                system.log(unexpectedViewMessage, view, data);\n            }\n            return;\n        }\n\n        var viewName = view.getAttribute('data-view');\n\n        try {\n            var instruction;\n\n            if (obj && obj.binding) {\n                instruction = obj.binding(view);\n            }\n\n            instruction = normalizeBindingInstruction(instruction);\n            binder.binding(data, view, instruction);\n\n            if(instruction.applyBindings){\n                system.log('Binding', viewName, data);\n                ko.applyBindings(bindingTarget, view);\n            }else if(obj){\n                ko.utils.domData.set(view, koBindingContextKey, { $data:obj });\n            }\n\n            binder.bindingComplete(data, view, instruction);\n\n            if (obj && obj.bindingComplete) {\n                obj.bindingComplete(view);\n            }\n\n            ko.utils.domData.set(view, bindingInstructionKey, instruction);\n            return instruction;\n        } catch (e) {\n            e.message = e.message + ';\\nView: ' + viewName + \";\\nModuleId: \" + system.getModuleId(data);\n            if (binder.throwOnErrors) {\n                system.error(e);\n            } else {\n                system.log(e.message);\n            }\n        }\n    }\n\n    /**\n     * @class BinderModule\n     * @static\n     */\n    return binder = {\n        /**\n         * Called before every binding operation. Does nothing by default.\n         * @method binding\n         * @param {object} data The data that is about to be bound.\n         * @param {DOMElement} view The view that is about to be bound.\n         * @param {object} instruction The object that carries the binding instructions.\n         */\n        binding: system.noop,\n        /**\n         * Called after every binding operation. Does nothing by default.\n         * @method bindingComplete\n         * @param {object} data The data that has just been bound.\n         * @param {DOMElement} view The view that has just been bound.\n         * @param {object} instruction The object that carries the binding instructions.\n         */\n        bindingComplete: system.noop,\n        /**\n         * Indicates whether or not the binding system should throw errors or not.\n         * @property {boolean} throwOnErrors\n         * @default false The binding system will not throw errors by default. Instead it will log them.\n         */\n        throwOnErrors: false,\n        /**\n         * Gets the binding instruction that was associated with a view when it was bound.\n         * @method getBindingInstruction\n         * @param {DOMElement} view The view that was previously bound.\n         * @return {object} The object that carries the binding instructions.\n         */\n        getBindingInstruction:function(view){\n            return ko.utils.domData.get(view, bindingInstructionKey);\n        },\n        /**\n         * Binds the view, preserving the existing binding context. Optionally, a new context can be created, parented to the previous context.\n         * @method bindContext\n         * @param {KnockoutBindingContext} bindingContext The current binding context.\n         * @param {DOMElement} view The view to bind.\n         * @param {object} [obj] The data to bind to, causing the creation of a child binding context if present.\n         * @param {string} [dataAlias] An alias for $data if present.\n         */\n        bindContext: function(bindingContext, view, obj, dataAlias) {\n            if (obj && bindingContext) {\n                bindingContext = bindingContext.createChildContext(obj, typeof(dataAlias) === 'string' ? dataAlias : null);\n            }\n\n            return doBind(obj, view, bindingContext, obj || (bindingContext ? bindingContext.$data : null));\n        },\n        /**\n         * Binds the view, preserving the existing binding context. Optionally, a new context can be created, parented to the previous context.\n         * @method bind\n         * @param {object} obj The data to bind to.\n         * @param {DOMElement} view The view to bind.\n         */\n        bind: function(obj, view) {\n            return doBind(obj, view, obj, obj);\n        }\n    };\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The activator module encapsulates all logic related to screen/component activation.\n * An activator is essentially an asynchronous state machine that understands a particular state transition protocol.\n * The protocol ensures that the following series of events always occur: `canDeactivate` (previous state), `canActivate` (new state), `deactivate` (previous state), `activate` (new state).\n * Each of the _can_ callbacks may return a boolean, affirmative value or promise for one of those. If either of the _can_ functions yields a false result, then activation halts.\n * @module activator\n * @requires system\n * @requires knockout\n */\ndefine('durandal/activator',['durandal/system', 'knockout'], function (system, ko) {\n    var activator;\n    var defaultOptions = {\n        canDeactivate:true\n    };\n\n    function ensureSettings(settings) {\n        if (settings == undefined) {\n            settings = {};\n        }\n\n        if (!system.isBoolean(settings.closeOnDeactivate)) {\n            settings.closeOnDeactivate = activator.defaults.closeOnDeactivate;\n        }\n\n        if (!settings.beforeActivate) {\n            settings.beforeActivate = activator.defaults.beforeActivate;\n        }\n\n        if (!settings.afterDeactivate) {\n            settings.afterDeactivate = activator.defaults.afterDeactivate;\n        }\n\n        if(!settings.affirmations){\n            settings.affirmations = activator.defaults.affirmations;\n        }\n\n        if (!settings.interpretResponse) {\n            settings.interpretResponse = activator.defaults.interpretResponse;\n        }\n\n        if (!settings.areSameItem) {\n            settings.areSameItem = activator.defaults.areSameItem;\n        }\n\n        if (!settings.findChildActivator) {\n            settings.findChildActivator = activator.defaults.findChildActivator;\n        }\n\n        return settings;\n    }\n\n    function invoke(target, method, data) {\n        if (system.isArray(data)) {\n            return target[method].apply(target, data);\n        }\n\n        return target[method](data);\n    }\n\n    function deactivate(item, close, settings, dfd, setter) {\n        if (item && item.deactivate) {\n            system.log('Deactivating', item);\n\n            var result;\n            try {\n                result = item.deactivate(close);\n            } catch(error) {\n                system.log('ERROR: ' + error.message, error);\n                dfd.resolve(false);\n                return;\n            }\n\n            if (result && result.then) {\n                result.then(function() {\n                    settings.afterDeactivate(item, close, setter);\n                    dfd.resolve(true);\n                }, function(reason) {\n                    system.log(reason);\n                    dfd.resolve(false);\n                });\n            } else {\n                settings.afterDeactivate(item, close, setter);\n                dfd.resolve(true);\n            }\n        } else {\n            if (item) {\n                settings.afterDeactivate(item, close, setter);\n            }\n\n            dfd.resolve(true);\n        }\n    }\n\n    function activate(newItem, activeItem, callback, activationData) {\n        var result;\n\n        if(newItem && newItem.activate) {\n            system.log('Activating', newItem);\n\n            try {\n                result = invoke(newItem, 'activate', activationData);\n            } catch(error) {\n                system.log('ERROR: ' + error.message, error);\n                callback(false);\n                return;\n            }\n        }\n\n        if(result && result.then) {\n            result.then(function() {\n                activeItem(newItem);\n                callback(true);\n            }, function(reason) {\n                system.log('ERROR: ' + reason.message, reason);\n                callback(false);\n            });\n        } else {\n            activeItem(newItem);\n            callback(true);\n        }\n    }\n\n    function canDeactivateItem(item, close, settings, options) {\n        options = system.extend({}, defaultOptions, options);\n        settings.lifecycleData = null;\n\n        return system.defer(function (dfd) {\n            function continueCanDeactivate() {\n                if (item && item.canDeactivate && options.canDeactivate) {\n                    var resultOrPromise;\n                    try {\n                        resultOrPromise = item.canDeactivate(close);\n                    } catch (error) {\n                        system.log('ERROR: ' + error.message, error);\n                        dfd.resolve(false);\n                        return;\n                    }\n\n                    if (resultOrPromise.then) {\n                        resultOrPromise.then(function (result) {\n                            settings.lifecycleData = result;\n                            dfd.resolve(settings.interpretResponse(result));\n                        }, function (reason) {\n                            system.log('ERROR: ' + reason.message, reason);\n                            dfd.resolve(false);\n                        });\n                    } else {\n                        settings.lifecycleData = resultOrPromise;\n                        dfd.resolve(settings.interpretResponse(resultOrPromise));\n                    }\n                } else {\n                    dfd.resolve(true);\n                }\n            }\n\n            var childActivator = settings.findChildActivator(item);\n            if (childActivator) {\n                childActivator.canDeactivate().then(function(result) {\n                    if (result) {\n                        continueCanDeactivate();\n                    } else {\n                        dfd.resolve(false);\n                    }\n                });\n            } else {\n                continueCanDeactivate();\n            }\n        }).promise();\n    };\n\n    function canActivateItem(newItem, activeItem, settings, activeData, newActivationData) {\n        settings.lifecycleData = null;\n\n        return system.defer(function (dfd) {\n            if (settings.areSameItem(activeItem(), newItem, activeData, newActivationData)) {\n                dfd.resolve(true);\n                return;\n            }\n\n            if (newItem && newItem.canActivate) {\n                var resultOrPromise;\n                try {\n                    resultOrPromise = invoke(newItem, 'canActivate', newActivationData);\n                } catch (error) {\n                    system.log('ERROR: ' + error.message, error);\n                    dfd.resolve(false);\n                    return;\n                }\n\n                if (resultOrPromise.then) {\n                    resultOrPromise.then(function(result) {\n                        settings.lifecycleData = result;\n                        dfd.resolve(settings.interpretResponse(result));\n                    }, function(reason) {\n                        system.log('ERROR: ' + reason.message, reason);\n                        dfd.resolve(false);\n                    });\n                } else {\n                    settings.lifecycleData = resultOrPromise;\n                    dfd.resolve(settings.interpretResponse(resultOrPromise));\n                }\n            } else {\n                dfd.resolve(true);\n            }\n        }).promise();\n    };\n\n    /**\n     * An activator is a read/write computed observable that enforces the activation lifecycle whenever changing values.\n     * @class Activator\n     */\n    function createActivator(initialActiveItem, settings) {\n        var activeItem = ko.observable(null);\n        var activeData;\n\n        settings = ensureSettings(settings);\n\n        var computed = ko.computed({\n            read: function () {\n                return activeItem();\n            },\n            write: function (newValue) {\n                computed.viaSetter = true;\n                computed.activateItem(newValue);\n            }\n        });\n\n        computed.__activator__ = true;\n\n        /**\n         * The settings for this activator.\n         * @property {ActivatorSettings} settings\n         */\n        computed.settings = settings;\n        settings.activator = computed;\n\n        /**\n         * An observable which indicates whether or not the activator is currently in the process of activating an instance.\n         * @method isActivating\n         * @return {boolean}\n         */\n        computed.isActivating = ko.observable(false);\n\n        computed.forceActiveItem = function (item) {\n            activeItem(item);\n        };\n\n        /**\n         * Determines whether or not the specified item can be deactivated.\n         * @method canDeactivateItem\n         * @param {object} item The item to check.\n         * @param {boolean} close Whether or not to check if close is possible.\n         * @param {object} options Options for controlling the activation process.\n         * @return {promise}\n         */\n        computed.canDeactivateItem = function (item, close, options) {\n            return canDeactivateItem(item, close, settings, options);\n        };\n\n        /**\n         * Deactivates the specified item.\n         * @method deactivateItem\n         * @param {object} item The item to deactivate.\n         * @param {boolean} close Whether or not to close the item.\n         * @return {promise}\n         */\n        computed.deactivateItem = function (item, close) {\n            return system.defer(function(dfd) {\n                computed.canDeactivateItem(item, close).then(function(canDeactivate) {\n                    if (canDeactivate) {\n                        deactivate(item, close, settings, dfd, activeItem);\n                    } else {\n                        computed.notifySubscribers();\n                        dfd.resolve(false);\n                    }\n                });\n            }).promise();\n        };\n\n        /**\n         * Determines whether or not the specified item can be activated.\n         * @method canActivateItem\n         * @param {object} item The item to check.\n         * @param {object} activationData Data associated with the activation.\n         * @return {promise}\n         */\n        computed.canActivateItem = function (newItem, activationData) {\n            return canActivateItem(newItem, activeItem, settings, activeData, activationData);\n        };\n\n        /**\n         * Activates the specified item.\n         * @method activateItem\n         * @param {object} newItem The item to activate.\n         * @param {object} newActivationData Data associated with the activation.\n         * @param {object} options Options for controlling the activation process.\n         * @return {promise}\n         */\n        computed.activateItem = function (newItem, newActivationData, options) {\n            var viaSetter = computed.viaSetter;\n            computed.viaSetter = false;\n\n            return system.defer(function (dfd) {\n                if (computed.isActivating()) {\n                    dfd.resolve(false);\n                    return;\n                }\n\n                computed.isActivating(true);\n\n                var currentItem = activeItem();\n                if (settings.areSameItem(currentItem, newItem, activeData, newActivationData)) {\n                    computed.isActivating(false);\n                    dfd.resolve(true);\n                    return;\n                }\n\n                computed.canDeactivateItem(currentItem, settings.closeOnDeactivate, options).then(function (canDeactivate) {\n                    if (canDeactivate) {\n                        computed.canActivateItem(newItem, newActivationData).then(function (canActivate) {\n                            if (canActivate) {\n                                system.defer(function (dfd2) {\n                                    deactivate(currentItem, settings.closeOnDeactivate, settings, dfd2);\n                                }).promise().then(function () {\n                                        newItem = settings.beforeActivate(newItem, newActivationData);\n                                        activate(newItem, activeItem, function (result) {\n                                            activeData = newActivationData;\n                                            computed.isActivating(false);\n                                            dfd.resolve(result);\n                                        }, newActivationData);\n                                    });\n                            } else {\n                                if (viaSetter) {\n                                    computed.notifySubscribers();\n                                }\n\n                                computed.isActivating(false);\n                                dfd.resolve(false);\n                            }\n                        });\n                    } else {\n                        if (viaSetter) {\n                            computed.notifySubscribers();\n                        }\n\n                        computed.isActivating(false);\n                        dfd.resolve(false);\n                    }\n                });\n            }).promise();\n        };\n\n        /**\n         * Determines whether or not the activator, in its current state, can be activated.\n         * @method canActivate\n         * @return {promise}\n         */\n        computed.canActivate = function () {\n            var toCheck;\n\n            if (initialActiveItem) {\n                toCheck = initialActiveItem;\n                initialActiveItem = false;\n            } else {\n                toCheck = computed();\n            }\n\n            return computed.canActivateItem(toCheck);\n        };\n\n        /**\n         * Activates the activator, in its current state.\n         * @method activate\n         * @return {promise}\n         */\n        computed.activate = function () {\n            var toActivate;\n\n            if (initialActiveItem) {\n                toActivate = initialActiveItem;\n                initialActiveItem = false;\n            } else {\n                toActivate = computed();\n            }\n\n            return computed.activateItem(toActivate);\n        };\n\n        /**\n         * Determines whether or not the activator, in its current state, can be deactivated.\n         * @method canDeactivate\n         * @return {promise}\n         */\n        computed.canDeactivate = function (close) {\n            return computed.canDeactivateItem(computed(), close);\n        };\n\n        /**\n         * Deactivates the activator, in its current state.\n         * @method deactivate\n         * @return {promise}\n         */\n        computed.deactivate = function (close) {\n            return computed.deactivateItem(computed(), close);\n        };\n\n        computed.includeIn = function (includeIn) {\n            includeIn.canActivate = function () {\n                return computed.canActivate();\n            };\n\n            includeIn.activate = function () {\n                return computed.activate();\n            };\n\n            includeIn.canDeactivate = function (close) {\n                return computed.canDeactivate(close);\n            };\n\n            includeIn.deactivate = function (close) {\n                return computed.deactivate(close);\n            };\n        };\n\n        if (settings.includeIn) {\n            computed.includeIn(settings.includeIn);\n        } else if (initialActiveItem) {\n            computed.activate();\n        }\n\n        computed.forItems = function (items) {\n            settings.closeOnDeactivate = false;\n\n            settings.determineNextItemToActivate = function (list, lastIndex) {\n                var toRemoveAt = lastIndex - 1;\n\n                if (toRemoveAt == -1 && list.length > 1) {\n                    return list[1];\n                }\n\n                if (toRemoveAt > -1 && toRemoveAt < list.length - 1) {\n                    return list[toRemoveAt];\n                }\n\n                return null;\n            };\n\n            settings.beforeActivate = function (newItem) {\n                var currentItem = computed();\n\n                if (!newItem) {\n                    newItem = settings.determineNextItemToActivate(items, currentItem ? items.indexOf(currentItem) : 0);\n                } else {\n                    var index = items.indexOf(newItem);\n\n                    if (index == -1) {\n                        items.push(newItem);\n                    } else {\n                        newItem = items()[index];\n                    }\n                }\n\n                return newItem;\n            };\n\n            settings.afterDeactivate = function (oldItem, close) {\n                if (close) {\n                    items.remove(oldItem);\n                }\n            };\n\n            var originalCanDeactivate = computed.canDeactivate;\n            computed.canDeactivate = function (close) {\n                if (close) {\n                    return system.defer(function (dfd) {\n                        var list = items();\n                        var results = [];\n\n                        function finish() {\n                            for (var j = 0; j < results.length; j++) {\n                                if (!results[j]) {\n                                    dfd.resolve(false);\n                                    return;\n                                }\n                            }\n\n                            dfd.resolve(true);\n                        }\n\n                        for (var i = 0; i < list.length; i++) {\n                            computed.canDeactivateItem(list[i], close).then(function (result) {\n                                results.push(result);\n                                if (results.length == list.length) {\n                                    finish();\n                                }\n                            });\n                        }\n                    }).promise();\n                } else {\n                    return originalCanDeactivate();\n                }\n            };\n\n            var originalDeactivate = computed.deactivate;\n            computed.deactivate = function (close) {\n                if (close) {\n                    return system.defer(function (dfd) {\n                        var list = items();\n                        var results = 0;\n                        var listLength = list.length;\n\n                        function doDeactivate(item) {\n                            setTimeout(function () {\n                                computed.deactivateItem(item, close).then(function () {\n                                    results++;\n                                    items.remove(item);\n                                    if (results == listLength) {\n                                        dfd.resolve();\n                                    }\n                                });\n                            }, 1);\n                        }\n\n                        for (var i = 0; i < listLength; i++) {\n                            doDeactivate(list[i]);\n                        }\n                    }).promise();\n                } else {\n                    return originalDeactivate();\n                }\n            };\n\n            return computed;\n        };\n\n        return computed;\n    }\n\n    /**\n     * @class ActivatorSettings\n     * @static\n     */\n    var activatorSettings = {\n        /**\n         * The default value passed to an object's deactivate function as its close parameter.\n         * @property {boolean} closeOnDeactivate\n         * @default true\n         */\n        closeOnDeactivate: true,\n        /**\n         * Lower-cased words which represent a truthy value.\n         * @property {string[]} affirmations\n         * @default ['yes', 'ok', 'true']\n         */\n        affirmations: ['yes', 'ok', 'true'],\n        /**\n         * Interprets the response of a `canActivate` or `canDeactivate` call using the known affirmative values in the `affirmations` array.\n         * @method interpretResponse\n         * @param {object} value\n         * @return {boolean}\n         */\n        interpretResponse: function(value) {\n            if(system.isObject(value)) {\n                value = value.can || false;\n            }\n\n            if(system.isString(value)) {\n                return ko.utils.arrayIndexOf(this.affirmations, value.toLowerCase()) !== -1;\n            }\n\n            return value;\n        },\n        /**\n         * Determines whether or not the current item and the new item are the same.\n         * @method areSameItem\n         * @param {object} currentItem\n         * @param {object} newItem\n         * @param {object} currentActivationData\n         * @param {object} newActivationData\n         * @return {boolean}\n         */\n        areSameItem: function(currentItem, newItem, currentActivationData, newActivationData) {\n            return currentItem == newItem;\n        },\n        /**\n         * Called immediately before the new item is activated.\n         * @method beforeActivate\n         * @param {object} newItem\n         */\n        beforeActivate: function(newItem) {\n            return newItem;\n        },\n        /**\n         * Called immediately after the old item is deactivated.\n         * @method afterDeactivate\n         * @param {object} oldItem The previous item.\n         * @param {boolean} close Whether or not the previous item was closed.\n         * @param {function} setter The activate item setter function.\n         */\n        afterDeactivate: function(oldItem, close, setter) {\n            if(close && setter) {\n                setter(null);\n            }\n        },\n        findChildActivator: function(item){\n            return null;\n        }\n    };\n\n    /**\n     * @class ActivatorModule\n     * @static\n     */\n    activator = {\n        /**\n         * The default settings used by activators.\n         * @property {ActivatorSettings} defaults\n         */\n        defaults: activatorSettings,\n        /**\n         * Creates a new activator.\n         * @method create\n         * @param {object} [initialActiveItem] The item which should be immediately activated upon creation of the ativator.\n         * @param {ActivatorSettings} [settings] Per activator overrides of the default activator settings.\n         * @return {Activator} The created activator.\n         */\n        create: createActivator,\n        /**\n         * Determines whether or not the provided object is an activator or not.\n         * @method isActivator\n         * @param {object} object Any object you wish to verify as an activator or not.\n         * @return {boolean} True if the object is an activator; false otherwise.\n         */\n        isActivator:function(object){\n            return object && object.__activator__;\n        }\n    };\n\n    return activator;\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The composition module encapsulates all functionality related to visual composition.\n * @module composition\n * @requires system\n * @requires viewLocator\n * @requires binder\n * @requires viewEngine\n * @requires activator\n * @requires jquery\n * @requires knockout\n */\ndefine('durandal/composition',['durandal/system', 'durandal/viewLocator', 'durandal/binder', 'durandal/viewEngine', 'durandal/activator', 'jquery', 'knockout'], function (system, viewLocator, binder, viewEngine, activator, $, ko) {\n    var dummyModel = {},\n        activeViewAttributeName = 'data-active-view',\n        composition,\n        compositionCompleteCallbacks = [],\n        compositionCount = 0,\n        compositionDataKey = 'durandal-composition-data',\n        partAttributeName = 'data-part',\n        bindableSettings = ['model', 'view', 'transition', 'area', 'strategy', 'activationData', 'onError'],\n        visibilityKey = \"durandal-visibility-data\",\n        composeBindings = ['compose:'];\n    \n    function onError(context, error, element) {\n        try {\n            if (context.onError) {\n                try {\n                    context.onError(error, element);\n                } catch (e) {\n                    system.error(e);\n                }\n            } else {\n                system.error(error);\n            }\n        } finally {\n            endComposition(context, element, true);\n        }\n    }\n\n    function getHostState(parent) {\n        var elements = [];\n        var state = {\n            childElements: elements,\n            activeView: null\n        };\n\n        var child = ko.virtualElements.firstChild(parent);\n\n        while (child) {\n            if (child.nodeType == 1) {\n                elements.push(child);\n                if (child.getAttribute(activeViewAttributeName)) {\n                    state.activeView = child;\n                }\n            }\n\n            child = ko.virtualElements.nextSibling(child);\n        }\n\n        if(!state.activeView){\n            state.activeView = elements[0];\n        }\n\n        return state;\n    }\n\n    function endComposition(context, element, error) {\n        compositionCount--;\n\n        if(compositionCount === 0) {\n            var callBacks = compositionCompleteCallbacks;\n            compositionCompleteCallbacks = [];\n            \n            if (!error) {\n                setTimeout(function () {\n                    var i = callBacks.length;\n\n                    while (i--) {\n                        try {\n                            callBacks[i]();\n                        } catch (e) {\n                            onError(context, e, element);\n                        }\n                    }\n                }, 1);\n            }\n        }\n\n        cleanUp(context);\n    }\n\n    function cleanUp(context){\n        delete context.activeView;\n        delete context.viewElements;\n    }\n\n    function tryActivate(context, successCallback, skipActivation, element) {\n        if(skipActivation){\n            successCallback();\n        } else if (context.activate && context.model && context.model.activate) {\n            var result;\n\n            try{\n                if(system.isArray(context.activationData)) {\n                    result = context.model.activate.apply(context.model, context.activationData);\n                } else {\n                    result = context.model.activate(context.activationData);\n                }\n\n                if(result && result.then) {\n                    result.then(successCallback, function(reason) {\n                        onError(context, reason, element);\n                        successCallback();\n                    });\n                } else if(result || result === undefined) {\n                    successCallback();\n                } else {\n                    endComposition(context, element);\n                }\n            }\n            catch(e){\n                onError(context, e, element);\n            }\n        } else {\n            successCallback();\n        }\n    }\n\n    function triggerAttach(context, element) {\n        var context = this;\n\n        if (context.activeView) {\n            context.activeView.removeAttribute(activeViewAttributeName);\n        }\n\n        if (context.child) {\n            try{\n                if (context.model && context.model.attached) {\n                    if (context.composingNewView || context.alwaysTriggerAttach) {\n                        context.model.attached(context.child, context.parent, context);\n                    }\n                }\n\n                if (context.attached) {\n                    context.attached(context.child, context.parent, context);\n                }\n\n                context.child.setAttribute(activeViewAttributeName, true);\n\n                if (context.composingNewView && context.model && context.model.detached) {\n                    ko.utils.domNodeDisposal.addDisposeCallback(context.child, function () {\n                        try{\n                            context.model.detached(context.child, context.parent, context);\n                        }catch(e2){\n                            onError(context, e2, element);\n                        }\n                    });\n                }\n            }catch(e){\n                onError(context, e, element);\n            }\n        }\n\n        context.triggerAttach = system.noop;\n    }\n\n    function shouldTransition(context) {\n        if (system.isString(context.transition)) {\n            if (context.activeView) {\n                if (context.activeView == context.child) {\n                    return false;\n                }\n\n                if (!context.child) {\n                    return true;\n                }\n\n                if (context.skipTransitionOnSameViewId) {\n                    var currentViewId = context.activeView.getAttribute('data-view');\n                    var newViewId = context.child.getAttribute('data-view');\n                    return currentViewId != newViewId;\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    function cloneNodes(nodesArray) {\n        for (var i = 0, j = nodesArray.length, newNodesArray = []; i < j; i++) {\n            var clonedNode = nodesArray[i].cloneNode(true);\n            newNodesArray.push(clonedNode);\n        }\n        return newNodesArray;\n    }\n\n    function replaceParts(context){\n        var parts = cloneNodes(context.parts);\n        var replacementParts = composition.getParts(parts);\n        var standardParts = composition.getParts(context.child);\n\n        for (var partId in replacementParts) {\n            var toReplace = standardParts[partId];\n            if (!toReplace) {\n                toReplace = $('[data-part=\"' + partId + '\"]', context.child).get(0);\n                if (!toReplace) {\n                    system.log('Could not find part to override: ' + partId);\n                    continue;\n                }\n            }\n\n            toReplace.parentNode.replaceChild(replacementParts[partId], toReplace);\n        }\n    }\n\n    function removePreviousView(context){\n        var children = ko.virtualElements.childNodes(context.parent), i, len;\n\n        if(!system.isArray(children)){\n            var arrayChildren = [];\n            for(i = 0, len = children.length; i < len; i++){\n                arrayChildren[i] = children[i];\n            }\n            children = arrayChildren;\n        }\n\n        for(i = 1,len = children.length; i < len; i++){\n            ko.removeNode(children[i]);\n        }\n    }\n\n    function hide(view) {\n        ko.utils.domData.set(view, visibilityKey, view.style.display);\n        view.style.display = 'none';\n    }\n\n    function show(view) {\n        var displayStyle = ko.utils.domData.get(view, visibilityKey);\n        view.style.display = displayStyle === 'none' ? 'block' : displayStyle;\n    }\n\n    function hasComposition(element){\n        var dataBind = element.getAttribute('data-bind');\n        if(!dataBind){\n            return false;\n        }\n\n        for(var i = 0, length = composeBindings.length; i < length; i++){\n            if(dataBind.indexOf(composeBindings[i]) > -1){\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * @class CompositionTransaction\n     * @static\n     */\n    var compositionTransaction = {\n        /**\n         * Registers a callback which will be invoked when the current composition transaction has completed. The transaction includes all parent and children compositions.\n         * @method complete\n         * @param {function} callback The callback to be invoked when composition is complete.\n         */\n        complete: function (callback) {\n            compositionCompleteCallbacks.push(callback);\n        }\n    };\n\n    /**\n     * @class CompositionModule\n     * @static\n     */\n    composition = {\n        /**\n         * An array of all the binding handler names (includeing :) that trigger a composition.\n         * @property {string} composeBindings\n         * @default ['compose:']\n         */\n        composeBindings:composeBindings,\n        /**\n         * Converts a transition name to its moduleId.\n         * @method convertTransitionToModuleId\n         * @param {string} name The name of the transtion.\n         * @return {string} The moduleId.\n         */\n        convertTransitionToModuleId: function (name) {\n            return 'transitions/' + name;\n        },\n        /**\n         * The name of the transition to use in all compositions.\n         * @property {string} defaultTransitionName\n         * @default null\n         */\n        defaultTransitionName: null,\n        /**\n         * Represents the currently executing composition transaction.\n         * @property {CompositionTransaction} current\n         */\n        current: compositionTransaction,\n        /**\n         * Registers a binding handler that will be invoked when the current composition transaction is complete.\n         * @method addBindingHandler\n         * @param {string} name The name of the binding handler.\n         * @param {object} [config] The binding handler instance. If none is provided, the name will be used to look up an existing handler which will then be converted to a composition handler.\n         * @param {function} [initOptionsFactory] If the registered binding needs to return options from its init call back to knockout, this function will server as a factory for those options. It will receive the same parameters that the init function does.\n         */\n        addBindingHandler:function(name, config, initOptionsFactory){\n            var key,\n                dataKey = 'composition-handler-' + name,\n                handler;\n\n            config = config || ko.bindingHandlers[name];\n            initOptionsFactory = initOptionsFactory || function(){ return undefined;  };\n\n            handler = ko.bindingHandlers[name] = {\n                init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n                    if(compositionCount > 0){\n                        var data = {\n                            trigger:ko.observable(null)\n                        };\n\n                        composition.current.complete(function(){\n                            if(config.init){\n                                config.init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n                            }\n\n                            if(config.update){\n                                ko.utils.domData.set(element, dataKey, config);\n                                data.trigger('trigger');\n                            }\n                        });\n\n                        ko.utils.domData.set(element, dataKey, data);\n                    }else{\n                        ko.utils.domData.set(element, dataKey, config);\n\n                        if(config.init){\n                            config.init(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n                        }\n                    }\n\n                    return initOptionsFactory(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n                },\n                update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n                    var data = ko.utils.domData.get(element, dataKey);\n\n                    if(data.update){\n                        return data.update(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n                    }\n\n                    if(data.trigger){\n                        data.trigger();\n                    }\n                }\n            };\n\n            for (key in config) {\n                if (key !== \"init\" && key !== \"update\") {\n                    handler[key] = config[key];\n                }\n            }\n        },\n        /**\n         * Gets an object keyed with all the elements that are replacable parts, found within the supplied elements. The key will be the part name and the value will be the element itself.\n         * @method getParts\n         * @param {DOMElement\\DOMElement[]} elements The element(s) to search for parts.\n         * @return {object} An object keyed by part.\n         */\n        getParts: function(elements, parts) {\n            parts = parts || {};\n\n            if (!elements) {\n                return parts;\n            }\n\n            if (elements.length === undefined) {\n                elements = [elements];\n            }\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                var element = elements[i],\n                    id;\n\n                if (element.getAttribute) {\n                    id = element.getAttribute(partAttributeName);\n                    if (id) {\n                        parts[id] = element;\n                    }\n\n                    if (element.hasChildNodes() && !hasComposition(element)) {\n                        composition.getParts(element.childNodes, parts);\n                    }\n                }\n            }\n\n            return parts;\n        },\n        cloneNodes:cloneNodes,\n        finalize: function (context, element) {\n            if(context.transition === undefined) {\n                context.transition = this.defaultTransitionName;\n            }\n\n            if(!context.child && !context.activeView){\n                if (!context.cacheViews) {\n                    ko.virtualElements.emptyNode(context.parent);\n                }\n\n                context.triggerAttach(context, element);\n                endComposition(context, element);\n            } else if (shouldTransition(context)) {\n                var transitionModuleId = this.convertTransitionToModuleId(context.transition);\n\n                system.acquire(transitionModuleId).then(function (transition) {\n                    context.transition = transition;\n\n                    transition(context).then(function () {\n                        if (!context.cacheViews) {\n                            if(!context.child){\n                                ko.virtualElements.emptyNode(context.parent);\n                            }else{\n                                removePreviousView(context);\n                            }\n                        }else if(context.activeView){\n                            var instruction = binder.getBindingInstruction(context.activeView);\n                            if(instruction && instruction.cacheViews != undefined && !instruction.cacheViews){\n                                ko.removeNode(context.activeView);\n                            }else{\n                                hide(context.activeView);\n                            }\n                        }\n\n                        if (context.child) {\n                            show(context.child);\n                        }\n\n                        context.triggerAttach(context, element);\n                        endComposition(context, element);\n                    });\n                }).fail(function(err){\n                    onError(context, 'Failed to load transition (' + transitionModuleId + '). Details: ' + err.message, element);\n                });\n            } else {\n                if (context.child != context.activeView) {\n                    if (context.cacheViews && context.activeView) {\n                        var instruction = binder.getBindingInstruction(context.activeView);\n                        if(!instruction || (instruction.cacheViews != undefined && !instruction.cacheViews)){\n                            ko.removeNode(context.activeView);\n                        }else{\n                            hide(context.activeView);\n                        }\n                    }\n\n                    if (!context.child) {\n                        if (!context.cacheViews) {\n                            ko.virtualElements.emptyNode(context.parent);\n                        }\n                    } else {\n                        if (!context.cacheViews) {\n                            removePreviousView(context);\n                        }\n\n                        show(context.child);\n                    }\n                }\n\n                context.triggerAttach(context, element);\n                endComposition(context, element);\n            }\n        },\n        bindAndShow: function (child, element, context, skipActivation) {\n            context.child = child;\n            context.parent.__composition_context = context;\n\n            if (context.cacheViews) {\n                context.composingNewView = (ko.utils.arrayIndexOf(context.viewElements, child) == -1);\n            } else {\n                context.composingNewView = true;\n            }\n\n            tryActivate(context, function () {\n                if (context.parent.__composition_context == context) {\n                    delete context.parent.__composition_context;\n\n                    if (context.binding) {\n                        context.binding(context.child, context.parent, context);\n                    }\n\n                    if (context.preserveContext && context.bindingContext) {\n                        if (context.composingNewView) {\n                            if(context.parts){\n                                replaceParts(context);\n                            }\n\n                            hide(child);\n                            ko.virtualElements.prepend(context.parent, child);\n\n                        binder.bindContext(context.bindingContext, child, context.model, context.as);\n                        }\n                    } else if (child) {\n                        var modelToBind = context.model || dummyModel;\n                        var currentModel = ko.dataFor(child);\n\n                        if (currentModel != modelToBind) {\n                            if (!context.composingNewView) {\n                                ko.removeNode(child);\n                                viewEngine.createView(child.getAttribute('data-view')).then(function(recreatedView) {\n                                    composition.bindAndShow(recreatedView, element, context, true);\n                                });\n                                return;\n                            }\n\n                            if(context.parts){\n                                replaceParts(context);\n                            }\n\n                            hide(child);\n                            ko.virtualElements.prepend(context.parent, child);\n\n                            binder.bind(modelToBind, child);\n                        }\n                    }\n\n                    composition.finalize(context, element);\n                } else {\n                    endComposition(context, element);\n                }\n            }, skipActivation, element);\n        },\n        /**\n         * Eecutes the default view location strategy.\n         * @method defaultStrategy\n         * @param {object} context The composition context containing the model and possibly existing viewElements.\n         * @return {promise} A promise for the view.\n         */\n        defaultStrategy: function (context) {\n            return viewLocator.locateViewForObject(context.model, context.area, context.viewElements);\n        },\n        getSettings: function (valueAccessor, element) {\n            var value = valueAccessor(),\n                settings = ko.utils.unwrapObservable(value) || {},\n                activatorPresent = activator.isActivator(value),\n                moduleId;\n\n            if (system.isString(settings)) {\n                if (viewEngine.isViewUrl(settings)) {\n                    settings = {\n                        view: settings\n                    };\n                } else {\n                    settings = {\n                        model: settings,\n                        activate: !activatorPresent\n                    };\n                }\n\n                return settings;\n            }\n\n            moduleId = system.getModuleId(settings);\n            if (moduleId) {\n                settings = {\n                    model: settings,\n                    activate: !activatorPresent\n                };\n\n                return settings;\n            }\n\n            if(!activatorPresent && settings.model) {\n                activatorPresent = activator.isActivator(settings.model);\n            }\n\n            for (var attrName in settings) {\n                if (ko.utils.arrayIndexOf(bindableSettings, attrName) != -1) {\n                    settings[attrName] = ko.utils.unwrapObservable(settings[attrName]);\n                } else {\n                    settings[attrName] = settings[attrName];\n                }\n            }\n\n            if (activatorPresent) {\n                settings.activate = false;\n            } else if (settings.activate === undefined) {\n                settings.activate = true;\n            }\n\n            return settings;\n        },\n        executeStrategy: function (context, element) {\n            context.strategy(context).then(function (child) {\n                composition.bindAndShow(child, element, context);\n            });\n        },\n        inject: function (context, element) {\n            if (!context.model) {\n                this.bindAndShow(null, element, context);\n                return;\n            }\n\n            if (context.view) {\n                viewLocator.locateView(context.view, context.area, context.viewElements).then(function (child) {\n                    composition.bindAndShow(child, element, context);\n                });\n                return;\n            }\n\n            if (!context.strategy) {\n                context.strategy = this.defaultStrategy;\n            }\n\n            if (system.isString(context.strategy)) {\n                system.acquire(context.strategy).then(function (strategy) {\n                    context.strategy = strategy;\n                    composition.executeStrategy(context, element);\n                }).fail(function (err) {\n                    onError(context, 'Failed to load view strategy (' + context.strategy + '). Details: ' + err.message, element);\n                });\n            } else {\n                this.executeStrategy(context, element);\n            }\n        },\n        /**\n         * Initiates a composition.\n         * @method compose\n         * @param {DOMElement} element The DOMElement or knockout virtual element that serves as the parent for the composition.\n         * @param {object} settings The composition settings.\n         * @param {object} [bindingContext] The current binding context.\n         */\n        compose: function (element, settings, bindingContext, fromBinding) {\n            compositionCount++;\n\n            if(!fromBinding){\n                settings = composition.getSettings(function() { return settings; }, element);\n            }\n\n            if (settings.compositionComplete) {\n                compositionCompleteCallbacks.push(function () {\n                    settings.compositionComplete(settings.child, settings.parent, settings);\n                });\n            }\n\n            compositionCompleteCallbacks.push(function () {\n                if(settings.composingNewView && settings.model && settings.model.compositionComplete){\n                    settings.model.compositionComplete(settings.child, settings.parent, settings);\n                }\n            });\n\n            var hostState = getHostState(element);\n\n            settings.activeView = hostState.activeView;\n            settings.parent = element;\n            settings.triggerAttach = triggerAttach;\n            settings.bindingContext = bindingContext;\n\n            if (settings.cacheViews && !settings.viewElements) {\n                settings.viewElements = hostState.childElements;\n            }\n\n            if (!settings.model) {\n                if (!settings.view) {\n                    this.bindAndShow(null, element, settings);\n                } else {\n                    settings.area = settings.area || 'partial';\n                    settings.preserveContext = true;\n\n                    viewLocator.locateView(settings.view, settings.area, settings.viewElements).then(function (child) {\n                        composition.bindAndShow(child, element, settings);\n                    });\n                }\n            } else if (system.isString(settings.model)) {\n                system.acquire(settings.model).then(function (module) {\n                    settings.model = system.resolveObject(module);\n                    composition.inject(settings, element);\n                }).fail(function (err) {\n                    onError(settings, 'Failed to load composed module (' + settings.model + '). Details: ' + err.message, element);\n                });\n            } else {\n                composition.inject(settings, element);\n            }\n        }\n    };\n\n    ko.bindingHandlers.compose = {\n        init: function() {\n            return { controlsDescendantBindings: true };\n        },\n        update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n            var settings = composition.getSettings(valueAccessor, element);\n            if(settings.mode){\n                var data = ko.utils.domData.get(element, compositionDataKey);\n                if(!data){\n                    var childNodes = ko.virtualElements.childNodes(element);\n                    data = {};\n\n                    if(settings.mode === 'inline'){\n                        data.view = viewEngine.ensureSingleElement(childNodes);\n                    }else if(settings.mode === 'templated'){\n                        data.parts = cloneNodes(childNodes);\n                    }\n\n                    ko.virtualElements.emptyNode(element);\n                    ko.utils.domData.set(element, compositionDataKey, data);\n                }\n\n                if(settings.mode === 'inline'){\n                    settings.view = data.view.cloneNode(true);\n                }else if(settings.mode === 'templated'){\n                    settings.parts = data.parts;\n                }\n\n                settings.preserveContext = true;\n            }\n\n            composition.compose(element, settings, bindingContext, true);\n        }\n    };\n\n    ko.virtualElements.allowedBindings.compose = true;\n\n    return composition;\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * Durandal events originate from backbone.js but also combine some ideas from signals.js as well as some additional improvements.\n * Events can be installed into any object and are installed into the `app` module by default for convenient app-wide eventing.\n * @module events\n * @requires system\n */\ndefine('durandal/events',['durandal/system'], function (system) {\n    var eventSplitter = /\\s+/;\n    var Events = function() { };\n\n    /**\n     * Represents an event subscription.\n     * @class Subscription\n     */\n    var Subscription = function(owner, events) {\n        this.owner = owner;\n        this.events = events;\n    };\n\n    /**\n     * Attaches a callback to the event subscription.\n     * @method then\n     * @param {function} callback The callback function to invoke when the event is triggered.\n     * @param {object} [context] An object to use as `this` when invoking the `callback`.\n     * @chainable\n     */\n    Subscription.prototype.then = function (callback, context) {\n        this.callback = callback || this.callback;\n        this.context = context || this.context;\n        \n        if (!this.callback) {\n            return this;\n        }\n\n        this.owner.on(this.events, this.callback, this.context);\n        return this;\n    };\n\n    /**\n     * Attaches a callback to the event subscription.\n     * @method on\n     * @param {function} [callback] The callback function to invoke when the event is triggered. If `callback` is not provided, the previous callback will be re-activated.\n     * @param {object} [context] An object to use as `this` when invoking the `callback`.\n     * @chainable\n     */\n    Subscription.prototype.on = Subscription.prototype.then;\n\n    /**\n     * Cancels the subscription.\n     * @method off\n     * @chainable\n     */\n    Subscription.prototype.off = function () {\n        this.owner.off(this.events, this.callback, this.context);\n        return this;\n    };\n\n    /**\n     * Creates an object with eventing capabilities.\n     * @class Events\n     */\n\n    /**\n     * Creates a subscription or registers a callback for the specified event.\n     * @method on\n     * @param {string} events One or more events, separated by white space.\n     * @param {function} [callback] The callback function to invoke when the event is triggered. If `callback` is not provided, a subscription instance is returned.\n     * @param {object} [context] An object to use as `this` when invoking the `callback`.\n     * @return {Subscription|Events} A subscription is returned if no callback is supplied, otherwise the events object is returned for chaining.\n     */\n    Events.prototype.on = function(events, callback, context) {\n        var calls, event, list;\n\n        if (!callback) {\n            return new Subscription(this, events);\n        } else {\n            calls = this.callbacks || (this.callbacks = {});\n            events = events.split(eventSplitter);\n\n            while (event = events.shift()) {\n                list = calls[event] || (calls[event] = []);\n                list.push(callback, context);\n            }\n\n            return this;\n        }\n    };\n\n    /**\n     * Removes the callbacks for the specified events.\n     * @method off\n     * @param {string} [events] One or more events, separated by white space to turn off. If no events are specified, then the callbacks will be removed.\n     * @param {function} [callback] The callback function to remove. If `callback` is not provided, all callbacks for the specified events will be removed.\n     * @param {object} [context] The object that was used as `this`. Callbacks with this context will be removed.\n     * @chainable\n     */\n    Events.prototype.off = function(events, callback, context) {\n        var event, calls, list, i;\n\n        // No events\n        if (!(calls = this.callbacks)) {\n            return this;\n        }\n\n        //removing all\n        if (!(events || callback || context)) {\n            delete this.callbacks;\n            return this;\n        }\n\n        events = events ? events.split(eventSplitter) : system.keys(calls);\n\n        // Loop through the callback list, splicing where appropriate.\n        while (event = events.shift()) {\n            if (!(list = calls[event]) || !(callback || context)) {\n                delete calls[event];\n                continue;\n            }\n\n            for (i = list.length - 2; i >= 0; i -= 2) {\n                if (!(callback && list[i] !== callback || context && list[i + 1] !== context)) {\n                    list.splice(i, 2);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Triggers the specified events.\n     * @method trigger\n     * @param {string} [events] One or more events, separated by white space to trigger.\n     * @chainable\n     */\n    Events.prototype.trigger = function(events) {\n        var event, calls, list, i, length, args, all, rest;\n        if (!(calls = this.callbacks)) {\n            return this;\n        }\n\n        rest = [];\n        events = events.split(eventSplitter);\n        for (i = 1, length = arguments.length; i < length; i++) {\n            rest[i - 1] = arguments[i];\n        }\n\n        // For each event, walk through the list of callbacks twice, first to\n        // trigger the event, then to trigger any `\"all\"` callbacks.\n        while (event = events.shift()) {\n            // Copy callback lists to prevent modification.\n            if (all = calls.all) {\n                all = all.slice();\n            }\n\n            if (list = calls[event]) {\n                list = list.slice();\n            }\n\n            // Execute event callbacks.\n            if (list) {\n                for (i = 0, length = list.length; i < length; i += 2) {\n                    list[i].apply(list[i + 1] || this, rest);\n                }\n            }\n\n            // Execute \"all\" callbacks.\n            if (all) {\n                args = [event].concat(rest);\n                for (i = 0, length = all.length; i < length; i += 2) {\n                    all[i].apply(all[i + 1] || this, args);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Creates a function that will trigger the specified events when called. Simplifies proxying jQuery (or other) events through to the events object.\n     * @method proxy\n     * @param {string} events One or more events, separated by white space to trigger by invoking the returned function.\n     * @return {function} Calling the function will invoke the previously specified events on the events object.\n     */\n    Events.prototype.proxy = function(events) {\n        var that = this;\n        return (function(arg) {\n            that.trigger(events, arg);\n        });\n    };\n\n    /**\n     * Creates an object with eventing capabilities.\n     * @class EventsModule\n     * @static\n     */\n\n    /**\n     * Adds eventing capabilities to the specified object.\n     * @method includeIn\n     * @param {object} targetObject The object to add eventing capabilities to.\n     */\n    Events.includeIn = function(targetObject) {\n        targetObject.on = Events.prototype.on;\n        targetObject.off = Events.prototype.off;\n        targetObject.trigger = Events.prototype.trigger;\n        targetObject.proxy = Events.prototype.proxy;\n    };\n\n    return Events;\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The app module controls app startup, plugin loading/configuration and root visual display.\n * @module app\n * @requires system\n * @requires viewEngine\n * @requires composition\n * @requires events\n * @requires jquery\n */\ndefine('durandal/app',['durandal/system', 'durandal/viewEngine', 'durandal/composition', 'durandal/events', 'jquery'], function(system, viewEngine, composition, Events, $) {\n    var app,\n        allPluginIds = [],\n        allPluginConfigs = [];\n\n    function loadPlugins(){\n        return system.defer(function(dfd){\n            if(allPluginIds.length == 0){\n                dfd.resolve();\n                return;\n            }\n\n            system.acquire(allPluginIds).then(function(loaded){\n                for(var i = 0; i < loaded.length; i++){\n                    var currentModule = loaded[i];\n\n                    if(currentModule.install){\n                        var config = allPluginConfigs[i];\n                        if(!system.isObject(config)){\n                            config = {};\n                        }\n\n                        currentModule.install(config);\n                        system.log('Plugin:Installed ' + allPluginIds[i]);\n                    }else{\n                        system.log('Plugin:Loaded ' + allPluginIds[i]);\n                    }\n                }\n\n                dfd.resolve();\n            }).fail(function(err){\n                system.error('Failed to load plugin(s). Details: ' + err.message);\n            });\n        }).promise();\n    }\n\n    /**\n     * @class AppModule\n     * @static\n     * @uses Events\n     */\n    app = {\n        /**\n         * The title of your application.\n         * @property {string} title\n         */\n        title: 'Application',\n        /**\n         * Configures one or more plugins to be loaded and installed into the application.\n         * @method configurePlugins\n         * @param {object} config Keys are plugin names. Values can be truthy, to simply install the plugin, or a configuration object to pass to the plugin.\n         * @param {string} [baseUrl] The base url to load the plugins from.\n         */\n        configurePlugins:function(config, baseUrl){\n            var pluginIds = system.keys(config);\n            baseUrl = baseUrl || 'plugins/';\n\n            if(baseUrl.indexOf('/', baseUrl.length - 1) === -1){\n                baseUrl += '/';\n            }\n\n            for(var i = 0; i < pluginIds.length; i++){\n                var key = pluginIds[i];\n                allPluginIds.push(baseUrl + key);\n                allPluginConfigs.push(config[key]);\n            }\n        },\n        /**\n         * Starts the application.\n         * @method start\n         * @return {promise}\n         */\n        start: function() {\n            system.log('Application:Starting');\n\n            if (this.title) {\n                document.title = this.title;\n            }\n\n            return system.defer(function (dfd) {\n                $(function() {\n                    loadPlugins().then(function(){\n                        dfd.resolve();\n                        system.log('Application:Started');\n                    });\n                });\n            }).promise();\n        },\n        /**\n         * Sets the root module/view for the application.\n         * @method setRoot\n         * @param {string} root The root view or module.\n         * @param {string} [transition] The transition to use from the previous root (or splash screen) into the new root.\n         * @param {string} [applicationHost] The application host element or id. By default the id 'applicationHost' will be used.\n         */\n        setRoot: function(root, transition, applicationHost) {\n            var hostElement, settings = { activate:true, transition: transition };\n\n            if (!applicationHost || system.isString(applicationHost)) {\n                hostElement = document.getElementById(applicationHost || 'applicationHost');\n            } else {\n                hostElement = applicationHost;\n            }\n\n            if (system.isString(root)) {\n                if (viewEngine.isViewUrl(root)) {\n                    settings.view = root;\n                } else {\n                    settings.model = root;\n                }\n            } else {\n                settings.model = root;\n            }\n\n            function finishComposition() {\n                if(settings.model) {\n                    if (settings.model.canActivate) {\n                        try {\n                            var result = settings.model.canActivate();\n                            if (result && result.then) {\n                                result.then(function (actualResult) {\n                                    if (actualResult) {\n                                        composition.compose(hostElement, settings);\n                                    }\n                                }).fail(function (err) {\n                                    system.error(err);\n                                });\n                            } else if (result) {\n                                composition.compose(hostElement, settings);\n                            }\n                        } catch (er) {\n                            system.error(er);\n                        }\n                    } else {\n                        composition.compose(hostElement, settings);\n                    }\n                } else {\n                    composition.compose(hostElement, settings);\n                }\n            }\n\n            if(system.isString(settings.model)) {\n                system.acquire(settings.model).then(function(module) {\n                    settings.model = system.resolveObject(module);\n                    finishComposition();\n                }).fail(function(err) {\n                    system.error('Failed to load root module (' + settings.model + '). Details: ' + err.message);\n                });\n            } else {\n                finishComposition();\n            }\n        }\n    };\n\n    Events.includeIn(app);\n\n    return app;\n});\n\n",
    "//! moment.js\n//! version : 2.8.4\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error(\"Implement me\")}}function c(a,b){return zb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){tb.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+a)}function f(a,b){var c=!0;return m(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){qc[a]||(e(b),qc[a]=!0)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(){}function k(a,b){b!==!1&&F(a),n(this,a),this._d=new Date(+a._d)}function l(a){var b=y(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=tb.localeData(),this._bubble()}function m(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,\"toString\")&&(a.toString=b.toString),c(b,\"valueOf\")&&(a.valueOf=b.valueOf),a}function n(a,b){var c,d,e;if(\"undefined\"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),\"undefined\"!=typeof b._i&&(a._i=b._i),\"undefined\"!=typeof b._f&&(a._f=b._f),\"undefined\"!=typeof b._l&&(a._l=b._l),\"undefined\"!=typeof b._strict&&(a._strict=b._strict),\"undefined\"!=typeof b._tzm&&(a._tzm=b._tzm),\"undefined\"!=typeof b._isUTC&&(a._isUTC=b._isUTC),\"undefined\"!=typeof b._offset&&(a._offset=b._offset),\"undefined\"!=typeof b._pf&&(a._pf=b._pf),\"undefined\"!=typeof b._locale&&(a._locale=b._locale),Ib.length>0)for(c in Ib)d=Ib[c],e=b[d],\"undefined\"!=typeof e&&(a[d]=e);return a}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=\"\"+Math.abs(a),e=a>=0;d.length<b;)d=\"0\"+d;return(e?c?\"+\":\"\":\"-\")+d}function q(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\"M\").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,\"M\"),c}function r(a,b){var c;return b=K(b,a),a.isBefore(b)?c=q(a,b):(c=q(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function s(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,\"moment().\"+b+\"(period, number) is deprecated. Please use moment().\"+b+\"(number, period).\"),f=c,c=d,d=f),c=\"string\"==typeof c?+c:c,e=tb.duration(c,d),t(this,e,a),this}}function t(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&nb(a,\"Date\",mb(a,\"Date\")+f*c),g&&lb(a,mb(a,\"Month\")+g*c),d&&tb.updateOffset(a,f||g)}function u(a){return\"[object Array]\"===Object.prototype.toString.call(a)}function v(a){return\"[object Date]\"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function x(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,\"$1\");a=jc[a]||kc[b]||b}return a}function y(a){var b,d,e={};for(d in a)c(a,d)&&(b=x(d),b&&(e[b]=a[d]));return e}function z(b){var c,d;if(0===b.indexOf(\"week\"))c=7,d=\"day\";else{if(0!==b.indexOf(\"month\"))return;c=12,d=\"month\"}tb[b]=function(e,f){var g,h,i=tb._locale[b],j=[];if(\"number\"==typeof e&&(f=e,e=a),h=function(a){var b=tb().utc().set(d,a);return i.call(tb._locale,b,e||\"\")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function A(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function B(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function C(a,b,c){return hb(tb([a,11,31+b-c]),b,c).week}function D(a){return E(a)?366:365}function E(a){return a%4===0&&a%100!==0||a%400===0}function F(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Bb]<0||a._a[Bb]>11?Bb:a._a[Cb]<1||a._a[Cb]>B(a._a[Ab],a._a[Bb])?Cb:a._a[Db]<0||a._a[Db]>24||24===a._a[Db]&&(0!==a._a[Eb]||0!==a._a[Fb]||0!==a._a[Gb])?Db:a._a[Eb]<0||a._a[Eb]>59?Eb:a._a[Fb]<0||a._a[Fb]>59?Fb:a._a[Gb]<0||a._a[Gb]>999?Gb:-1,a._pf._overflowDayOfYear&&(Ab>b||b>Cb)&&(b=Cb),a._pf.overflow=b)}function G(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function H(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function I(a){for(var b,c,d,e,f=0;f<a.length;){for(e=H(a[f]).split(\"-\"),b=e.length,c=H(a[f+1]),c=c?c.split(\"-\"):null;b>0;){if(d=J(e.slice(0,b).join(\"-\")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function J(a){var b=null;if(!Hb[a]&&Jb)try{b=tb.locale(),require(\"./locale/\"+a),tb.locale(b)}catch(c){}return Hb[a]}function K(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(tb.isMoment(a)||v(a)?+a:+tb(a))-+c,c._d.setTime(+c._d+d),tb.updateOffset(c,!1),c):tb(a).local()}function L(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function M(a){var b,c,d=a.match(Nb);for(b=0,c=d.length;c>b;b++)d[b]=pc[d[b]]?pc[d[b]]:L(d[b]);return function(e){var f=\"\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function N(a,b){return a.isValid()?(b=O(b,a.localeData()),lc[b]||(lc[b]=M(b)),lc[b](a)):a.localeData().invalidDate()}function O(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ob.lastIndex=0;d>=0&&Ob.test(a);)a=a.replace(Ob,c),Ob.lastIndex=0,d-=1;return a}function P(a,b){var c,d=b._strict;switch(a){case\"Q\":return Zb;case\"DDDD\":return _b;case\"YYYY\":case\"GGGG\":case\"gggg\":return d?ac:Rb;case\"Y\":case\"G\":case\"g\":return cc;case\"YYYYYY\":case\"YYYYY\":case\"GGGGG\":case\"ggggg\":return d?bc:Sb;case\"S\":if(d)return Zb;case\"SS\":if(d)return $b;case\"SSS\":if(d)return _b;case\"DDD\":return Qb;case\"MMM\":case\"MMMM\":case\"dd\":case\"ddd\":case\"dddd\":return Ub;case\"a\":case\"A\":return b._locale._meridiemParse;case\"x\":return Xb;case\"X\":return Yb;case\"Z\":case\"ZZ\":return Vb;case\"T\":return Wb;case\"SSSS\":return Tb;case\"MM\":case\"DD\":case\"YY\":case\"GG\":case\"gg\":case\"HH\":case\"hh\":case\"mm\":case\"ss\":case\"ww\":case\"WW\":return d?$b:Pb;case\"M\":case\"D\":case\"d\":case\"H\":case\"h\":case\"m\":case\"s\":case\"w\":case\"W\":case\"e\":case\"E\":return Pb;case\"Do\":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp(Y(X(a.replace(\"\\\\\",\"\")),\"i\"))}}function Q(a){a=a||\"\";var b=a.match(Vb)||[],c=b[b.length-1]||[],d=(c+\"\").match(hc)||[\"-\",0,0],e=+(60*d[1])+A(d[2]);return\"+\"===d[0]?-e:e}function R(a,b,c){var d,e=c._a;switch(a){case\"Q\":null!=b&&(e[Bb]=3*(A(b)-1));break;case\"M\":case\"MM\":null!=b&&(e[Bb]=A(b)-1);break;case\"MMM\":case\"MMMM\":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Bb]=d:c._pf.invalidMonth=b;break;case\"D\":case\"DD\":null!=b&&(e[Cb]=A(b));break;case\"Do\":null!=b&&(e[Cb]=A(parseInt(b.match(/\\d{1,2}/)[0],10)));break;case\"DDD\":case\"DDDD\":null!=b&&(c._dayOfYear=A(b));break;case\"YY\":e[Ab]=tb.parseTwoDigitYear(b);break;case\"YYYY\":case\"YYYYY\":case\"YYYYYY\":e[Ab]=A(b);break;case\"a\":case\"A\":c._isPm=c._locale.isPM(b);break;case\"h\":case\"hh\":c._pf.bigHour=!0;case\"H\":case\"HH\":e[Db]=A(b);break;case\"m\":case\"mm\":e[Eb]=A(b);break;case\"s\":case\"ss\":e[Fb]=A(b);break;case\"S\":case\"SS\":case\"SSS\":case\"SSSS\":e[Gb]=A(1e3*(\"0.\"+b));break;case\"x\":c._d=new Date(A(b));break;case\"X\":c._d=new Date(1e3*parseFloat(b));break;case\"Z\":case\"ZZ\":c._useUTC=!0,c._tzm=Q(b);break;case\"dd\":case\"ddd\":case\"dddd\":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case\"w\":case\"ww\":case\"W\":case\"WW\":case\"d\":case\"e\":case\"E\":a=a.substr(0,1);case\"gggg\":case\"GGGG\":case\"GGGGG\":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=A(b));break;case\"gg\":case\"GG\":c._w=c._w||{},c._w[a]=tb.parseTwoDigitYear(b)}}function S(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Ab],hb(tb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Ab],hb(tb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ib(d,e,f,h,g),a._a[Ab]=i.year,a._dayOfYear=i.dayOfYear}function T(a){var c,d,e,f,g=[];if(!a._d){for(e=V(a),a._w&&null==a._a[Cb]&&null==a._a[Bb]&&S(a),a._dayOfYear&&(f=b(a._a[Ab],e[Ab]),a._dayOfYear>D(f)&&(a._pf._overflowDayOfYear=!0),d=db(f,0,a._dayOfYear),a._a[Bb]=d.getUTCMonth(),a._a[Cb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Db]&&0===a._a[Eb]&&0===a._a[Fb]&&0===a._a[Gb]&&(a._nextDay=!0,a._a[Db]=0),a._d=(a._useUTC?db:cb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm),a._nextDay&&(a._a[Db]=24)}}function U(a){var b;a._d||(b=y(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],T(a))}function V(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function W(b){if(b._f===tb.ISO_8601)return void $(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=\"\"+b._i,i=h.length,j=0;for(e=O(b._f,b._locale).match(Nb)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),pc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),R(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Db]<=12&&(b._pf.bigHour=a),b._isPm&&b._a[Db]<12&&(b._a[Db]+=12),b._isPm===!1&&12===b._a[Db]&&(b._a[Db]=0),T(b),F(b)}function X(a){return a.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Y(a){return a.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function Z(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],W(b),G(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));m(a,c||b)}function $(a){var b,c,d=a._i,e=dc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fc.length;c>b;b++)if(fc[b][1].exec(d)){a._f=fc[b][0]+(e[6]||\" \");break}for(b=0,c=gc.length;c>b;b++)if(gc[b][1].exec(d)){a._f+=gc[b][0];break}d.match(Vb)&&(a._f+=\"Z\"),W(a)}else a._isValid=!1}function _(a){$(a),a._isValid===!1&&(delete a._isValid,tb.createFromInputFallback(a))}function ab(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function bb(b){var c,d=b._i;d===a?b._d=new Date:v(d)?b._d=new Date(+d):null!==(c=Kb.exec(d))?b._d=new Date(+c[1]):\"string\"==typeof d?_(b):u(d)?(b._a=ab(d.slice(0),function(a){return parseInt(a,10)}),T(b)):\"object\"==typeof d?U(b):\"number\"==typeof d?b._d=new Date(d):tb.createFromInputFallback(b)}function cb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function db(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function eb(a,b){if(\"string\"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),\"number\"!=typeof a)return null}else a=parseInt(a,10);return a}function fb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function gb(a,b,c){var d=tb.duration(a).abs(),e=yb(d.as(\"s\")),f=yb(d.as(\"m\")),g=yb(d.as(\"h\")),h=yb(d.as(\"d\")),i=yb(d.as(\"M\")),j=yb(d.as(\"y\")),k=e<mc.s&&[\"s\",e]||1===f&&[\"m\"]||f<mc.m&&[\"mm\",f]||1===g&&[\"h\"]||g<mc.h&&[\"hh\",g]||1===h&&[\"d\"]||h<mc.d&&[\"dd\",h]||1===i&&[\"M\"]||i<mc.M&&[\"MM\",i]||1===j&&[\"y\"]||[\"yy\",j];return k[2]=b,k[3]=+a>0,k[4]=c,fb.apply({},k)}function hb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=tb(a).add(f,\"d\"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ib(a,b,c,d,e){var f,g,h=db(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:D(a-1)+g}}function jb(b){var c,d=b._i,e=b._f;return b._locale=b._locale||tb.localeData(b._l),null===d||e===a&&\"\"===d?tb.invalid({nullInput:!0}):(\"string\"==typeof d&&(b._i=d=b._locale.preparse(d)),tb.isMoment(d)?new k(d,!0):(e?u(e)?Z(b):W(b):bb(b),c=new k(b),c._nextDay&&(c.add(1,\"d\"),c._nextDay=a),c))}function kb(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return tb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function lb(a,b){var c;return\"string\"==typeof b&&(b=a.localeData().monthsParse(b),\"number\"!=typeof b)?a:(c=Math.min(a.date(),B(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function mb(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function nb(a,b,c){return\"Month\"===b?lb(a,c):a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function ob(a,b){return function(c){return null!=c?(nb(this,a,c),tb.updateOffset(this,b),this):mb(this,a)}}function pb(a){return 400*a/146097}function qb(a){return 146097*a/400}function rb(a){tb.duration.fn[a]=function(){return this._data[a]}}function sb(a){\"undefined\"==typeof ender&&(ub=xb.moment,xb.moment=a?f(\"Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.\",tb):tb)}for(var tb,ub,vb,wb=\"2.8.4\",xb=\"undefined\"!=typeof global?global:this,yb=Math.round,zb=Object.prototype.hasOwnProperty,Ab=0,Bb=1,Cb=2,Db=3,Eb=4,Fb=5,Gb=6,Hb={},Ib=[],Jb=\"undefined\"!=typeof module&&module&&module.exports,Kb=/^\\/?Date\\((\\-?\\d+)/i,Lb=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,Mb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nb=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ob=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pb=/\\d\\d?/,Qb=/\\d{1,3}/,Rb=/\\d{1,4}/,Sb=/[+\\-]?\\d{1,6}/,Tb=/\\d+/,Ub=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Vb=/Z|[\\+\\-]\\d\\d:?\\d\\d/gi,Wb=/T/i,Xb=/[\\+\\-]?\\d+/,Yb=/[\\+\\-]?\\d+(\\.\\d{1,3})?/,Zb=/\\d/,$b=/\\d\\d/,_b=/\\d{3}/,ac=/\\d{4}/,bc=/[+-]?\\d{6}/,cc=/[+-]?\\d+/,dc=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,ec=\"YYYY-MM-DDTHH:mm:ssZ\",fc=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],gc=[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],hc=/([\\+\\-]|\\d\\d)/gi,ic=(\"Date|Hours|Minutes|Seconds|Milliseconds\".split(\"|\"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jc={ms:\"millisecond\",s:\"second\",m:\"minute\",h:\"hour\",d:\"day\",D:\"date\",w:\"week\",W:\"isoWeek\",M:\"month\",Q:\"quarter\",y:\"year\",DDD:\"dayOfYear\",e:\"weekday\",E:\"isoWeekday\",gg:\"weekYear\",GG:\"isoWeekYear\"},kc={dayofyear:\"dayOfYear\",isoweekday:\"isoWeekday\",isoweek:\"isoWeek\",weekyear:\"weekYear\",isoweekyear:\"isoWeekYear\"},lc={},mc={s:45,m:45,h:22,d:26,M:11},nc=\"DDD w W M D d\".split(\" \"),oc=\"M D H h m s w W\".split(\" \"),pc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?\"+\":\"-\";return b+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return p(A(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+p(A(a/60),2)+\":\"+p(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+p(A(a/60),2)+p(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qc={},rc=[\"months\",\"monthsShort\",\"weekdays\",\"weekdaysShort\",\"weekdaysMin\"];nc.length;)vb=nc.pop(),pc[vb+\"o\"]=i(pc[vb],vb);for(;oc.length;)vb=oc.pop(),pc[vb+vb]=h(pc[vb],2);pc.DDDD=h(pc.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)b=a[c],\"function\"==typeof b?this[c]=b:this[\"_\"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+\"|\"+/\\d{1,2}/.source)},_months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),months:function(a){return this._months[a.month()]},_monthsShort:\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=tb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp(\"^\"+this.months(e,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[d]=new RegExp(\"^\"+this.monthsShort(e,\"\").replace(\".\",\"\")+\"$\",\"i\")),c||this._monthsParse[d]||(f=\"^\"+this.months(e,\"\")+\"|^\"+this.monthsShort(e,\"\"),this._monthsParse[d]=new RegExp(f.replace(\".\",\"\"),\"i\")),c&&\"MMMM\"===b&&this._longMonthsParse[d].test(a))return d;if(c&&\"MMM\"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=tb([2e3,1]).day(b),d=\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY LT\",LLLL:\"dddd, MMMM D, YYYY LT\"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return\"p\"===(a+\"\").toLowerCase().charAt(0)},_meridiemParse:/[ap]\\.?m?\\.?/i,meridiem:function(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"},_calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},calendar:function(a,b,c){var d=this._calendar[a];return\"function\"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return\"function\"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return\"function\"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace(\"%d\",a)},_ordinal:\"%d\",_ordinalParse:/\\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return hb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:\"Invalid date\",invalidDate:function(){return this._invalidDate}}),tb=function(b,c,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),jb(g)},tb.suppressDeprecationWarnings=!1,tb.createFromInputFallback=f(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d=new Date(a._i+(a._useUTC?\" UTC\":\"\"))}),tb.min=function(){var a=[].slice.call(arguments,0);return kb(\"isBefore\",a)},tb.max=function(){var a=[].slice.call(arguments,0);return kb(\"isAfter\",a)},tb.utc=function(b,c,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),jb(g).utc()},tb.unix=function(a){return tb(1e3*a)},tb.duration=function(a,b){var d,e,f,g,h=a,i=null;return tb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:\"number\"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Lb.exec(a))?(d=\"-\"===i[1]?-1:1,h={y:0,d:A(i[Cb])*d,h:A(i[Db])*d,m:A(i[Eb])*d,s:A(i[Fb])*d,ms:A(i[Gb])*d}):(i=Mb.exec(a))?(d=\"-\"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(\",\",\".\"));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):\"object\"==typeof h&&(\"from\"in h||\"to\"in h)&&(g=r(tb(h.from),tb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new l(h),tb.isDuration(a)&&c(a,\"_locale\")&&(e._locale=a._locale),e},tb.version=wb,tb.defaultFormat=ec,tb.ISO_8601=function(){},tb.momentProperties=Ib,tb.updateOffset=function(){},tb.relativeTimeThreshold=function(b,c){return mc[b]===a?!1:c===a?mc[b]:(mc[b]=c,!0)},tb.lang=f(\"moment.lang is deprecated. Use moment.locale instead.\",function(a,b){return tb.locale(a,b)}),tb.locale=function(a,b){var c;return a&&(c=\"undefined\"!=typeof b?tb.defineLocale(a,b):tb.localeData(a),c&&(tb.duration._locale=tb._locale=c)),tb._locale._abbr},tb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Hb[a]||(Hb[a]=new j),Hb[a].set(b),tb.locale(a),Hb[a]):(delete Hb[a],null)},tb.langData=f(\"moment.langData is deprecated. Use moment.localeData instead.\",function(a){return tb.localeData(a)}),tb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return tb._locale;if(!u(a)){if(b=J(a))return b;a=[a]}return I(a)},tb.isMoment=function(a){return a instanceof k||null!=a&&c(a,\"_isAMomentObject\")},tb.isDuration=function(a){return a instanceof l};for(vb=rc.length-1;vb>=0;--vb)z(rc[vb]);tb.normalizeUnits=function(a){return x(a)},tb.invalid=function(a){var b=tb.utc(0/0);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},tb.parseZone=function(){return tb.apply(null,arguments).parseZone()},tb.parseTwoDigitYear=function(a){return A(a)+(A(a)>68?1900:2e3)},m(tb.fn=k.prototype,{clone:function(){return tb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=tb(this).utc();return 0<a.year()&&a.year()<=9999?\"function\"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):N(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return G(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?tb.utc(this._a):tb(this._a)).toArray())>0:!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),\"m\")),this},format:function(a){var b=N(this,a||tb.defaultFormat);return this.localeData().postformat(b)},add:s(1,\"add\"),subtract:s(-1,\"subtract\"),diff:function(a,b,c){var d,e,f,g=K(a,this),h=6e4*(this.zone()-g.zone());return b=x(b),\"year\"===b||\"month\"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-tb(this).startOf(\"month\")-(g-tb(g).startOf(\"month\")),f-=6e4*(this.zone()-tb(this).startOf(\"month\").zone()-(g.zone()-tb(g).startOf(\"month\").zone())),e+=f/d,\"year\"===b&&(e/=12)):(d=this-g,e=\"second\"===b?d/1e3:\"minute\"===b?d/6e4:\"hour\"===b?d/36e5:\"day\"===b?(d-h)/864e5:\"week\"===b?(d-h)/6048e5:d),c?e:o(e)},from:function(a,b){return tb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(tb(),a)},calendar:function(a){var b=a||tb(),c=K(b,this).startOf(\"day\"),d=this.diff(c,\"days\",!0),e=-6>d?\"sameElse\":-1>d?\"lastWeek\":0>d?\"lastDay\":1>d?\"sameDay\":2>d?\"nextDay\":7>d?\"nextWeek\":\"sameElse\";return this.format(this.localeData().calendar(e,this,tb(b)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=eb(a,this.localeData()),this.add(a-b,\"d\")):b},month:ob(\"Month\",!0),startOf:function(a){switch(a=x(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===a?this.weekday(0):\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=x(b),b===a||\"millisecond\"===b?this:this.startOf(b).add(1,\"isoWeek\"===b?\"week\":b).subtract(1,\"ms\")},isAfter:function(a,b){var c;return b=x(\"undefined\"!=typeof b?b:\"millisecond\"),\"millisecond\"===b?(a=tb.isMoment(a)?a:tb(a),+this>+a):(c=tb.isMoment(a)?+a:+tb(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=x(\"undefined\"!=typeof b?b:\"millisecond\"),\"millisecond\"===b?(a=tb.isMoment(a)?a:tb(a),+a>+this):(c=tb.isMoment(a)?+a:+tb(a),+this.clone().endOf(b)<c)},isSame:function(a,b){var c;return b=x(b||\"millisecond\"),\"millisecond\"===b?(a=tb.isMoment(a)?a:tb(a),+this===+a):(c=+tb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f(\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\",function(a){return a=tb.apply(null,arguments),this>a?this:a}),max:f(\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\",function(a){return a=tb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():(\"string\"==typeof a&&(a=Q(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,\"m\"),d!==a&&(!b||this._changeInProgress?t(this,tb.duration(d-a,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?\"UTC\":\"\"},zoneName:function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},parseZone:function(){return this._tzm?this.zone(this._tzm):\"string\"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?tb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return B(this.year(),this.month())},dayOfYear:function(a){var b=yb((tb(this).startOf(\"day\")-tb(this).startOf(\"year\"))/864e5)+1;return null==a?b:this.add(a-b,\"d\")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=hb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,\"y\")},isoWeekYear:function(a){var b=hb(this,1,4).year;return null==a?b:this.add(a-b,\"y\")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),\"d\")},isoWeek:function(a){var b=hb(this,1,4).week;return null==a?b:this.add(7*(a-b),\"d\")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,\"d\")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return C(this.year(),a.dow,a.doy)},get:function(a){return a=x(a),this[a]()},set:function(a,b){return a=x(a),\"function\"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(c=tb.localeData(b),null!=c&&(this._locale=c),this)},lang:f(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),tb.fn.millisecond=tb.fn.milliseconds=ob(\"Milliseconds\",!1),tb.fn.second=tb.fn.seconds=ob(\"Seconds\",!1),tb.fn.minute=tb.fn.minutes=ob(\"Minutes\",!1),tb.fn.hour=tb.fn.hours=ob(\"Hours\",!0),tb.fn.date=ob(\"Date\",!0),tb.fn.dates=f(\"dates accessor is deprecated. Use date instead.\",ob(\"Date\",!0)),tb.fn.year=ob(\"FullYear\",!0),tb.fn.years=f(\"years accessor is deprecated. Use year instead.\",ob(\"FullYear\",!0)),tb.fn.days=tb.fn.day,tb.fn.months=tb.fn.month,tb.fn.weeks=tb.fn.week,tb.fn.isoWeeks=tb.fn.isoWeek,tb.fn.quarters=tb.fn.quarter,tb.fn.toJSON=tb.fn.toISOString,m(tb.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=o(d/1e3),g.seconds=a%60,b=o(a/60),g.minutes=b%60,c=o(b/60),g.hours=c%24,e+=o(c/24),h=o(pb(e)),e-=o(qb(h)),f+=o(e/30),e%=30,h+=o(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(a){var b=gb(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=tb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=tb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=x(a),this[a.toLowerCase()+\"s\"]()},as:function(a){var b,c;if(a=x(a),\"month\"===a||\"year\"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*pb(b),\"month\"===a?c:c/12;switch(b=this._days+Math.round(qb(this._months/12)),a){case\"week\":return b/7+this._milliseconds/6048e5;case\"day\":return b+this._milliseconds/864e5;case\"hour\":return 24*b+this._milliseconds/36e5;case\"minute\":return 24*b*60+this._milliseconds/6e4;case\"second\":return 24*b*60*60+this._milliseconds/1e3;\ncase\"millisecond\":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error(\"Unknown unit \"+a)}},lang:tb.fn.lang,locale:tb.fn.locale,toIsoString:f(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?\"-\":\"\")+\"P\"+(a?a+\"Y\":\"\")+(b?b+\"M\":\"\")+(c?c+\"D\":\"\")+(d||e||f?\"T\":\"\")+(d?d+\"H\":\"\")+(e?e+\"M\":\"\")+(f?f+\"S\":\"\"):\"P0D\"},localeData:function(){return this._locale}}),tb.duration.fn.toString=tb.duration.fn.toISOString;for(vb in ic)c(ic,vb)&&rb(vb.toLowerCase());tb.duration.fn.asMilliseconds=function(){return this.as(\"ms\")},tb.duration.fn.asSeconds=function(){return this.as(\"s\")},tb.duration.fn.asMinutes=function(){return this.as(\"m\")},tb.duration.fn.asHours=function(){return this.as(\"h\")},tb.duration.fn.asDays=function(){return this.as(\"d\")},tb.duration.fn.asWeeks=function(){return this.as(\"weeks\")},tb.duration.fn.asMonths=function(){return this.as(\"M\")},tb.duration.fn.asYears=function(){return this.as(\"y\")},tb.locale(\"en\",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===A(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),Jb?module.exports=tb:\"function\"==typeof define&&define.amd?(define(\"moment\",['require','exports','module'],function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(xb.moment=ub),tb}),sb(!0)):sb()}).call(this);\n",
    "/*! jQuery UI - v1.11.2 - 2014-12-21\n* http://jqueryui.com\n* Includes: core.js, datepicker.js\n* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */\n\n(function(e){\"function\"==typeof define&&define.amd?define('jqueryui',[\"jquery\"],e):e(jQuery)})(function(e){function t(t,s){var a,n,r,o=t.nodeName.toLowerCase();return\"area\"===o?(a=t.parentNode,n=a.name,t.href&&n&&\"map\"===a.nodeName.toLowerCase()?(r=e(\"img[usemap='#\"+n+\"']\")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:\"a\"===o?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return\"hidden\"===e.css(this,\"visibility\")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css(\"position\"),(\"absolute\"===t||\"relative\"===t||\"fixed\"===t)&&(i=parseInt(e.css(\"zIndex\"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[\"\"]),this.regional.en=e.extend(!0,{},this.regional[\"\"]),this.regional[\"en-US\"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))}function n(t){var i=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return t.delegate(i,\"mouseout\",function(){e(this).removeClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).removeClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).removeClass(\"ui-datepicker-next-hover\")}).delegate(i,\"mouseover\",r)}function r(){e.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(e(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),e(this).addClass(\"ui-state-hover\"),-1!==this.className.indexOf(\"ui-datepicker-prev\")&&e(this).addClass(\"ui-datepicker-prev-hover\"),-1!==this.className.indexOf(\"ui-datepicker-next\")&&e(this).addClass(\"ui-datepicker-next-hover\"))}function o(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:\"1.11.2\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css(\"position\"),s=\"absolute\"===i,a=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=e(this);return s&&\"static\"===t.css(\"position\")?!1:a.test(t.css(\"overflow\")+t.css(\"overflow-y\")+t.css(\"overflow-x\"))}).eq(0);return\"fixed\"!==i&&n.length?n:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\\d+$/.test(this.id)&&e(this).removeAttr(\"id\")})}}),e.extend(e.expr[\":\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,\"tabindex\")))},tabbable:function(i){var s=e.attr(i,\"tabindex\"),a=isNaN(s);return(a||s>=0)&&t(i,!a)}}),e(\"<a>\").outerWidth(1).jquery||e.each([\"Width\",\"Height\"],function(t,i){function s(t,i,s,n){return e.each(a,function(){i-=parseFloat(e.css(t,\"padding\"+this))||0,s&&(i-=parseFloat(e.css(t,\"border\"+this+\"Width\"))||0),n&&(i-=parseFloat(e.css(t,\"margin\"+this))||0)}),i}var a=\"Width\"===i?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],n=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn[\"inner\"+i]=function(t){return void 0===t?r[\"inner\"+i].call(this):this.each(function(){e(this).css(n,s(this,t)+\"px\")})},e.fn[\"outer\"+i]=function(t,a){return\"number\"!=typeof t?r[\"outer\"+i].call(this,t):this.each(function(){e(this).css(n,s(this,t,!0,a)+\"px\")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e(\"<a>\").data(\"a-b\",\"a\").removeData(\"a-b\").data(\"a-b\")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return\"number\"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e=\"onselectstart\"in document.createElement(\"div\")?\"selectstart\":\"mousedown\";return function(){return this.bind(e+\".ui-disableSelection\",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(\".ui-disableSelection\")},zIndex:function(t){if(void 0!==t)return this.css(\"zIndex\",t);if(this.length)for(var i,s,a=e(this[0]);a.length&&a[0]!==document;){if(i=a.css(\"position\"),(\"absolute\"===i||\"relative\"===i||\"fixed\"===i)&&(s=parseInt(a.css(\"zIndex\"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var a,n=e.ui[t].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(e,t,i,s){var a,n=e.plugins[t];if(n&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(a=0;n.length>a;a++)e.options[n[a][0]]&&n[a][1].apply(e.element,i)}},e.extend(e.ui,{datepicker:{version:\"1.11.2\"}});var h;e.extend(a.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,a,n;s=t.nodeName.toLowerCase(),a=\"div\"===s||\"span\"===s,t.id||(this.uuid+=1,t.id=\"dp\"+this.uuid),n=this._newInst(e(t),a),n.settings=e.extend({},i||{}),\"input\"===s?this._connectDatepicker(t,n):a&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,\"datepicker\",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,a,n,r=this._get(i,\"appendText\"),o=this._get(i,\"isRTL\");i.append&&i.append.remove(),r&&(i.append=e(\"<span class='\"+this._appendClass+\"'>\"+r+\"</span>\"),t[o?\"before\":\"after\"](i.append)),t.unbind(\"focus\",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,\"showOn\"),(\"focus\"===s||\"both\"===s)&&t.focus(this._showDatepicker),(\"button\"===s||\"both\"===s)&&(a=this._get(i,\"buttonText\"),n=this._get(i,\"buttonImage\"),i.trigger=e(this._get(i,\"buttonImageOnly\")?e(\"<img/>\").addClass(this._triggerClass).attr({src:n,alt:a,title:a}):e(\"<button type='button'></button>\").addClass(this._triggerClass).html(n?e(\"<img/>\").attr({src:n,alt:a,title:a}):a)),t[o?\"before\":\"after\"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,\"autoSize\")&&!e.inline){var t,i,s,a,n=new Date(2009,11,20),r=this._get(e,\"dateFormat\");r.match(/[DM]/)&&(t=function(e){for(i=0,s=0,a=0;e.length>a;a++)e[a].length>i&&(i=e[a].length,s=a);return s},n.setMonth(t(this._get(e,r.match(/MM/)?\"monthNames\":\"monthNamesShort\"))),n.setDate(t(this._get(e,r.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-n.getDay())),e.input.attr(\"size\",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,\"datepicker\",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(t,i,s,a,n){var r,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,r=\"dp\"+this.uuid,this._dialogInput=e(\"<input type='text' id='\"+r+\"' style='position: absolute; top: -100px; width: 0px;'/>\"),this._dialogInput.keydown(this._doKeyDown),e(\"body\").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],\"datepicker\",c)),o(c.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],\"datepicker\",c),this},_destroyDatepicker:function(t){var i,s=e(t),a=e.data(t,\"datepicker\");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,\"datepicker\"),\"input\"===i?(a.append.remove(),a.trigger.remove(),s.removeClass(this.markerClassName).unbind(\"focus\",this._showDatepicker).unbind(\"keydown\",this._doKeyDown).unbind(\"keypress\",this._doKeyPress).unbind(\"keyup\",this._doKeyUp)):(\"div\"===i||\"span\"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,s,a=e(t),n=e.data(t,\"datepicker\");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\"input\"===i?(t.disabled=!1,n.trigger.filter(\"button\").each(function(){this.disabled=!1}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})):(\"div\"===i||\"span\"===i)&&(s=a.children(\".\"+this._inlineClass),s.children().removeClass(\"ui-state-disabled\"),s.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,a=e(t),n=e.data(t,\"datepicker\");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\"input\"===i?(t.disabled=!0,n.trigger.filter(\"button\").each(function(){this.disabled=!0}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})):(\"div\"===i||\"span\"===i)&&(s=a.children(\".\"+this._inlineClass),s.children().addClass(\"ui-state-disabled\"),s.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,\"datepicker\")}catch(i){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(t,i,s){var a,n,r,h,l=this._getInst(t);return 2===arguments.length&&\"string\"==typeof i?\"defaults\"===i?e.extend({},e.datepicker._defaults):l?\"all\"===i?e.extend({},l.settings):this._get(l,i):null:(a=i||{},\"string\"==typeof i&&(a={},a[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(l,\"min\"),h=this._getMinMaxDate(l,\"max\"),o(l.settings,a),null!==r&&void 0!==a.dateFormat&&void 0===a.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==a.dateFormat&&void 0===a.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),\"disabled\"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,n),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,a,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(\".ui-datepicker-rtl\");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return a=e(\"td.\"+e.datepicker._dayOverClass+\":not(.\"+e.datepicker._currentClass+\")\",n.dpDiv),a[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,a[0]),i=e.datepicker._get(n,\"onSelect\"),i?(s=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[s,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,\"stepBigMonths\"):-e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,\"stepBigMonths\"):+e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,\"D\"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,\"stepBigMonths\"):-e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,\"D\"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,\"D\"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,\"stepBigMonths\"):+e.datepicker._get(n,\"stepMonths\"),\"M\");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,\"D\"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,a=e.datepicker._getInst(t.target);return e.datepicker._get(a,\"constrainInput\")?(i=e.datepicker._possibleChars(e.datepicker._get(a,\"dateFormat\")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||\" \">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,\"dateFormat\"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(a){}return!0},_showDatepicker:function(t){if(t=t.target||t,\"input\"!==t.nodeName.toLowerCase()&&(t=e(\"input\",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,\"beforeShow\"),n=a?a.apply(t,[t,i]):{},n!==!1&&(o(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=\"\"),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|=\"fixed\"===e(this).css(\"position\"),!r}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?\"static\":r?\"fixed\":\"absolute\",display:\"none\",left:h.left+\"px\",top:h.top+\"px\"}),i.inline||(l=e.datepicker._get(i,\"showAnim\"),u=e.datepicker._get(i,\"duration\"),i.dpDiv.css(\"z-index\",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,\"showOptions\"),u):i.dpDiv[l||\"show\"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,h=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),a=s[1],n=17,o=t.dpDiv.find(\".\"+this._dayOverClass+\" a\");o.length>0&&r.apply(o.get(0)),t.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),a>1&&t.dpDiv.addClass(\"ui-datepicker-multi-\"+a).css(\"width\",n*a+\"em\"),t.dpDiv[(1!==s[0]||1!==s[1]?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),t.dpDiv[(this._get(t,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(\":visible\")&&!e.input.is(\":disabled\")&&!e.input.is(\":focus\")},_checkOffset:function(t,i,s){var a=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,\"isRTL\")?a-r:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>h&&h>a?Math.abs(i.left+a-h):0),i.top-=Math.min(i.top,i.top+n>l&&l>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,s=this._getInst(t),a=this._get(s,\"isRTL\");t&&(\"hidden\"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?\"previousSibling\":\"nextSibling\"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,a,n,r=this._curInst;!r||t&&r!==e.data(t,\"datepicker\")||this._datepickerShowing&&(i=this._get(r,\"showAnim\"),s=this._get(r,\"duration\"),a=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[i]||e.effects[i])?r.dpDiv.hide(i,e.datepicker._get(r,\"showOptions\"),s,a):r.dpDiv[\"slideDown\"===i?\"slideUp\":\"fadeIn\"===i?\"fadeOut\":\"hide\"](i?s:null,a),i||a(),this._datepickerShowing=!1,n=this._get(r,\"onClose\"),n&&n.apply(r.input?r.input[0]:null,[r.input?r.input.val():\"\",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),e.blockUI&&(e.unblockUI(),e(\"body\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents(\"#\"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest(\".\"+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var a=e(t),n=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(n,i+(\"M\"===s?this._get(n,\"showCurrentAtPos\"):0),s),this._updateDatepicker(n))},_gotoToday:function(t){var i,s=e(t),a=this._getInst(s[0]);this._get(a,\"gotoCurrent\")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var a=e(t),n=this._getInst(a[0]);n[\"selected\"+(\"M\"===s?\"Month\":\"Year\")]=n[\"draw\"+(\"M\"===s?\"Month\":\"Year\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(a)},_selectDay:function(t,i,s,a){var n,r=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e(\"a\",a).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=s,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,\"\")},_selectDate:function(t,i){var s,a=e(t),n=this._getInst(a[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),s=this._get(n,\"onSelect\"),s?s.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger(\"change\"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],\"object\"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,a,n=this._get(t,\"altField\");n&&(i=this._get(t,\"altFormat\")||this._get(t,\"dateFormat\"),s=this._getDate(t),a=this.formatDate(i,s,this._getFormatConfig(t)),e(n).each(function(){e(this).val(a)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,\"\"]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw\"Invalid arguments\";if(i=\"object\"==typeof i?\"\"+i:i+\"\",\"\"===i)return null;var a,n,r,o,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u=\"string\"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>a+1&&t.charAt(a+1)===e;return i&&a++,i},x=function(e){var t=_(e),s=\"@\"===e?14:\"!\"===e?20:\"y\"===e&&t?4:\"o\"===e?3:2,a=\"y\"===e?s:1,n=RegExp(\"^\\\\d{\"+a+\",\"+s+\"}\"),r=i.substring(h).match(n);if(!r)throw\"Missing number at position \"+h;return h+=r[0].length,parseInt(r[0],10)},k=function(t,s,a){var n=-1,r=e.map(_(t)?a:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(n=t[0],h+=s.length,!1):void 0}),-1!==n)return n+1;throw\"Unknown name at position \"+h},w=function(){if(i.charAt(h)!==t.charAt(a))throw\"Unexpected literal at position \"+h;h++};for(a=0;t.length>a;a++)if(b)\"'\"!==t.charAt(a)||_(\"'\")?w():b=!1;else switch(t.charAt(a)){case\"d\":v=x(\"d\");break;case\"D\":k(\"D\",d,c);break;case\"o\":y=x(\"o\");break;case\"m\":g=x(\"m\");break;case\"M\":g=k(\"M\",p,f);break;case\"y\":m=x(\"y\");break;case\"@\":o=new Date(x(\"@\")),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case\"!\":o=new Date((x(\"!\")-this._ticksTo1970)/1e4),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case\"'\":_(\"'\")?w():b=!0;break;default:w()}if(i.length>h&&(r=i.substr(h),!/^\\s+/.test(r)))throw\"Extra/unparsed characters found in date: \"+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(n=this._getDaysInMonth(m,g-1),n>=v)break;g++,v-=n}if(o=this._daylightSavingAdjust(new Date(m,g-1,v)),o.getFullYear()!==m||o.getMonth()+1!==g||o.getDate()!==v)throw\"Invalid date\";return o},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return\"\";var s,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=\"\"+t;if(h(e))for(;i>s.length;)s=\"0\"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d=\"\",c=!1;if(t)for(s=0;e.length>s;s++)if(c)\"'\"!==e.charAt(s)||h(\"'\")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case\"d\":d+=l(\"d\",t.getDate(),2);break;case\"D\":d+=u(\"D\",t.getDay(),a,n);break;case\"o\":d+=l(\"o\",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case\"m\":d+=l(\"m\",t.getMonth()+1,2);break;case\"M\":d+=u(\"M\",t.getMonth(),r,o);break;case\"y\":d+=h(\"y\")?t.getFullYear():(10>t.getYear()%100?\"0\":\"\")+t.getYear()%100;break;case\"@\":d+=t.getTime();break;case\"!\":d+=1e4*t.getTime()+this._ticksTo1970;break;case\"'\":h(\"'\")?d+=\"'\":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i=\"\",s=!1,a=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)\"'\"!==e.charAt(t)||a(\"'\")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case\"d\":case\"m\":case\"y\":case\"@\":i+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":a(\"'\")?i+=\"'\":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,\"dateFormat\"),s=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),n=a,r=this._getFormatConfig(e);try{n=this.parseDate(i,s,r)||a}catch(o){s=t?\"\":s}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=s?n.getDate():0,e.currentMonth=s?n.getMonth():0,e.currentYear=s?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,\"defaultDate\"),new Date))},_determineDate:function(t,i,s){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,\"dateFormat\"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var a=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=a.getFullYear(),r=a.getMonth(),o=a.getDate(),h=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||\"d\"){case\"d\":case\"D\":o+=parseInt(l[1],10);break;case\"w\":case\"W\":o+=7*parseInt(l[1],10);break;case\"m\":case\"M\":r+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case\"y\":case\"Y\":n+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}l=h.exec(i)}return new Date(n,r,o)},r=null==i||\"\"===i?s:\"string\"==typeof i?n(i):\"number\"==typeof i?isNaN(i)?s:a(i):new Date(i.getTime());return r=r&&\"Invalid Date\"==\"\"+r?s:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,a=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),a===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?\"\":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&\"\"===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,\"stepMonths\"),s=\"#\"+t.id.replace(/\\\\\\\\/g,\"\\\\\");t.dpDiv.find(\"[data-handler]\").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,\"M\")},next:function(){e.datepicker._adjustDate(s,+i,\"M\")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,\"M\"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,\"Y\"),!1}};e(this).bind(this.getAttribute(\"data-event\"),t[this.getAttribute(\"data-handler\")])})},_generateHTML:function(e){var t,i,s,a,n,r,o,h,l,u,d,c,p,f,m,g,v,y,b,_,x,k,w,D,T,S,M,N,C,A,I,P,F,H,z,j,E,O,L,W=new Date,R=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),Y=this._get(e,\"isRTL\"),J=this._get(e,\"showButtonPanel\"),B=this._get(e,\"hideIfNoPrevNext\"),K=this._get(e,\"navigationAsDateFormat\"),V=this._getNumberOfMonths(e),q=this._get(e,\"showCurrentAtPos\"),U=this._get(e,\"stepMonths\"),G=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,\"min\"),$=this._getMinMaxDate(e,\"max\"),Z=e.drawMonth-q,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-V[0]*V[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,\"prevText\"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"e\":\"w\")+\"'>\"+i+\"</span></a>\":B?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+i+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"e\":\"w\")+\"'>\"+i+\"</span></a>\",a=this._get(e,\"nextText\"),a=K?this.formatDate(a,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):a,n=this._canAdjustMonth(e,1,et,Z)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\"+a+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"w\":\"e\")+\"'>\"+a+\"</span></a>\":B?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+a+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(Y?\"w\":\"e\")+\"'>\"+a+\"</span></a>\",r=this._get(e,\"currentText\"),o=this._get(e,\"gotoCurrent\")&&e.currentDay?Q:R,r=K?this.formatDate(r,o,this._getFormatConfig(e)):r,h=e.inline?\"\":\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(e,\"closeText\")+\"</button>\",l=J?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(Y?h:\"\")+(this._isInRange(e,o)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\"+r+\"</button>\":\"\")+(Y?\"\":h)+\"</div>\":\"\",u=parseInt(this._get(e,\"firstDay\"),10),u=isNaN(u)?0:u,d=this._get(e,\"showWeek\"),c=this._get(e,\"dayNames\"),p=this._get(e,\"dayNamesMin\"),f=this._get(e,\"monthNames\"),m=this._get(e,\"monthNamesShort\"),g=this._get(e,\"beforeShowDay\"),v=this._get(e,\"showOtherMonths\"),y=this._get(e,\"selectOtherMonths\"),b=this._getDefaultDate(e),_=\"\",k=0;V[0]>k;k++){for(w=\"\",this.maxRows=4,D=0;V[1]>D;D++){if(T=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=\" ui-corner-all\",M=\"\",G){if(M+=\"<div class='ui-datepicker-group\",V[1]>1)switch(D){case 0:M+=\" ui-datepicker-group-first\",S=\" ui-corner-\"+(Y?\"right\":\"left\");\nbreak;case V[1]-1:M+=\" ui-datepicker-group-last\",S=\" ui-corner-\"+(Y?\"left\":\"right\");break;default:M+=\" ui-datepicker-group-middle\",S=\"\"}M+=\"'>\"}for(M+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+S+\"'>\"+(/all|left/.test(S)&&0===k?Y?n:s:\"\")+(/all|right/.test(S)&&0===k?Y?s:n:\"\")+this._generateMonthYearHeader(e,Z,et,X,$,k>0||D>0,f,m)+\"</div><table class='ui-datepicker-calendar'><thead>\"+\"<tr>\",N=d?\"<th class='ui-datepicker-week-col'>\"+this._get(e,\"weekHeader\")+\"</th>\":\"\",x=0;7>x;x++)C=(x+u)%7,N+=\"<th scope='col'\"+((x+u+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\">\"+\"<span title='\"+c[C]+\"'>\"+p[C]+\"</span></th>\";for(M+=N+\"</tr></thead><tbody>\",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(et,Z)-u+7)%7,P=Math.ceil((I+A)/7),F=G?this.maxRows>P?this.maxRows:P:P,this.maxRows=F,H=this._daylightSavingAdjust(new Date(et,Z,1-I)),z=0;F>z;z++){for(M+=\"<tr>\",j=d?\"<td class='ui-datepicker-week-col'>\"+this._get(e,\"calculateWeek\")(H)+\"</td>\":\"\",x=0;7>x;x++)E=g?g.apply(e.input?e.input[0]:null,[H]):[!0,\"\"],O=H.getMonth()!==Z,L=O&&!y||!E[0]||X&&X>H||$&&H>$,j+=\"<td class='\"+((x+u+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(O?\" ui-datepicker-other-month\":\"\")+(H.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===H.getTime()&&b.getTime()===T.getTime()?\" \"+this._dayOverClass:\"\")+(L?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(O&&!v?\"\":\" \"+E[1]+(H.getTime()===Q.getTime()?\" \"+this._currentClass:\"\")+(H.getTime()===R.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(O&&!v||!E[2]?\"\":\" title='\"+E[2].replace(/'/g,\"&#39;\")+\"'\")+(L?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+H.getMonth()+\"' data-year='\"+H.getFullYear()+\"'\")+\">\"+(O&&!v?\"&#xa0;\":L?\"<span class='ui-state-default'>\"+H.getDate()+\"</span>\":\"<a class='ui-state-default\"+(H.getTime()===R.getTime()?\" ui-state-highlight\":\"\")+(H.getTime()===Q.getTime()?\" ui-state-active\":\"\")+(O?\" ui-priority-secondary\":\"\")+\"' href='#'>\"+H.getDate()+\"</a>\")+\"</td>\",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);M+=j+\"</tr>\"}Z++,Z>11&&(Z=0,et++),M+=\"</tbody></table>\"+(G?\"</div>\"+(V[0]>0&&D===V[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\"),w+=M}_+=w}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,a,n,r,o){var h,l,u,d,c,p,f,m,g=this._get(e,\"changeMonth\"),v=this._get(e,\"changeYear\"),y=this._get(e,\"showMonthAfterYear\"),b=\"<div class='ui-datepicker-title'>\",_=\"\";if(n||!g)_+=\"<span class='ui-datepicker-month'>\"+r[t]+\"</span>\";else{for(h=s&&s.getFullYear()===i,l=a&&a.getFullYear()===i,_+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||a.getMonth()>=u)&&(_+=\"<option value='\"+u+\"'\"+(u===t?\" selected='selected'\":\"\")+\">\"+o[u]+\"</option>\");_+=\"</select>\"}if(y||(b+=_+(!n&&g&&v?\"\":\"&#xa0;\")),!e.yearshtml)if(e.yearshtml=\"\",n||!v)b+=\"<span class='ui-datepicker-year'>\"+i+\"</span>\";else{for(d=this._get(e,\"yearRange\").split(\":\"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||\"\")),f=s?Math.max(f,s.getFullYear()):f,m=a?Math.min(m,a.getFullYear()):m,e.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";m>=f;f++)e.yearshtml+=\"<option value='\"+f+\"'\"+(f===i?\" selected='selected'\":\"\")+\">\"+f+\"</option>\";e.yearshtml+=\"</select>\",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,\"yearSuffix\"),y&&(b+=(!n&&g&&v?\"\":\"&#xa0;\")+_),b+=\"</div>\"},_adjustInstDate:function(e,t,i){var s=e.drawYear+(\"Y\"===i?t:0),a=e.drawMonth+(\"M\"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(s,a))+(\"D\"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,a,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),(\"M\"===i||\"Y\"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,\"min\"),s=this._getMinMaxDate(e,\"max\"),a=i&&i>t?i:t;return s&&a>s?s:a},_notifyChange:function(e){var t=this._get(e,\"onChangeMonthYear\");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,\"numberOfMonths\");return null==t?[1,1]:\"number\"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+\"Date\"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var a=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,s+(0>t?t:a[0]*a[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,s,a=this._getMinMaxDate(e,\"min\"),n=this._getMinMaxDate(e,\"max\"),r=null,o=null,h=this._get(e,\"yearRange\");return h&&(i=h.split(\":\"),s=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(r+=s),i[1].match(/[+\\-].*/)&&(o+=s)),(!a||t.getTime()>=a.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,\"shortYearCutoff\");return t=\"string\"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,\"dayNamesShort\"),dayNames:this._get(e,\"dayNames\"),monthNamesShort:this._get(e,\"monthNamesShort\"),monthNames:this._get(e,\"monthNames\")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?\"object\"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,\"dateFormat\"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e(\"#\"+e.datepicker._mainDivId).length&&e(\"body\").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\"string\"!=typeof t||\"isDisabled\"!==t&&\"getDate\"!==t&&\"widget\"!==t?\"option\"===t&&2===arguments.length&&\"string\"==typeof arguments[1]?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){\"string\"==typeof t?e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker[\"_\"+t+\"Datepicker\"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new a,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version=\"1.11.2\",e.datepicker});\n",
    "/*\nCopyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\n(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i,e={timestamp:\"EAPE\",version:\"4.4.6\",revision:\"08188c4\",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:\"unloaded\",basePath:function(){var f=window.CKEDITOR_BASEPATH||\"\";if(!f)for(var d=document.getElementsByTagName(\"script\"),c=0;c<d.length;c++){var b=d[c].src.match(a);if(b){f=b[1];break}}-1==f.indexOf(\":/\")&&\"//\"!=f.slice(0,2)&&(f=0===f.indexOf(\"/\")?location.href.match(/^.*?:\\/\\/[^\\/]*/)[0]+\nf:location.href.match(/^[^\\?]*\\/(?:)/)[0]+f);if(!f)throw'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';return f}(),getUrl:function(a){-1==a.indexOf(\":/\")&&0!==a.indexOf(\"/\")&&(a=this.basePath+a);this.timestamp&&(\"/\"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a))&&(a+=(0<=a.indexOf(\"?\")?\"&\":\"?\")+\"t=\"+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener(\"DOMContentLoaded\",\na,!1),d()):document.attachEvent&&\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",a),d())}catch(c){}}function d(){for(var a;a=c.shift();)a()}var c=[];return function(d){function b(){try{document.documentElement.doScroll(\"left\")}catch(m){setTimeout(b,1);return}a()}c.push(d);\"complete\"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",a,!1),window.addEventListener(\"load\",a,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",\na);window.attachEvent(\"onload\",a);d=!1;try{d=!window.frameElement}catch(e){}document.documentElement.doScroll&&d&&b()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=e.getUrl;e.getUrl=function(a){return b.call(e,a)||c.call(e,a)}}return e}());\nCKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var e=CKEDITOR.event.prototype,b;for(b in e)a[b]==null&&(a[b]=e[b])},CKEDITOR.event.prototype=function(){function a(a){var f=e(this);return f[a]||(f[a]=new b(a))}var e=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var f=0,d=this.listeners;f<d.length;f++)if(d[f].fn==a)return f;return-1}};\nreturn{define:function(b,f){var d=a.call(this,b);CKEDITOR.tools.extend(d,f,true)},on:function(b,f,d,e,l){function i(a,m,t,j){a={name:b,sender:this,editor:a,data:m,listenerData:e,stop:t,cancel:j,removeListener:g};return f.call(d,a)===false?false:a.data}function g(){t.removeListener(b,f)}var m=a.call(this,b);if(m.getListenerIndex(f)<0){m=m.listeners;d||(d=this);isNaN(l)&&(l=10);var t=this;i.fn=f;i.priority=l;for(var s=m.length-1;s>=0;s--)if(m[s].priority<=l){m.splice(s+1,0,i);return{removeListener:g}}m.unshift(i)}return{removeListener:g}},\nonce:function(){var a=Array.prototype.slice.call(arguments),f=a[1];a[1]=function(a){a.removeListener();return f.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,f=function(){a=1},d=0,b=function(){d=1};return function(l,i,g){var m=e(this)[l],l=a,t=d;a=d=0;if(m){var s=m.listeners;if(s.length)for(var s=s.slice(0),y,p=0;p<s.length;p++){if(m.errorProof)try{y=\ns[p].call(this,g,i,f,b)}catch(q){}else y=s[p].call(this,g,i,f,b);y===false?d=1:typeof y!=\"undefined\"&&(i=y);if(a||d)break}}i=d?false:typeof i==\"undefined\"?true:i;a=l;d=t;return i}}(),fireOnce:function(a,f,d){f=this.fire(a,f,d);delete e(this)[a];return f},removeListener:function(a,f){var d=e(this)[a];if(d){var b=d.getListenerIndex(f);b>=0&&d.listeners.splice(b,1)}},removeAllListeners:function(){var a=e(this),f;for(f in a)delete a[f]},hasListeners:function(a){return(a=e(this)[a])&&a.listeners.length>\n0}}}());CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,e){a in{instanceReady:1,loaded:1}&&(this[a]=true);return CKEDITOR.event.prototype.fire.call(this,a,e,this)},CKEDITOR.editor.prototype.fireOnce=function(a,e){a in{instanceReady:1,loaded:1}&&(this[a]=true);return CKEDITOR.event.prototype.fireOnce.call(this,a,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));\nCKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),e={ie:a.indexOf(\"trident/\")>-1,webkit:a.indexOf(\" applewebkit/\")>-1,air:a.indexOf(\" adobeair/\")>-1,mac:a.indexOf(\"macintosh\")>-1,quirks:document.compatMode==\"BackCompat\"&&(!document.documentMode||document.documentMode<10),mobile:a.indexOf(\"mobile\")>-1,iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return false;var a=document.domain,d=window.location.hostname;return a!=d&&a!=\"[\"+d+\"]\"},secure:location.protocol==\n\"https:\"};e.gecko=navigator.product==\"Gecko\"&&!e.webkit&&!e.ie;if(e.webkit)a.indexOf(\"chrome\")>-1?e.chrome=true:e.safari=true;var b=0;if(e.ie){b=e.quirks||!document.documentMode?parseFloat(a.match(/msie (\\d+)/)[1]):document.documentMode;e.ie9Compat=b==9;e.ie8Compat=b==8;e.ie7Compat=b==7;e.ie6Compat=b<7||e.quirks}if(e.gecko){var c=a.match(/rv:([\\d\\.]+)/);if(c){c=c[1].split(\".\");b=c[0]*1E4+(c[1]||0)*100+(c[2]||0)*1}}e.air&&(b=parseFloat(a.match(/ adobeair\\/(\\d+)/)[1]));e.webkit&&(b=parseFloat(a.match(/ applewebkit\\/(\\d+)/)[1]));\ne.version=b;e.isCompatible=e.iOS&&b>=534||!e.mobile&&(e.ie&&b>6||e.gecko&&b>=2E4||e.air&&b>=1||e.webkit&&b>=522||false);e.hidpi=window.devicePixelRatio>=2;e.needsBrFiller=e.gecko||e.webkit||e.ie&&b>10;e.needsNbspFiller=e.ie&&b<11;e.cssClass=\"cke_browser_\"+(e.ie?\"ie\":e.gecko?\"gecko\":e.webkit?\"webkit\":\"unknown\");if(e.quirks)e.cssClass=e.cssClass+\" cke_browser_quirks\";if(e.ie)e.cssClass=e.cssClass+(\" cke_browser_ie\"+(e.quirks?\"6 cke_browser_iequirks\":e.version));if(e.air)e.cssClass=e.cssClass+\" cke_browser_air\";\nif(e.iOS)e.cssClass=e.cssClass+\" cke_browser_ios\";if(e.hidpi)e.cssClass=e.cssClass+\" cke_hidpi\";return e}());\n\"unloaded\"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if(CKEDITOR.status!=\"basic_ready\")CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement(\"script\");a.type=\"text/javascript\";a.src=CKEDITOR.basePath+\"ckeditor.js\";document.getElementsByTagName(\"head\")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=\nCKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;if(a){CKEDITOR.status=\"basic_ready\";a&&a._load?a():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},e*1E3)}})})();CKEDITOR.status=\"basic_loaded\"}();CKEDITOR.dom={};\n(function(){var a=[],e=CKEDITOR.env.gecko?\"-moz-\":CKEDITOR.env.webkit?\"-webkit-\":CKEDITOR.env.ie?\"-ms-\":\"\",b=/&/g,c=/>/g,f=/</g,d=/\"/g,h=/&amp;/g,l=/&gt;/g,i=/&lt;/g,g=/&quot;/g;CKEDITOR.on(\"reset\",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,f){if(!a&&!f)return true;if(!a||!f||a.length!=f.length)return false;for(var d=0;d<a.length;d++)if(a[d]!=f[d])return false;return true},clone:function(a){var f;if(a&&a instanceof Array){f=[];for(var d=0;d<a.length;d++)f[d]=CKEDITOR.tools.clone(a[d]);\nreturn f}if(a===null||typeof a!=\"object\"||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;f=new a.constructor;for(d in a)f[d]=CKEDITOR.tools.clone(a[d]);return f},capitalize:function(a,f){return a.charAt(0).toUpperCase()+(f?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var f=arguments.length,d,b;if(typeof(d=arguments[f-1])==\"boolean\")f--;else if(typeof(d=arguments[f-2])==\"boolean\"){b=arguments[f-1];\nf=f-2}for(var c=1;c<f;c++){var e=arguments[c],j;for(j in e)if(d===true||a[j]==null)if(!b||j in b)a[j]=e[j]}return a},prototypedCopy:function(a){var f=function(){};f.prototype=a;return new f},copy:function(a){var f={},d;for(d in a)f[d]=a[d];return f},isArray:function(a){return Object.prototype.toString.call(a)==\"[object Array]\"},isEmpty:function(a){for(var f in a)if(a.hasOwnProperty(f))return false;return true},cssVendorPrefix:function(a,f,d){if(d)return e+a+\":\"+f+\";\"+a+\":\"+f;d={};d[a]=f;d[e+a]=f;\nreturn d},cssStyleToDomStyle:function(){var a=document.createElement(\"div\").style,f=typeof a.cssFloat!=\"undefined\"?\"cssFloat\":typeof a.styleFloat!=\"undefined\"?\"styleFloat\":\"float\";return function(a){return a==\"float\"?f:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){for(var a=[].concat(a),f,d=[],b=0;b<a.length;b++)if(f=a[b])/@import|[{}]/.test(f)?d.push(\"<style>\"+f+\"</style>\"):d.push('<link type=\"text/css\" rel=stylesheet href=\"'+f+'\">');return d.join(\"\")},\nhtmlEncode:function(a){return(\"\"+a).replace(b,\"&amp;\").replace(c,\"&gt;\").replace(f,\"&lt;\")},htmlDecode:function(a){return a.replace(h,\"&\").replace(l,\">\").replace(i,\"<\")},htmlEncodeAttr:function(a){return a.replace(d,\"&quot;\").replace(f,\"&lt;\").replace(c,\"&gt;\")},htmlDecodeAttr:function(a){return a.replace(g,'\"').replace(i,\"<\").replace(l,\">\")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return\"cke_\"+this.getNextNumber()},override:function(a,f){var d=f(a);d.prototype=\na.prototype;return d},setTimeout:function(a,f,d,b,c){c||(c=window);d||(d=c);return c.setTimeout(function(){b?a.apply(d,[].concat(b)):a.apply(d)},f||0)},trim:function(){var a=/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;return function(f){return f.replace(a,\"\")}}(),ltrim:function(){var a=/^[ \\t\\n\\r]+/g;return function(f){return f.replace(a,\"\")}}(),rtrim:function(){var a=/[ \\t\\n\\r]+$/g;return function(f){return f.replace(a,\"\")}}(),indexOf:function(a,f){if(typeof f==\"function\")for(var d=0,b=a.length;d<b;d++){if(f(a[d]))return d}else{if(a.indexOf)return a.indexOf(f);\nd=0;for(b=a.length;d<b;d++)if(a[d]===f)return d}return-1},search:function(a,f){var d=CKEDITOR.tools.indexOf(a,f);return d>=0?a[d]:null},bind:function(a,f){return function(){return a.apply(f,arguments)}},createClass:function(a){var f=a.$,d=a.base,b=a.privates||a._,c=a.proto,a=a.statics;!f&&(f=function(){d&&this.base.apply(this,arguments)});if(b)var e=f,f=function(){var a=this._||(this._={}),f;for(f in b){var d=b[f];a[f]=typeof d==\"function\"?CKEDITOR.tools.bind(d,this):d}e.apply(this,arguments)};if(d){f.prototype=\nthis.prototypedCopy(d.prototype);f.prototype.constructor=f;f.base=d;f.baseProto=d.prototype;f.prototype.base=function(){this.base=d.prototype.base;d.apply(this,arguments);this.base=arguments.callee}}c&&this.extend(f.prototype,c,true);a&&this.extend(f,a,true);return f},addFunction:function(f,d){return a.push(function(){return f.apply(d||this,arguments)})-1},removeFunction:function(f){a[f]=null},callFunction:function(f){var d=a[f];return d&&d.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=\n/^-?\\d+\\.?\\d*px$/,f;return function(d){f=CKEDITOR.tools.trim(d+\"\")+\"px\";return a.test(f)?f:d||\"\"}}(),convertToPx:function(){var a;return function(f){if(!a){a=CKEDITOR.dom.element.createFromHtml('<div style=\"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;\"></div>',CKEDITOR.document);CKEDITOR.document.getBody().append(a)}if(!/%$/.test(f)){a.setStyle(\"width\",f);return a.$.clientWidth}return f}}(),repeat:function(a,f){return Array(f+1).join(a)},tryThese:function(){for(var a,\nf=0,d=arguments.length;f<d;f++){var b=arguments[f];try{a=b();break}catch(c){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join(\"-\")},defer:function(a){return function(){var f=arguments,d=this;window.setTimeout(function(){a.apply(d,f)},0)}},normalizeCssText:function(a,f){var d=[],b,c=CKEDITOR.tools.parseCssText(a,true,f);for(b in c)d.push(b+\":\"+c[b]);d.sort();return d.length?d.join(\";\")+\";\":\"\"},convertRgbToHex:function(a){return a.replace(/(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi,\nfunction(a,f,d,b){a=[f,d,b];for(f=0;f<3;f++)a[f]=(\"0\"+parseInt(a[f],10).toString(16)).slice(-2);return\"#\"+a.join(\"\")})},parseCssText:function(a,f,d){var b={};if(d){d=new CKEDITOR.dom.element(\"span\");d.setAttribute(\"style\",a);a=CKEDITOR.tools.convertRgbToHex(d.getAttribute(\"style\")||\"\")}if(!a||a==\";\")return b;a.replace(/&quot;/g,'\"').replace(/\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,d,m){if(f){d=d.toLowerCase();d==\"font-family\"&&(m=m.toLowerCase().replace(/[\"']/g,\"\").replace(/\\s*,\\s*/g,\",\"));\nm=CKEDITOR.tools.trim(m)}b[d]=m});return b},writeCssText:function(a,f){var d,b=[];for(d in a)b.push(d+\":\"+a[d]);f&&b.sort();return b.join(\"; \")},objectCompare:function(a,f,d){var b;if(!a&&!f)return true;if(!a||!f)return false;for(b in a)if(a[b]!=f[b])return false;if(!d)for(b in f)if(a[b]!=f[b])return false;return true},objectKeys:function(a){var f=[],d;for(d in a)f.push(d);return f},convertArrayToObject:function(a,f){var d={};arguments.length==1&&(f=true);for(var b=0,c=a.length;b<c;++b)d[a[b]]=f;\nreturn d},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;break}catch(f){a=a?a.replace(/.+?(?:\\.|$)/,\"\"):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,f){function d(){c=(new Date).getTime();b=false;f()}var b,c=0;return{input:function(){if(!b){var f=(new Date).getTime()-c;f<a?b=setTimeout(d,a-f):d()}},reset:function(){b&&clearTimeout(b);b=c=0}}},enableHtml5Elements:function(a,f){for(var d=[\"abbr\",\"article\",\"aside\",\"audio\",\"bdi\",\"canvas\",\"data\",\n\"datalist\",\"details\",\"figcaption\",\"figure\",\"footer\",\"header\",\"hgroup\",\"mark\",\"meter\",\"nav\",\"output\",\"progress\",\"section\",\"summary\",\"time\",\"video\"],b=d.length,c;b--;){c=a.createElement(d[b]);f&&a.appendChild(c)}},checkIfAnyArrayItemMatches:function(a,f){for(var d=0,b=a.length;d<b;++d)if(a[d].match(f))return true;return false},checkIfAnyObjectPropertyMatches:function(a,f){for(var d in a)if(d.match(f))return true;return false},transparentImageData:\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\"}})();\nCKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,e=function(a,f){for(var d=CKEDITOR.tools.clone(a),b=1;b<arguments.length;b++){var f=arguments[b],c;for(c in f)delete d[c]}return d},b={},c={},f={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},d={command:1,link:1,meta:1,noscript:1,script:1,style:1},h={},l={\"#\":1},i={center:1,dir:1,noframes:1};\na(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,\"var\":1,video:1,wbr:1},l,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,f,b,i);e={a:e(b,{a:1,button:1}),abbr:b,address:c,\narea:h,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:h,bdi:b,bdo:b,blockquote:c,body:c,br:h,button:e(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:h,colgroup:{col:1},command:h,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,em:b,embed:h,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},d),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:h,html:a({head:1,\nbody:1},c,d),i:b,iframe:l,img:h,input:h,ins:b,kbd:b,keygen:h,label:b,legend:b,li:c,link:h,main:c,map:c,mark:b,menu:a({li:1},c),meta:h,meter:e(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:l,output:b,p:b,param:h,pre:b,progress:e(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:l,section:c,select:{optgroup:1,option:1},small:b,source:h,span:b,strong:b,style:l,sub:b,summary:b,sup:b,table:{caption:1,colgroup:1,thead:1,\ntfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:l,tfoot:{tr:1},th:c,thead:{tr:1},time:e(b,{time:1}),title:l,tr:{th:1,td:1},track:h,u:b,ul:{li:1},\"var\":b,video:a({source:1,track:1},c),wbr:h,acronym:b,applet:a({param:1},c),basefont:h,big:b,center:c,dialog:h,dir:{li:1},font:b,isindex:h,noframes:c,strike:b,tt:b};a(e,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},f,i),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,\nform:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,\nul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,\nsub:1,sup:1,time:1,tt:1,u:1,\"var\":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return e}();CKEDITOR.dom.event=function(a){this.$=a};\nCKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a=a+CKEDITOR.CTRL;this.$.shiftKey&&(a=a+CKEDITOR.SHIFT);this.$.altKey&&(a=a+CKEDITOR.ALT);return a},preventDefault:function(a){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=false;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=true},getTarget:function(){var a=\nthis.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;\nCKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(a){if(a)this.$=a};\nCKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){typeof CKEDITOR!=\"undefined\"&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;if(!(a=this.getCustomData(\"_\")))this.setCustomData(\"_\",a={});return a},on:function(e){var b=this.getCustomData(\"_cke_nativeListeners\");if(!b){b={};this.setCustomData(\"_cke_nativeListeners\",b)}if(!b[e]){b=b[e]=a(this,e);this.$.addEventListener?this.$.addEventListener(e,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&\nthis.$.attachEvent(\"on\"+e,b)}return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData(\"_cke_nativeListeners\"),c=b&&b[a];if(c){this.$.removeEventListener?this.$.removeEventListener(a,c,false):this.$.detachEvent&&this.$.detachEvent(\"on\"+a,c);delete b[a]}}},removeAllListeners:function(){var a=this.getCustomData(\"_cke_nativeListeners\"),b;for(b in a){var c=a[b];this.$.detachEvent?\nthis.$.detachEvent(\"on\"+b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,false);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}();\n(function(a){var e={};CKEDITOR.on(\"reset\",function(){e={}});a.equals=function(a){try{return a&&a.$===this.$}catch(c){return false}};a.setCustomData=function(a,c){var f=this.getUniqueId();(e[f]||(e[f]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$[\"data-cke-expando\"];return(c=c&&e[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$[\"data-cke-expando\"],c=c&&e[c],f,d;if(c){f=c[a];d=a in c;delete c[a]}return d?f:null};a.clearCustomData=function(){this.removeAllListeners();\nvar a=this.$[\"data-cke-expando\"];a&&delete e[a]};a.getUniqueId=function(){return this.$[\"data-cke-expando\"]||(this.$[\"data-cke-expando\"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)})(CKEDITOR.dom.domObject.prototype);\nCKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?\"document\":a.nodeType==CKEDITOR.NODE_ELEMENT?\"element\":a.nodeType==CKEDITOR.NODE_TEXT?\"text\":a.nodeType==CKEDITOR.NODE_COMMENT?\"comment\":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?\"documentFragment\":\"domObject\"](a):this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;\nCKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;\nCKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,e){a.append(this,e);return a},clone:function(a,e){var b=this.$.cloneNode(a),c=function(f){f[\"data-cke-expando\"]&&(f[\"data-cke-expando\"]=false);if(f.nodeType==CKEDITOR.NODE_ELEMENT){e||f.removeAttribute(\"id\",false);if(a)for(var f=f.childNodes,d=0;d<f.length;d++)c(f[d])}};c(b);return new CKEDITOR.dom.node(b)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,\na.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var e=[],b=this.getDocument().$.documentElement,c=this.$;c&&c!=b;){var f=c.parentNode;f&&e.unshift(this.getIndex.call({$:c},a));c=f}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function e(a,f){var b=\nf?a.nextSibling:a.previousSibling;return!b||b.nodeType!=CKEDITOR.NODE_TEXT?null:b.nodeValue?b:e(b,f)}var b=this.$,c=-1,f;if(!this.$.parentNode||a&&b.nodeType==CKEDITOR.NODE_TEXT&&!b.nodeValue&&!e(b)&&!e(b,true))return-1;do if(!a||!(b!=this.$&&b.nodeType==CKEDITOR.NODE_TEXT&&(f||!b.nodeValue))){c++;f=b.nodeType==CKEDITOR.NODE_TEXT}while(b=b.previousSibling);return c},getNextSourceNode:function(a,e,b){if(b&&!b.call)var c=b,b=function(a){return!a.equals(c)};var a=!a&&this.getFirst&&this.getFirst(),f;\nif(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&b(this,true)===false)return null;a=this.getNext()}for(;!a&&(f=(f||this).getParent());){if(b&&b(f,true)===false)return null;a=f.getNext()}return!a||b&&b(a)===false?null:e&&e!=a.type?a.getNextSourceNode(false,e,b):a},getPreviousSourceNode:function(a,e,b){if(b&&!b.call)var c=b,b=function(a){return!a.equals(c)};var a=!a&&this.getLast&&this.getLast(),f;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&b(this,true)===false)return null;a=this.getPrevious()}for(;!a&&\n(f=(f||this).getParent());){if(b&&b(f,true)===false)return null;a=f.getPrevious()}return!a||b&&b(a)===false?null:e&&a.type!=e?a.getPreviousSourceNode(false,e,b):a},getPrevious:function(a){var e=this.$,b;do b=(e=e.previousSibling)&&e.nodeType!=10&&new CKEDITOR.dom.node(e);while(b&&a&&!a(b));return b},getNext:function(a){var e=this.$,b;do b=(e=e.nextSibling)&&new CKEDITOR.dom.node(e);while(b&&a&&!a(b));return b},getParent:function(a){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||\na&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(a){var e=this,b=[];do b[a?\"push\":\"unshift\"](e);while(e=e.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var e=this.contains?this:this.getParent();do if(e.contains(a))return e;while(e=e.getParent());return null},getPosition:function(a){var e=this.$,b=a.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(b);if(e==\nb)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if(\"sourceIndex\"in e)return e.sourceIndex<0||b.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var e=this.getAddress(),a=a.getAddress(),\nb=Math.min(e.length,a.length),c=0;c<=b-1;c++)if(e[c]!=a[c]){if(c<b)return e[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;break}return e.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,e){var b=this.$,c,f;if(!e)b=b.parentNode;if(typeof a==\"function\"){f=true;c=a}else{f=false;c=function(f){f=typeof f.nodeName==\"string\"?f.nodeName.toLowerCase():\"\";return typeof a==\"string\"?f==\na:f in a}}for(;b;){if(c(f?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(d){b=null}}return null},hasAscendant:function(a,e){var b=this.$;if(!e)b=b.parentNode;for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return true;b=b.parentNode}return false},move:function(a,e){a.append(this.remove(),e)},remove:function(a){var e=this.$,b=e.parentNode;if(b){if(a)for(;a=e.firstChild;)b.insertBefore(e.removeChild(a),e);b.removeChild(e)}return this},replace:function(a){this.insertBefore(a);\na.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(e){if(e.length<b){a.split(b-e.length);this.$.removeChild(this.$.firstChild)}}else{a.remove();continue}}break}},rtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(e){if(e.length<b){a.split(e.length);\nthis.$.lastChild.parentNode.removeChild(this.$.lastChild)}}else{a.remove();continue}}break}if(CKEDITOR.env.needsBrFiller)(a=this.$.lastChild)&&(a.type==1&&a.nodeName.toLowerCase()==\"br\")&&a.parentNode.removeChild(a)},isReadOnly:function(){var a=this;this.type!=CKEDITOR.NODE_ELEMENT&&(a=this.getParent());if(a&&typeof a.$.isContentEditable!=\"undefined\")return!(a.$.isContentEditable||a.data(\"cke-editable\"));for(;a;){if(a.data(\"cke-editable\"))break;if(a.getAttribute(\"contentEditable\")==\"false\")return true;\nif(a.getAttribute(\"contentEditable\")==\"true\")break;a=a.getParent()}return!a}});CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;\nCKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,e=a.compatMode==\"CSS1Compat\";return{width:(e?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(e?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if(\"pageXOffset\"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||\na.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}});CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;\nCKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var e=new CKEDITOR.dom.element(\"link\");e.setAttributes({rel:\"stylesheet\",type:\"text/css\",href:a});this.getHead().append(e)}},appendStyleText:function(a){if(this.$.createStyleSheet){var e=this.$.createStyleSheet(\"\");e.cssText=a}else{var b=new CKEDITOR.dom.element(\"style\",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return e||\nb.$.sheet},createElement:function(a,e){var b=new CKEDITOR.dom.element(a,this);if(e){e.attributes&&b.setAttributes(e.attributes);e.styles&&b.setStyles(e.styles)}return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,e){for(var b=\nthis.$.documentElement,c=0;b&&c<a.length;c++){var f=a[c];if(e)for(var d=-1,h=0;h<b.childNodes.length;h++){var l=b.childNodes[h];if(!(e===true&&l.nodeType==3&&l.previousSibling&&l.previousSibling.nodeType==3)){d++;if(d==f){b=l;break}}}else b=b.childNodes[f]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,e){!(CKEDITOR.env.ie&&document.documentMode<=8)&&e&&(a=e+\":\"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName(\"head\")[0];\nreturn a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element(\"head\"),true)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open(\"text/html\",\"replace\");CKEDITOR.env.ie&&(a=a.replace(/(?:^\\s*<!DOCTYPE[^>]*?>)|^/i,'$&\\n<script data-cke-temp=\"1\">('+\nCKEDITOR.tools.fixDomain+\")();<\\/script>\"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData(\"html5ShivFrag\");if(!a){a=this.$.createDocumentFragment();CKEDITOR.tools.enableHtml5Elements(a,true);this.setCustomData(\"html5ShivFrag\",a)}return a}});CKEDITOR.dom.nodeList=function(a){this.$=a};\nCKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){if(a<0||a>=this.$.length)return null;return(a=this.$[a])?new CKEDITOR.dom.node(a):null}};CKEDITOR.dom.element=function(a,e){typeof a==\"string\"&&(a=(e?e.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.element.get=function(a){return(a=typeof a==\"string\"?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))};\nCKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(a,e){var b=new CKEDITOR.dom.element(\"div\",e);b.setHtml(a);return b.getFirst().remove()};\nCKEDITOR.dom.element.setMarker=function(a,e,b,c){var f=e.getCustomData(\"list_marker_id\")||e.setCustomData(\"list_marker_id\",CKEDITOR.tools.getNextNumber()).getCustomData(\"list_marker_id\"),d=e.getCustomData(\"list_marker_names\")||e.setCustomData(\"list_marker_names\",{}).getCustomData(\"list_marker_names\");a[f]=e;d[b]=1;return e.setCustomData(b,c)};CKEDITOR.dom.element.clearAllMarkers=function(a){for(var e in a)CKEDITOR.dom.element.clearMarkers(a,a[e],1)};\nCKEDITOR.dom.element.clearMarkers=function(a,e,b){var c=e.getCustomData(\"list_marker_names\"),f=e.getCustomData(\"list_marker_id\"),d;for(d in c)e.removeCustomData(d);e.removeCustomData(\"list_marker_names\");if(b){e.removeCustomData(\"list_marker_id\");delete a[f]}};\n(function(){function a(a){var d=true;if(!a.$.id){a.$.id=\"cke_tmp_\"+CKEDITOR.tools.getNextNumber();d=false}return function(){d||a.removeAttribute(\"id\")}}function e(a,d){return\"#\"+a.$.id+\" \"+d.split(/,\\s*/).join(\", #\"+a.$.id+\" \")}function b(a){for(var d=0,b=0,e=c[a].length;b<e;b++)d=d+(parseInt(this.getComputedStyle(c[a][b])||0,10)||0);return d}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:function(a){var d=this.$.className;d&&(RegExp(\"(?:^|\\\\s)\"+a+\"(?:\\\\s|$)\",\n\"\").test(d)||(d=d+(\" \"+a)));this.$.className=d||a;return this},removeClass:function(a){var d=this.getAttribute(\"class\");if(d){a=RegExp(\"(?:^|\\\\s+)\"+a+\"(?=\\\\s|$)\",\"i\");if(a.test(d))(d=d.replace(a,\"\").replace(/^\\s+/,\"\"))?this.setAttribute(\"class\",d):this.removeAttribute(\"class\")}return this},hasClass:function(a){return RegExp(\"(?:^|\\\\s+)\"+a+\"(?=\\\\s|$)\",\"\").test(this.getAttribute(\"class\"))},append:function(a,d){typeof a==\"string\"&&(a=this.getDocument().createElement(a));d?this.$.insertBefore(a.$,this.$.firstChild):\nthis.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var d=new CKEDITOR.dom.element(\"div\",this.getDocument());d.setHtml(a);d.moveChildren(this)}else this.setHtml(a)},appendText:function(a){this.$.text!=null?this.$.text=this.$.text+a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();if(!a||!a.is||!a.is(\"br\")){a=this.getDocument().createElement(\"br\");\nCKEDITOR.env.gecko&&a.setAttribute(\"type\",\"_moz\");this.append(a)}}},breakParent:function(a){var d=new CKEDITOR.dom.range(this.getDocument());d.setStartAfter(this);d.setEndAfter(a);a=d.extractContents();d.insertNode(this.remove());a.insertAfterNode(this)},contains:CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a){var d=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?d.contains(a.getParent().$):d!=a.$&&d.contains(a.$)}:function(a){return!!(this.$.compareDocumentPosition(a.$)&16)},focus:function(){function a(){try{this.$.focus()}catch(f){}}\nreturn function(d){d?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\\?[^>]*>/g,\"\"):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\\?[^>]*>/,\"\");var a=this.$.ownerDocument.createElement(\"div\");a.appendChild(this.$.cloneNode(true));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&\n(a.height=a.bottom-a.top);return a},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(a){try{var d=this.$;if(this.getParent())return d.innerHTML=a;var b=this.getDocument()._getHtml5ShivFrag();b.appendChild(d);d.innerHTML=a;b.removeChild(d);return a}catch(c){this.$.innerHTML=\"\";d=new CKEDITOR.dom.element(\"body\",this.getDocument());d.$.innerHTML=a;for(d=d.getChildren();d.count();)this.append(d.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement(\"p\");\na.innerHTML=\"x\";a=a.textContent;return function(d){this.$[a?\"textContent\":\"innerText\"]=d}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case \"class\":a=\"className\";break;case \"http-equiv\":a=\"httpEquiv\";break;case \"name\":return this.$.name;case \"tabindex\":a=this.$.getAttribute(a,2);a!==0&&this.$.tabIndex===0&&(a=null);return a;case \"checked\":a=this.$.attributes.getNamedItem(a);\nreturn(a.specified?a.nodeValue:this.$.checked)?\"checked\":null;case \"hspace\":case \"value\":return this.$[a];case \"style\":return this.$.style.cssText;case \"contenteditable\":case \"contentEditable\":return this.$.attributes.getNamedItem(\"contentEditable\").specified?this.$.getAttribute(\"contentEditable\"):null}return this.$.getAttribute(a,2)}:a}(),getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:CKEDITOR.env.ie?function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]}:\nfunction(a){var d=this.getWindow().$.getComputedStyle(this.$,null);return d?d.getPropertyValue(a):\"\"},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:CKEDITOR.env.ie?function(){var a=this.$.tabIndex;a===0&&(!CKEDITOR.dtd.$tabIndex[this.getName()]&&parseInt(this.getAttribute(\"tabindex\"),10)!==0)&&(a=-1);return a}:CKEDITOR.env.webkit?function(){var a=this.$.tabIndex;if(a===void 0){a=\nparseInt(this.getAttribute(\"tabindex\"),10);isNaN(a)&&(a=-1)}return a}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||\"\"},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var d=this.$.scopeName;d!=\"HTML\"&&(a=d.toLowerCase()+\":\"+a)}this.getName=function(){return a};\nreturn this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var d=this.$.firstChild;(d=d&&new CKEDITOR.dom.node(d))&&(a&&!a(d))&&(d=d.getNext(a));return d},getLast:function(a){var d=this.$.lastChild;(d=d&&new CKEDITOR.dom.node(d))&&(a&&!a(d))&&(d=d.getPrevious(a));return d},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if(typeof arguments[0]==\"object\")return!!arguments[0][a];for(var d=0;d<arguments.length;d++)if(arguments[d]==\na)return true;return false},isEditable:function(a){var d=this.getName();if(this.isReadOnly()||this.getComputedStyle(\"display\")==\"none\"||this.getComputedStyle(\"visibility\")==\"hidden\"||CKEDITOR.dtd.$nonEditable[d]||CKEDITOR.dtd.$empty[d]||this.is(\"a\")&&(this.data(\"cke-saved-name\")||this.hasAttribute(\"name\"))&&!this.getChildCount())return false;if(a!==false){a=CKEDITOR.dtd[d]||CKEDITOR.dtd.span;return!(!a||!a[\"#\"])}return true},isIdentical:function(a){var d=this.clone(0,1),a=a.clone(0,1);d.removeAttributes([\"_moz_dirty\",\n\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);a.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);if(d.$.isEqualNode){d.$.style.cssText=CKEDITOR.tools.normalizeCssText(d.$.style.cssText);a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText);return d.$.isEqualNode(a.$)}d=d.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is(\"a\")){var b=this.getParent();if(b.type==CKEDITOR.NODE_ELEMENT){b=\nb.clone();b.setHtml(d);d=b.getHtml();b.setHtml(a);a=b.getHtml()}}return d==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&this.getComputedStyle(\"visibility\")!=\"hidden\",d,b;if(a&&CKEDITOR.env.webkit){d=this.getWindow();if(!d.equals(CKEDITOR.document.getWindow())&&(b=d.$.frameElement))a=(new CKEDITOR.dom.element(b)).isVisible()}return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return false;for(var a=this.getChildren(),d=0,b=a.count();d<\nb;d++){var c=a.getItem(d);if(!(c.type==CKEDITOR.NODE_ELEMENT&&c.data(\"cke-bookmark\"))&&(c.type==CKEDITOR.NODE_ELEMENT&&!c.isEmptyInlineRemoveable()||c.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(c.getText())))return false}return true},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,d=0;d<a.length;d++){var b=a[d];switch(b.nodeName){case \"class\":if(this.getAttribute(\"class\"))return true;case \"data-cke-expando\":continue;default:if(b.specified)return true}}return false}:\nfunction(){var a=this.$.attributes,d=a.length,b={\"data-cke-expando\":1,_moz_dirty:1};return d>0&&(d>2||!b[a[0].nodeName]||d==2&&!b[a[1].nodeName])},hasAttribute:function(){function a(d){var f=this.$.attributes.getNamedItem(d);if(this.getName()==\"input\")switch(d){case \"class\":return this.$.className.length>0;case \"checked\":return!!this.$.checked;case \"value\":d=this.getAttribute(\"type\");return d==\"checkbox\"||d==\"radio\"?this.$.value!=\"on\":!!this.$.value}return!f?false:f.specified}return CKEDITOR.env.ie?\nCKEDITOR.env.version<8?function(d){return d==\"name\"?!!this.$.name:a.call(this,d)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle(\"display\",\"none\")},moveChildren:function(a,d){var b=this.$,a=a.$;if(b!=a){var c;if(d)for(;c=b.lastChild;)a.insertBefore(b.removeChild(c),a.firstChild);else for(;c=b.firstChild;)a.appendChild(b.removeChild(c))}},mergeSiblings:function(){function a(d,b,f){if(b&&b.type==CKEDITOR.NODE_ELEMENT){for(var c=[];b.data(\"cke-bookmark\")||b.isEmptyInlineRemoveable();){c.push(b);\nb=f?b.getNext():b.getPrevious();if(!b||b.type!=CKEDITOR.NODE_ELEMENT)return}if(d.isIdentical(b)){for(var e=f?d.getLast():d.getFirst();c.length;)c.shift().move(d,!f);b.moveChildren(d,!f);b.remove();e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(d){if(d===false||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is(\"a\")){a(this,this.getNext(),true);a(this,this.getPrevious())}}}(),show:function(){this.setStyles({display:\"\",visibility:\"\"})},setAttribute:function(){var a=function(a,\nb){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(d,b){d==\"class\"?this.$.className=b:d==\"style\"?this.$.style.cssText=b:d==\"tabindex\"?this.$.tabIndex=b:d==\"checked\"?this.$.checked=b:d==\"contenteditable\"?a.call(this,\"contentEditable\",b):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(d,b){if(d==\"src\"&&b.match(/^http:\\/\\//))try{a.apply(this,arguments)}catch(c){}else a.apply(this,arguments);\nreturn this}:a}(),setAttributes:function(a){for(var d in a)this.setAttribute(d,a[d]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){a==\"class\"?a=\"className\":a==\"tabindex\"?a=\"tabIndex\":a==\"contenteditable\"&&(a=\"contentEditable\");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=0;b<\na.length;b++)this.removeAttribute(a[b]);else for(b in a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(!b.removeProperty&&(a==\"border\"||a==\"margin\"||a==\"padding\")){var c=[\"top\",\"left\",\"right\",\"bottom\"],e;a==\"border\"&&(e=[\"color\",\"style\",\"width\"]);for(var b=[],i=0;i<c.length;i++)if(e)for(var g=0;g<e.length;g++)b.push([a,c[i],e[g]].join(\"-\"));else b.push([a,c[i]].join(\"-\"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}else{b.removeProperty?b.removeProperty(a):\nb.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a));this.$.style.cssText||this.removeAttribute(\"style\")}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){if(CKEDITOR.env.ie&&CKEDITOR.env.version<9){a=Math.round(a*100);this.setStyle(\"filter\",a>=100?\"\":\"progid:DXImageTransform.Microsoft.Alpha(opacity=\"+a+\")\")}else this.setStyle(\"opacity\",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\n\"none\"));if(CKEDITOR.env.ie){this.setAttribute(\"unselectable\",\"on\");for(var a,b=this.getElementsByTag(\"*\"),c=0,e=b.count();c<e;c++){a=b.getItem(c);a.setAttribute(\"unselectable\",\"on\")}}},getPositionedAncestor:function(){for(var a=this;a.getName()!=\"html\";){if(a.getComputedStyle(\"position\")!=\"static\")return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,e=this.getDocument(),i=e.getBody(),g=e.$.compatMode==\"BackCompat\";if(document.documentElement.getBoundingClientRect){var m=\nthis.$.getBoundingClientRect(),t=e.$.documentElement,s=t.clientTop||i.$.clientTop||0,y=t.clientLeft||i.$.clientLeft||0,p=true;if(CKEDITOR.env.ie){p=e.getDocumentElement().contains(this);e=e.getBody().contains(this);p=g&&e||!g&&p}if(p){b=m.left+(!g&&t.scrollLeft||i.$.scrollLeft);b=b-y;c=m.top+(!g&&t.scrollTop||i.$.scrollTop);c=c-s}}else{i=this;for(e=null;i&&!(i.getName()==\"body\"||i.getName()==\"html\");){b=b+(i.$.offsetLeft-i.$.scrollLeft);c=c+(i.$.offsetTop-i.$.scrollTop);if(!i.equals(this)){b=b+(i.$.clientLeft||\n0);c=c+(i.$.clientTop||0)}for(;e&&!e.equals(i);){b=b-e.$.scrollLeft;c=c-e.$.scrollTop;e=e.getParent()}e=i;i=(m=i.$.offsetParent)?new CKEDITOR.dom.element(m):null}}if(a){i=this.getWindow();e=a.getWindow();if(!i.equals(e)&&i.$.frameElement){a=(new CKEDITOR.dom.element(i.$.frameElement)).getDocumentPosition(a);b=b+a.x;c=c+a.y}}if(!document.documentElement.getBoundingClientRect&&CKEDITOR.env.gecko&&!g){b=b+(this.$.clientLeft?1:0);c=c+(this.$.clientTop?1:0)}return{x:b,y:c}},scrollIntoView:function(a){var b=\nthis.getParent();if(b){do{(b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is(\"body\")&&this.scrollIntoParent(b,a,1);if(b.is(\"html\")){var c=b.getWindow();try{var e=c.$.frameElement;e&&(b=new CKEDITOR.dom.element(e))}catch(i){}}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var e,i,g,m;function t(b,d){if(/body|html/.test(a.getName()))a.getWindow().$.scrollBy(b,d);else{a.$.scrollLeft=a.$.scrollLeft+b;a.$.scrollTop=a.$.scrollTop+d}}\nfunction s(a,b){var d={x:0,y:0};if(!a.is(p?\"body\":\"html\")){var c=a.$.getBoundingClientRect();d.x=c.left;d.y=c.top}c=a.getWindow();if(!c.equals(b)){c=s(CKEDITOR.dom.element.get(c.$.frameElement),b);d.x=d.x+c.x;d.y=d.y+c.y}return d}function y(a,b){return parseInt(a.getComputedStyle(\"margin-\"+b)||0,10)||0}!a&&(a=this.getWindow());g=a.getDocument();var p=g.$.compatMode==\"BackCompat\";a instanceof CKEDITOR.dom.window&&(a=p?g.getBody():g.getDocumentElement());g=a.getWindow();i=s(this,g);var q=s(a,g),j=this.$.offsetHeight;\ne=this.$.offsetWidth;var u=a.$.clientHeight,v=a.$.clientWidth;g=i.x-y(this,\"left\")-q.x||0;m=i.y-y(this,\"top\")-q.y||0;e=i.x+e+y(this,\"right\")-(q.x+v)||0;i=i.y+j+y(this,\"bottom\")-(q.y+u)||0;if(m<0||i>0)t(0,b===true?m:b===false?i:m<0?m:i);if(c&&(g<0||e>0))t(g<0?g:e,0)},setState:function(a,b,c){b=b||\"cke\";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+\"_on\");this.removeClass(b+\"_off\");this.removeClass(b+\"_disabled\");c&&this.setAttribute(\"aria-pressed\",true);c&&this.removeAttribute(\"aria-disabled\");\nbreak;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+\"_disabled\");this.removeClass(b+\"_off\");this.removeClass(b+\"_on\");c&&this.setAttribute(\"aria-disabled\",true);c&&this.removeAttribute(\"aria-pressed\");break;default:this.addClass(b+\"_off\");this.removeClass(b+\"_on\");this.removeClass(b+\"_disabled\");c&&this.removeAttribute(\"aria-pressed\");c&&this.removeAttribute(\"aria-disabled\")}},getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},\ncopyAttributes:function(a,b){for(var c=this.$.attributes,b=b||{},e=0;e<c.length;e++){var i=c[e],g=i.nodeName.toLowerCase(),m;if(!(g in b))if(g==\"checked\"&&(m=this.getAttribute(g)))a.setAttribute(g,m);else if(!CKEDITOR.env.ie||this.hasAttribute(g)){m=this.getAttribute(g);if(m===null)m=i.nodeValue;a.setAttribute(g,m)}}if(this.$.style.cssText!==\"\")a.$.style.cssText=this.$.style.cssText},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument(),a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);\nthis.moveChildren(a);this.getParent()&&this.$.parentNode.replaceChild(a.$,this.$);a.$[\"data-cke-expando\"]=this.$[\"data-cke-expando\"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var f=b.childNodes;if(c>=0&&c<f.length)return f[c]}return function(b){var c=this.$;if(b.slice)for(;b.length>0&&c;)c=a(c,b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on(\"contextmenu\",function(a){a.data.getTarget().hasClass(\"cke_enable_context_menu\")||\na.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle(\"direction\")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||\"ltr\":this.getStyle(\"direction\")||this.getAttribute(\"dir\")},data:function(a,b){a=\"data-\"+a;if(b===void 0)return this.getAttribute(a);b===false?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(){var a=CKEDITOR.instances,b,c;for(b in a){c=a[b];if(c.element.equals(this)&&c.elementMode!=\nCKEDITOR.ELEMENT_MODE_APPENDTO)return c}return null},find:function(b){var c=a(this),b=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e(this,b)));c();return b},findOne:function(b){var c=a(this),b=this.$.querySelector(e(this,b));c();return b?new CKEDITOR.dom.element(b):null},forEach:function(a,b,c){if(!c&&(!b||this.type==b))var e=a(this);if(e!==false)for(var c=this.getChildren(),i=0;i<c.count();i++){e=c.getItem(i);e.type==CKEDITOR.NODE_ELEMENT?e.forEach(a,b):(!b||e.type==b)&&a(e)}}});var c={width:[\"border-left-width\",\n\"border-right-width\",\"padding-left\",\"padding-right\"],height:[\"border-top-width\",\"border-bottom-width\",\"padding-top\",\"padding-bottom\"]};CKEDITOR.dom.element.prototype.setSize=function(a,c,e){if(typeof c==\"number\"){if(e&&(!CKEDITOR.env.ie||!CKEDITOR.env.quirks))c=c-b.call(this,a);this.setStyle(a,c+\"px\")}};CKEDITOR.dom.element.prototype.getSize=function(a,c){var e=Math.max(this.$[\"offset\"+CKEDITOR.tools.capitalize(a)],this.$[\"client\"+CKEDITOR.tools.capitalize(a)])||0;c&&(e=e-b.call(this,a));return e}})();\nCKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a};\nCKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});\n(function(){function a(a,b){var c=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(c.collapsed){this.end();return null}c.optimize()}var d,f=c.startContainer;d=c.endContainer;var m=c.startOffset,e=c.endOffset,h,E=this.guard,k=this.type,n=a?\"getPreviousSourceNode\":\"getNextSourceNode\";if(!a&&!this._.guardLTR){var r=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),o=d.type==CKEDITOR.NODE_ELEMENT?d.getChild(e):d.getNext();this._.guardLTR=function(a,b){return(!b||!r.equals(a))&&(!o||\n!a.equals(o))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}if(a&&!this._.guardRTL){var g=f.type==CKEDITOR.NODE_ELEMENT?f:f.getParent(),D=f.type==CKEDITOR.NODE_ELEMENT?m?f.getChild(m-1):null:f.getPrevious();this._.guardRTL=function(a,b){return(!b||!g.equals(a))&&(!D||!a.equals(D))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}var i=a?this._.guardRTL:this._.guardLTR;h=E?function(a,b){return i(a,b)===false?false:E(a,b)}:i;if(this.current)d=this.current[n](false,k,h);else{if(a)d.type==\nCKEDITOR.NODE_ELEMENT&&(d=e>0?d.getChild(e-1):h(d,true)===false?null:d.getPreviousSourceNode(true,k,h));else{d=f;if(d.type==CKEDITOR.NODE_ELEMENT&&!(d=d.getChild(m)))d=h(f,true)===false?null:f.getNextSourceNode(true,k,h)}d&&h(d)===false&&(d=null)}for(;d&&!this._.end;){this.current=d;if(!this.evaluator||this.evaluator(d)!==false){if(!b)return d}else if(b&&this.evaluator)return false;d=d[n](false,k,h)}this.end();return this.current=null}function e(b){for(var c,d=null;c=a.call(this,b);)d=c;return d}\nfunction b(a){if(g(a))return false;if(a.type==CKEDITOR.NODE_TEXT)return true;if(a.type==CKEDITOR.NODE_ELEMENT){if(a.is(CKEDITOR.dtd.$inline)||a.is(\"hr\")||a.getAttribute(\"contenteditable\")==\"false\")return true;var b;if(b=!CKEDITOR.env.needsBrFiller)if(b=a.is(m))a:{b=0;for(var c=a.getChildCount();b<c;++b)if(!g(a.getChild(b))){b=false;break a}b=true}if(b)return true}return false}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},\nnext:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return a.call(this,0,1)!==false},checkBackward:function(){return a.call(this,1,1)!==false},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current;this._={}}}});var c={block:1,\"list-item\":1,table:1,\"table-row-group\":1,\"table-header-group\":1,\"table-footer-group\":1,\"table-row\":1,\"table-column-group\":1,\"table-column\":1,\"table-cell\":1,\n\"table-caption\":1},f={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return this.getComputedStyle(\"float\")==\"none\"&&!(this.getComputedStyle(\"position\")in f)&&c[this.getComputedStyle(\"display\")]?true:!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a))};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=\nfunction(a,b){function c(a){return a&&a.getName&&a.getName()==\"span\"&&a.data(\"cke-bookmark\")}return function(d){var f,m;f=d&&d.type!=CKEDITOR.NODE_ELEMENT&&(m=d.getParent())&&c(m);f=a?f:f||c(d);return!!(b^f)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var c;b&&b.type==CKEDITOR.NODE_TEXT&&(c=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==\"\");return!!(a^c)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.env.webkit?\n1:0;return function(d){if(b(d))d=1;else{d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());d=d.$.offsetWidth<=c}return!!(a^d)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!h(a)&&!l(a)}return function(c){var f=CKEDITOR.env.needsBrFiller?c.is&&c.is(\"br\"):c.getText&&d.test(c.getText());if(f){f=c.getParent();c=c.getNext(b);f=f.isBlockBoundary()&&(!c||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary())}return!!(a^\nf)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute(\"data-cke-temp\");return!!(a^b)}};var d=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,h=CKEDITOR.dom.walker.whitespaces(),l=CKEDITOR.dom.walker.bookmark(),i=CKEDITOR.dom.walker.temp();CKEDITOR.dom.walker.ignored=function(a){return function(b){b=h(b)||l(b)||i(b);return!!(a^b)}};var g=CKEDITOR.dom.walker.ignored(),m=function(a){var b={},c;for(c in a)CKEDITOR.dtd[c][\"#\"]&&(b[c]=1);return b}(CKEDITOR.dtd.$block);\nCKEDITOR.dom.walker.editable=function(a){return function(c){return!!(a^b(c))}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(l(a)||h(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is(\"br\"):a.getText&&d.test(a.getText()))?a:false}})();\nCKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=true;var e=a instanceof CKEDITOR.dom.document;this.document=e?a:a.getDocument();this.root=e?a.getBody():a};\n(function(){function a(){var a=false,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(true),f=CKEDITOR.dom.walker.bogus();return function(e){if(c(e)||b(e))return true;if(f(e)&&!a)return a=true;return e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant(\"pre\")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(d)?false:true}}function e(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);return function(d){return c(d)||b(d)?true:!a&&h(d)||\nd.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function b(a){return function(){var b;return this[a?\"getPreviousNode\":\"getNextNode\"](function(a){!b&&g(a)&&(b=a);return i(a)&&!(h(a)&&a.equals(b))})}}var c=function(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset},f=function(a,b,c,d){a.optimizeBookmark();var f=a.startContainer,e=a.endContainer,j=a.startOffset,u=a.endOffset,h,g;if(e.type==CKEDITOR.NODE_TEXT)e=e.split(u);\nelse if(e.getChildCount()>0)if(u>=e.getChildCount()){e=e.append(a.document.createText(\"\"));g=true}else e=e.getChild(u);if(f.type==CKEDITOR.NODE_TEXT){f.split(j);f.equals(e)&&(e=f.getNext())}else if(j)if(j>=f.getChildCount()){f=f.append(a.document.createText(\"\"));h=true}else f=f.getChild(j).getPrevious();else{f=f.append(a.document.createText(\"\"),1);h=true}var j=f.getParents(),u=e.getParents(),k,n,r;for(k=0;k<j.length;k++){n=j[k];r=u[k];if(!n.equals(r))break}for(var o=c,i,D,l,z=k;z<j.length;z++){i=\nj[z];o&&!i.equals(f)&&(D=o.append(i.clone()));for(i=i.getNext();i;){if(i.equals(u[z])||i.equals(e))break;l=i.getNext();if(b==2)o.append(i.clone(true));else{i.remove();b==1&&o.append(i)}i=l}o&&(o=D)}o=c;for(c=k;c<u.length;c++){i=u[c];b>0&&!i.equals(e)&&(D=o.append(i.clone()));if(!j[c]||i.$.parentNode!=j[c].$.parentNode)for(i=i.getPrevious();i;){if(i.equals(j[c])||i.equals(f))break;l=i.getPrevious();if(b==2)o.$.insertBefore(i.$.cloneNode(true),o.$.firstChild);else{i.remove();b==1&&o.$.insertBefore(i.$,\no.$.firstChild)}i=l}o&&(o=D)}if(b==2){n=a.startContainer;if(n.type==CKEDITOR.NODE_TEXT){n.$.data=n.$.data+n.$.nextSibling.data;n.$.parentNode.removeChild(n.$.nextSibling)}a=a.endContainer;if(a.type==CKEDITOR.NODE_TEXT&&a.$.nextSibling){a.$.data=a.$.data+a.$.nextSibling.data;a.$.parentNode.removeChild(a.$.nextSibling)}}else{if(n&&r&&(f.$.parentNode!=n.$.parentNode||e.$.parentNode!=r.$.parentNode)){b=r.getIndex();h&&r.$.parentNode==f.$.parentNode&&b--;if(d&&n.type==CKEDITOR.NODE_ELEMENT){d=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark=\"1\" style=\"display:none\">&nbsp;</span>',\na.document);d.insertAfter(n);n.mergeSiblings(false);a.moveToBookmark({startNode:d})}else a.setStart(r.getParent(),b)}a.collapse(true)}h&&f.remove();g&&e.$.parentNode&&e.remove()},d={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,\"var\":1},h=CKEDITOR.dom.walker.bogus(),l=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,i=CKEDITOR.dom.walker.editable(),g=CKEDITOR.dom.walker.ignored(true);CKEDITOR.dom.range.prototype=\n{clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){if(a){this._setEndContainer(this.startContainer);this.endOffset=this.startOffset}else{this._setStartContainer(this.endContainer);this.startOffset=this.endOffset}this.collapsed=true},cloneContents:function(){var a=new CKEDITOR.dom.documentFragment(this.document);\nthis.collapsed||f(this,2,a);return a},deleteContents:function(a){this.collapsed||f(this,0,null,a)},extractContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,1,b,a);return b},createBookmark:function(a){var b,c,d,f,e=this.collapsed;b=this.document.createElement(\"span\");b.data(\"cke-bookmark\",1);b.setStyle(\"display\",\"none\");b.setHtml(\"&nbsp;\");if(a){d=\"cke_bm_\"+CKEDITOR.tools.getNextNumber();b.setAttribute(\"id\",d+(e?\"C\":\"S\"))}if(!e){c=b.clone();c.setHtml(\"&nbsp;\");\na&&c.setAttribute(\"id\",d+\"E\");f=this.clone();f.collapse();f.insertNode(c)}f=this.clone();f.collapse(true);f.insertNode(b);if(c){this.setStartAfter(b);this.setEndBefore(c)}else this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(e?\"C\":\"S\"):b,endNode:a?d+\"E\":c,serializable:a,collapsed:e}},createBookmark2:function(){function a(c){var d=c.container,f=c.offset,e;e=d;var m=f;e=e.type!=CKEDITOR.NODE_ELEMENT||m===0||m==e.getChildCount()?0:e.getChild(m-1).type==CKEDITOR.NODE_TEXT&&e.getChild(m).type==\nCKEDITOR.NODE_TEXT;if(e){d=d.getChild(f-1);f=d.getLength()}d.type==CKEDITOR.NODE_ELEMENT&&f>1&&(f=d.getChild(f-1).getIndex(true)+1);if(d.type==CKEDITOR.NODE_TEXT){e=d;for(m=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)m=m+e.getLength();e=m;if(d.getText())f=f+e;else{m=d.getPrevious(b);if(e){f=e;d=m?m.getNext():d.getParent().getFirst()}else{d=d.getParent();f=m?m.getIndex(true)+1:0}}}c.container=d;c.offset=f}var b=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,true);return function(b){var c=this.collapsed,\nd={container:this.startContainer,offset:this.startOffset},f={container:this.endContainer,offset:this.endOffset};if(b){a(d);c||a(f)}return{start:d.container.getAddress(b),end:c?null:f.container.getAddress(b),startOffset:d.offset,endOffset:f.offset,normalized:b,collapsed:c,is2:true}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized),a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):\nthis.collapse(true)}else{b=(c=a.serializable)?this.document.getById(a.startNode):a.startNode;a=c?this.document.getById(a.endNode):a.endNode;this.setStartBefore(b);b.remove();if(a){this.setEndBefore(a);a.remove()}else this.collapse(true)}},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,f;if(a.type==CKEDITOR.NODE_ELEMENT){f=a.getChildCount();if(f>c)a=a.getChild(c);else if(f<1)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;\na=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}}if(b.type==CKEDITOR.NODE_ELEMENT){f=b.getChildCount();if(f>d)b=b.getChild(d).getPreviousSourceNode(true);else if(f<1)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-\n1?c.getChild(this.startOffset):c:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&(a.is(\"span\")&&a.data(\"cke-bookmark\"))&&\nthis.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&(b.is&&b.is(\"span\")&&b.data(\"cke-bookmark\"))&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,f=this.collapsed;if((!a||f)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength()){d=c.getIndex()+1;c=c.getParent()}else{var e=c.split(d),d=c.getIndex()+1,c=c.getParent();if(this.startContainer.equals(this.endContainer))this.setEnd(e,this.endOffset-this.startOffset);else if(c.equals(this.endContainer))this.endOffset=\nthis.endOffset+1}else{d=c.getIndex();c=c.getParent()}this.setStart(c,d);if(f){this.collapse(true);return}}c=this.endContainer;d=this.endOffset;if(!b&&!f&&c&&c.type==CKEDITOR.NODE_TEXT){if(d){d>=c.getLength()||c.split(d);d=c.getIndex()+1}else d=c.getIndex();c=c.getParent();this.setEnd(c,d)}},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"contenteditable\")?null:a}var d=RegExp(/[^\\s\\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var f=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;\nvar e=this.getCommonAncestor(),j=this.root,h,i,g,k,n,r=false,o,l;o=this.startContainer;var D=this.startOffset;if(o.type==CKEDITOR.NODE_TEXT){if(D){o=!CKEDITOR.tools.trim(o.substring(0,D)).length&&o;r=!!o}if(o&&!(k=o.getPrevious()))g=o.getParent()}else{D&&(k=o.getChild(D-1)||o.getLast());k||(g=o)}for(g=c(g);g||k;){if(g&&!k){!n&&g.equals(e)&&(n=true);if(f?g.isBlockBoundary():!j.contains(g))break;if(!r||g.getComputedStyle(\"display\")!=\"inline\"){r=false;n?h=g:this.setStartBefore(g)}k=g.getPrevious()}for(;k;){o=\nfalse;if(k.type==CKEDITOR.NODE_COMMENT)k=k.getPrevious();else{if(k.type==CKEDITOR.NODE_TEXT){l=k.getText();d.test(l)&&(k=null);o=/[\\s\\ufeff]$/.test(l)}else if((k.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&k.is(\"br\"))&&!k.data(\"cke-bookmark\"))if(r&&CKEDITOR.dtd.$removeEmpty[k.getName()]){l=k.getText();if(d.test(l))k=null;else for(var D=k.$.getElementsByTagName(\"*\"),J=0,z;z=D[J++];)if(!CKEDITOR.dtd.$removeEmpty[z.nodeName.toLowerCase()]){k=null;break}k&&(o=!!l.length)}else k=null;o&&(r?n?h=g:g&&this.setStartBefore(g):\nr=true);if(k){o=k.getPrevious();if(!g&&!o){g=k;k=null;break}k=o}else g=null}}g&&(g=c(g.getParent()))}o=this.endContainer;D=this.endOffset;g=k=null;n=r=false;var L=function(a,b){var c=new CKEDITOR.dom.range(j);c.setStart(a,b);c.setEndAt(j,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),f;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};f=c.next();){if(f.type!=CKEDITOR.NODE_TEXT)return false;l=f!=a?f.getText():f.substring(b);if(d.test(l))return false}return true};\nif(o.type==CKEDITOR.NODE_TEXT)if(CKEDITOR.tools.trim(o.substring(D)).length)r=true;else{r=!o.getLength();if(D==o.getLength()){if(!(k=o.getNext()))g=o.getParent()}else L(o,D)&&(g=o.getParent())}else(k=o.getChild(D))||(g=o);for(;g||k;){if(g&&!k){!n&&g.equals(e)&&(n=true);if(f?g.isBlockBoundary():!j.contains(g))break;if(!r||g.getComputedStyle(\"display\")!=\"inline\"){r=false;n?i=g:g&&this.setEndAfter(g)}k=g.getNext()}for(;k;){o=false;if(k.type==CKEDITOR.NODE_TEXT){l=k.getText();L(k,0)||(k=null);o=/^[\\s\\ufeff]/.test(l)}else if(k.type==\nCKEDITOR.NODE_ELEMENT){if((k.$.offsetWidth>0||b&&k.is(\"br\"))&&!k.data(\"cke-bookmark\"))if(r&&CKEDITOR.dtd.$removeEmpty[k.getName()]){l=k.getText();if(d.test(l))k=null;else{D=k.$.getElementsByTagName(\"*\");for(J=0;z=D[J++];)if(!CKEDITOR.dtd.$removeEmpty[z.nodeName.toLowerCase()]){k=null;break}}k&&(o=!!l.length)}else k=null}else o=1;o&&r&&(n?i=g:this.setEndAfter(g));if(k){o=k.getNext();if(!g&&!o){g=k;k=null;break}k=o}else g=null}g&&(g=c(g.getParent()))}if(h&&i){e=h.contains(i)?i:h;this.setStartBefore(e);\nthis.setEndAfter(e)}break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:g=new CKEDITOR.dom.range(this.root);j=this.root;g.setStartAt(j,CKEDITOR.POSITION_AFTER_START);g.setEnd(this.startContainer,this.startOffset);g=new CKEDITOR.dom.walker(g);var B,w,H=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),C=null,A=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&a.getAttribute(\"contenteditable\")==\"false\")if(C){if(C.equals(a)){C=null;return}}else C=\na;else if(C)return;var b=H(a);b||(B=a);return b},f=function(a){var b=A(a);!b&&(a.is&&a.is(\"br\"))&&(w=a);return b};g.guard=A;g=g.lastBackward();B=B||j;this.setStartAt(B,!B.is(\"br\")&&(!g&&this.checkStartOfBlock()||g&&B.contains(g))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){g=this.clone();g=new CKEDITOR.dom.walker(g);var x=CKEDITOR.dom.walker.whitespaces(),F=CKEDITOR.dom.walker.bookmark();g.evaluator=function(a){return!x(a)&&!F(a)};if((g=g.previous())&&\ng.type==CKEDITOR.NODE_ELEMENT&&g.is(\"br\"))break}g=this.clone();g.collapse();g.setEndAt(j,CKEDITOR.POSITION_BEFORE_END);g=new CKEDITOR.dom.walker(g);g.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?f:A;B=C=w=null;g=g.lastForward();B=B||j;this.setEndAt(B,!g&&this.checkEndOfBlock()||g&&B.contains(g)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);w&&this.setEndAfter(w)}},shrink:function(a,b,c){if(!this.collapsed){var a=a||CKEDITOR.SHRINK_TEXT,d=this.clone(),f=this.startContainer,e=this.endContainer,\nj=this.startOffset,g=this.endOffset,h=1,i=1;if(f&&f.type==CKEDITOR.NODE_TEXT)if(j)if(j>=f.getLength())d.setStartAfter(f);else{d.setStartBefore(f);h=0}else d.setStartBefore(f);if(e&&e.type==CKEDITOR.NODE_TEXT)if(g)if(g>=e.getLength())d.setEndAfter(e);else{d.setEndAfter(e);i=0}else d.setEndBefore(e);var d=new CKEDITOR.dom.walker(d),k=CKEDITOR.dom.walker.bookmark();d.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var n;d.guard=function(b,d){if(k(b))return true;\nif(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||d&&b.equals(n)||c===false&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"contenteditable\"))return false;!d&&b.type==CKEDITOR.NODE_ELEMENT&&(n=b);return true};if(h)(f=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastForward\":\"next\"]())&&this.setStartAt(f,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);if(i){d.reset();(d=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastBackward\":\"previous\"]())&&this.setEndAt(d,\nb?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)}return!(!h&&!i)}},insertNode:function(a){this.optimizeBookmark();this.trim(false,true);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(true)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,\na.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]){b=a.getIndex();a=a.getParent()}this._setStartContainer(a);this.startOffset=b;if(!this.endContainer){this._setEndContainer(a);this.endOffset=b}c(this)},setEnd:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[a.getName()]){b=a.getIndex()+1;a=a.getParent()}this._setEndContainer(a);\nthis.endOffset=b;if(!this.startContainer){this._setStartContainer(a);this.startOffset=b}c(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setStart(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==\nCKEDITOR.NODE_TEXT?this.setStart(a,a.getLength()):this.setStart(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(a);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(a)}c(this)},setEndAt:function(a,b){switch(b){case CKEDITOR.POSITION_AFTER_START:this.setEnd(a,0);break;case CKEDITOR.POSITION_BEFORE_END:a.type==CKEDITOR.NODE_TEXT?this.setEnd(a,a.getLength()):this.setEnd(a,a.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(a);break;\ncase CKEDITOR.POSITION_AFTER_END:this.setEndAfter(a)}c(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();d.appendBogus();this.insertNode(d);this.moveToBookmark(c);return d},splitBlock:function(a){var b=new CKEDITOR.dom.elementPath(this.startContainer,this.root),c=new CKEDITOR.dom.elementPath(this.endContainer,this.root),d=b.block,f=c.block,e=null;if(!b.blockLimit.equals(c.blockLimit))return null;\nif(a!=\"br\"){if(!d){d=this.fixBlock(true,a);f=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block}f||(f=this.fixBlock(false,a))}a=d&&this.checkStartOfBlock();b=f&&this.checkEndOfBlock();this.deleteContents();if(d&&d.equals(f))if(b){e=new CKEDITOR.dom.elementPath(this.startContainer,this.root);this.moveToPosition(f,CKEDITOR.POSITION_AFTER_END);f=null}else if(a){e=new CKEDITOR.dom.elementPath(this.startContainer,this.root);this.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START);d=null}else{f=\nthis.splitElement(d);d.is(\"ul\",\"ol\")||d.appendBogus()}return{previousBlock:d,nextBlock:f,wasStartOfBlock:a,wasEndOfBlock:b,elementPath:e}},splitElement:function(a){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var b=this.extractContents(),c=a.clone(false);b.appendTo(c);c.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return c},removeEmptyBlocksAtEnd:function(){function a(d){return function(a){return b(a)||(c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable())||\nd.is(\"table\")&&a.is(\"caption\")?false:true}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(false);return function(b){for(var c=this.createBookmark(),d=this[b?\"endPath\":\"startPath\"](),f=d.block||d.blockLimit,e;f&&!f.equals(d.root)&&!f.getFirst(a(f));){e=f.getParent();this[b?\"setEndAt\":\"setStartAt\"](f,CKEDITOR.POSITION_AFTER_END);f.remove(1);f=e}this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,\nthis.root)},checkBoundaryOfElement:function(a,b){var c=b==CKEDITOR.START,d=this.clone();d.collapse(c);d[c?\"setStartAt\":\"setEndAt\"](a,c?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(d);d.evaluator=e(c);return d[c?\"checkBackward\":\"checkForward\"]()},checkStartOfBlock:function(){var b=this.startContainer,c=this.startOffset;if(CKEDITOR.env.ie&&c&&b.type==CKEDITOR.NODE_TEXT){b=CKEDITOR.tools.ltrim(b.substring(0,c));l.test(b)&&this.trim(0,1)}this.trim();b=new CKEDITOR.dom.elementPath(this.startContainer,\nthis.root);c=this.clone();c.collapse(true);c.setStartAt(b.block||b.blockLimit,CKEDITOR.POSITION_AFTER_START);b=new CKEDITOR.dom.walker(c);b.evaluator=a();return b.checkBackward()},checkEndOfBlock:function(){var b=this.endContainer,c=this.endOffset;if(CKEDITOR.env.ie&&b.type==CKEDITOR.NODE_TEXT){b=CKEDITOR.tools.rtrim(b.substring(c));l.test(b)&&this.trim(1,0)}this.trim();b=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(false);c.setEndAt(b.block||b.blockLimit,CKEDITOR.POSITION_BEFORE_END);\nb=new CKEDITOR.dom.walker(c);b.evaluator=a();return b.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==\nCKEDITOR.NODE_ELEMENT){if(b.getAttribute(\"contentEditable\")==\"false\"&&!b.data(\"cke-editable\"))return 0;if(b.is(\"html\")||b.getAttribute(\"contentEditable\")==\"true\"&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(false)){this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);return true}for(var c=\n0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&l.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable()){this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START);c=1}else if(b&&a.is(\"br\")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);\nelse if(a.getAttribute(\"contenteditable\")==\"false\"&&a.is(CKEDITOR.dtd.$block)){this.setStartBefore(a);this.setEndAfter(a);return true}var d=a,f=c,e=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(false)&&(e=d[b?\"getLast\":\"getFirst\"](g));!f&&!e&&(e=d[b?\"getPrevious\":\"getNext\"](g));a=e}return!!c},moveToClosestEditablePosition:function(a,b){var c=new CKEDITOR.dom.range(this.root),d=0,f,e=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];c.moveToPosition(a,e[b?0:1]);if(a.is(CKEDITOR.dtd.$block)){if(f=\nc[b?\"getNextEditableNode\":\"getPreviousEditableNode\"]()){d=1;if(f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$block)&&f.getAttribute(\"contenteditable\")==\"false\"){c.setStartAt(f,CKEDITOR.POSITION_BEFORE_START);c.setEndAt(f,CKEDITOR.POSITION_AFTER_END)}else c.moveToPosition(f,e[b?1:0])}}else d=1;d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,true)},getEnclosedNode:function(){var a=\nthis.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(false,true),c=CKEDITOR.dom.walker.whitespaces(true);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=\nthis.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:b(),getPreviousEditableNode:b(1),scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml(\"<span>&nbsp;</span>\",this.document),b,c,d,f=this.clone();f.optimize();if(d=f.startContainer.type==CKEDITOR.NODE_TEXT){c=f.startContainer.getText();b=f.startContainer.split(f.startOffset);a.insertAfter(f.startContainer)}else f.insertNode(a);a.scrollIntoView();if(d){f.startContainer.setText(c);\nb.remove()}a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a}}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;\"use strict\";\n(function(){function a(a){if(!(arguments.length<1)){this.range=a;this.forceBrBreak=0;this.enlargeBr=1;this.enforceRealBlocks=0;this._||(this._={})}}function e(a){var b=[];a.forEach(function(a){if(a.getAttribute(\"contenteditable\")==\"true\"){b.push(a);return false}},CKEDITOR.NODE_ELEMENT,true);return b}function b(a,c,d,f){a:{f==null&&(f=e(d));for(var h;h=f.shift();)if(h.getDtd().p){f={element:h,remaining:f};break a}f=null}if(!f)return 0;if((h=CKEDITOR.filter.instances[f.element.data(\"cke-filter\")])&&\n!h.check(c))return b(a,c,d,f.remaining);c=new CKEDITOR.dom.range(f.element);c.selectNodeContents(f.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:f.element,container:d,remaining:f.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return false;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var f=/^[\\r\\n\\t ]+$/,d=CKEDITOR.dom.walker.bookmark(false,true),\nh=CKEDITOR.dom.walker.whitespaces(true),l=function(a){return d(a)&&h(a)},i={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var e,h,s,y,p,a=a||\"p\";if(this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(a)){this.activeFilter=this._.nestedEditable.iterator.activeFilter;return e}this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining)){this.activeFilter=this._.nestedEditable.iterator.activeFilter;return this._.nestedEditable.iterator.getNextParagraph(a)}this._.nestedEditable=\nnull}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var q=this.range.clone();h=q.startPath();var j=q.endPath(),u=!q.collapsed&&c(q,h.block),v=!q.collapsed&&c(q,j.block,1);q.shrink(CKEDITOR.SHRINK_ELEMENT,true);u&&q.setStartAt(h.block,CKEDITOR.POSITION_BEFORE_END);v&&q.setEndAt(j.block,CKEDITOR.POSITION_AFTER_START);h=q.endContainer.hasAscendant(\"pre\",true)||q.startContainer.hasAscendant(\"pre\",true);q.enlarge(this.forceBrBreak&&!h||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:\nCKEDITOR.ENLARGE_BLOCK_CONTENTS);if(!q.collapsed){h=new CKEDITOR.dom.walker(q.clone());j=CKEDITOR.dom.walker.bookmark(true,true);h.evaluator=j;this._.nextNode=h.next();h=new CKEDITOR.dom.walker(q.clone());h.evaluator=j;h=h.previous();this._.lastNode=h.getNextSourceNode(true,null,q.root);if(this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()){j=this.range.clone();j.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END);\nif(j.checkEndOfBlock()){j=new CKEDITOR.dom.elementPath(j.endContainer,j.root);this._.lastNode=(j.block||j.blockLimit).getNextSourceNode(true)}}if(!this._.lastNode||!q.root.contains(this._.lastNode)){this._.lastNode=this._.docEndMarker=q.document.createText(\"\");this._.lastNode.insertAfter(h)}q=null}this._.started=1;h=q}j=this._.nextNode;q=this._.lastNode;for(this._.nextNode=null;j;){var u=0,v=j.hasAscendant(\"pre\"),E=j.type!=CKEDITOR.NODE_ELEMENT,k=0;if(E)j.type==CKEDITOR.NODE_TEXT&&f.test(j.getText())&&\n(E=0);else{var n=j.getName();if(CKEDITOR.dtd.$block[n]&&j.getAttribute(\"contenteditable\")==\"false\"){e=j;b(this,a,e);break}else if(j.isBlockBoundary(this.forceBrBreak&&!v&&{br:1})){if(n==\"br\")E=1;else if(!h&&!j.getChildCount()&&n!=\"hr\"){e=j;s=j.equals(q);break}if(h){h.setEndAt(j,CKEDITOR.POSITION_BEFORE_START);if(n!=\"br\")this._.nextNode=j}u=1}else{if(j.getFirst()){if(!h){h=this.range.clone();h.setStartAt(j,CKEDITOR.POSITION_BEFORE_START)}j=j.getFirst();continue}E=1}}if(E&&!h){h=this.range.clone();\nh.setStartAt(j,CKEDITOR.POSITION_BEFORE_START)}s=(!u||E)&&j.equals(q);if(h&&!u)for(;!j.getNext(l)&&!s;){n=j.getParent();if(n.isBlockBoundary(this.forceBrBreak&&!v&&{br:1})){u=1;E=0;s||n.equals(q);h.setEndAt(n,CKEDITOR.POSITION_BEFORE_END);break}j=n;E=1;s=j.equals(q);k=1}E&&h.setEndAt(j,CKEDITOR.POSITION_AFTER_END);j=this._getNextSourceNode(j,k,q);if((s=!j)||u&&h)break}if(!e){if(!h){this._.docEndMarker&&this._.docEndMarker.remove();return this._.nextNode=null}e=new CKEDITOR.dom.elementPath(h.startContainer,\nh.root);j=e.blockLimit;u={div:1,th:1,td:1};e=e.block;if(!e&&j&&!this.enforceRealBlocks&&u[j.getName()]&&h.checkStartOfBlock()&&h.checkEndOfBlock()&&!j.equals(h.root))e=j;else if(!e||this.enforceRealBlocks&&e.is(i)){e=this.range.document.createElement(a);h.extractContents().appendTo(e);e.trim();h.insertNode(e);y=p=true}else if(e.getName()!=\"li\"){if(!h.checkStartOfBlock()||!h.checkEndOfBlock()){e=e.clone(false);h.extractContents().appendTo(e);e.trim();p=h.splitBlock();y=!p.wasStartOfBlock;p=!p.wasEndOfBlock;\nh.insertNode(e)}}else if(!s)this._.nextNode=e.equals(q)?null:this._getNextSourceNode(h.getBoundaryNodes().endNode,1,q)}if(y)(y=e.getPrevious())&&y.type==CKEDITOR.NODE_ELEMENT&&(y.getName()==\"br\"?y.remove():y.getLast()&&y.getLast().$.nodeName.toLowerCase()==\"br\"&&y.getLast().remove());if(p)(y=e.getLast())&&y.type==CKEDITOR.NODE_ELEMENT&&y.getName()==\"br\"&&(!CKEDITOR.env.needsBrFiller||y.getPrevious(d)||y.getNext(d))&&y.remove();if(!this._.nextNode)this._.nextNode=s||e.equals(q)||!q?null:this._getNextSourceNode(e,\n1,q);return e},_getNextSourceNode:function(a,b,c){function f(a){return!(a.equals(c)||a.equals(e))}for(var e=this.range.root,a=a.getNextSourceNode(b,null,f);!d(a);)a=a.getNextSourceNode(b,null,f);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}})();\nCKEDITOR.command=function(a,e){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return false;this.editorFocus&&a.focus();return this.fire(\"exec\")===false?true:e.exec.call(this,a,b)!==false};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return true;if(this.context&&!b.isContextFor(this.context)){this.disable();return true}if(!this.checkAllowed(true)){this.disable();return true}this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&\nthis.disable();return this.fire(\"refresh\",{editor:a,path:b})===false?true:e.refresh&&e.refresh.apply(this,arguments)!==false};var b;this.checkAllowed=function(c){return!c&&typeof b==\"boolean\"?b:b=a.activeFilter.checkFeature(this)};CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)};\nCKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(!this.preserveState||typeof this.previousState==\"undefined\"?CKEDITOR.TRISTATE_OFF:this.previousState)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return false;this.previousState=this.state;this.state=a;this.fire(\"state\");return true},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?\nthis.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;\nCKEDITOR.config={customConfig:\"config.js\",autoUpdateElement:!0,language:\"\",defaultLanguage:\"en\",contentsLangDirection:\"\",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:\"<!DOCTYPE html>\",bodyId:\"\",bodyClass:\"\",fullPage:!1,height:200,extraPlugins:\"\",removePlugins:\"\",protectedSource:[],tabIndex:0,width:\"\",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};\n(function(){function a(a,b,c,d,f){var e,n,a=[];for(e in b){n=b[e];n=typeof n==\"boolean\"?{}:typeof n==\"function\"?{match:n}:L(n);if(e.charAt(0)!=\"$\")n.elements=e;if(c)n.featureName=c.toLowerCase();var j=n;j.elements=h(j.elements,/\\s+/)||null;j.propertiesOnly=j.propertiesOnly||j.elements===true;var k=/\\s*,\\s*/,r=void 0;for(r in C){j[r]=h(j[r],k)||null;var x=j,o=A[r],w=h(j[A[r]],k),p=j[r],g=[],i=true,F=void 0;w?i=false:w={};for(F in p)if(F.charAt(0)==\"!\"){F=F.slice(1);g.push(F);w[F]=true;i=false}for(;F=\ng.pop();){p[F]=p[\"!\"+F];delete p[\"!\"+F]}x[o]=(i?false:w)||null}j.match=j.match||null;d.push(n);a.push(n)}for(var b=f.elements,f=f.generic,D,c=0,d=a.length;c<d;++c){e=L(a[c]);n=e.classes===true||e.styles===true||e.attributes===true;j=e;r=o=k=void 0;for(k in C)j[k]=u(j[k]);x=true;for(r in A){k=A[r];o=j[k];w=[];p=void 0;for(p in o)p.indexOf(\"*\")>-1?w.push(RegExp(\"^\"+p.replace(/\\*/g,\".*\")+\"$\")):w.push(p);o=w;if(o.length){j[k]=o;x=false}}j.nothingRequired=x;j.noProperties=!(j.attributes||j.classes||j.styles);\nif(e.elements===true||e.elements===null)f[n?\"unshift\":\"push\"](e);else{j=e.elements;delete e.elements;for(D in j)if(b[D])b[D][n?\"unshift\":\"push\"](e);else b[D]=[e]}}}function e(a,c,d,f){if(!a.match||a.match(c))if(f||l(a,c)){if(!a.propertiesOnly)d.valid=true;if(!d.allAttributes)d.allAttributes=b(a.attributes,c.attributes,d.validAttributes);if(!d.allStyles)d.allStyles=b(a.styles,c.styles,d.validStyles);if(!d.allClasses){a=a.classes;c=c.classes;f=d.validClasses;if(a)if(a===true)a=true;else{for(var e=0,\nn=c.length,j;e<n;++e){j=c[e];f[j]||(f[j]=a(j))}a=false}else a=false;d.allClasses=a}}}function b(a,b,c){if(!a)return false;if(a===true)return true;for(var d in b)c[d]||(c[d]=a(d));return false}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return false;c.hadInvalidAttribute=f(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=f(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;b=b.classes;if(a){for(var d=false,e=a===true,n=b.length;n--;)if(e||a(b[n])){b.splice(n,1);d=\ntrue}a=d}else a=false;c.hadInvalidClass=a||c.hadInvalidClass}}function f(a,b){if(!a)return false;var c=false,d=a===true,f;for(f in b)if(d||a(f)){delete b[f];c=true}return c}function d(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return false;a._.cachedChecks={};return true}function h(a,b){if(!a)return false;if(a===true)return a;if(typeof a==\"string\"){a=B(a);return a==\"*\"?true:CKEDITOR.tools.convertArrayToObject(a.split(b))}if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):\nfalse;var c={},d=0,f;for(f in a){c[f]=a[f];d++}return d?c:false}function l(a,b){if(a.nothingRequired)return true;var c,d,f,e;if(f=a.requiredClasses){e=b.classes;for(c=0;c<f.length;++c){d=f[c];if(typeof d==\"string\"){if(CKEDITOR.tools.indexOf(e,d)==-1)return false}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(e,d))return false}}return i(b.styles,a.requiredStyles)&&i(b.attributes,a.requiredAttributes)}function i(a,b){if(!b)return true;for(var c=0,d;c<b.length;++c){d=b[c];if(typeof d==\"string\"){if(!(d in\na))return false}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return false}return true}function g(a){if(!a)return{};for(var a=a.split(/\\s*,\\s*/).sort(),b={};a.length;)b[a.shift()]=w;return b}function m(a){for(var b,c,d,f,e={},n=1,a=B(a);b=a.match(x);){if(c=b[2]){d=t(c,\"styles\");f=t(c,\"attrs\");c=t(c,\"classes\")}else d=f=c=null;e[\"$\"+n++]={elements:b[1],classes:c,styles:d,attributes:f};a=a.slice(b[0].length)}return e}function t(a,b){var c=a.match(F[b]);return c?B(c[1]):null}function s(a){var b=\na.styleBackup=a.attributes.style,c=a.classBackup=a.attributes[\"class\"];if(!a.styles)a.styles=CKEDITOR.tools.parseCssText(b||\"\",1);if(!a.classes)a.classes=c?c.split(/\\s+/):[]}function y(a,b,d,f){var k=0,r;if(f.toHtml)b.name=b.name.replace(G,\"$1\");if(f.doCallbacks&&a.elementCallbacks){a:for(var x=a.elementCallbacks,h=0,o=x.length,w;h<o;++h)if(w=x[h](b)){r=w;break a}if(r)return r}if(f.doTransform)if(r=a._.transformations[b.name]){s(b);for(x=0;x<r.length;++x)n(a,b,r[x]);q(b)}if(f.doFilter){a:{x=b.name;\nh=a._;a=h.allowedRules.elements[x];r=h.allowedRules.generic;x=h.disallowedRules.elements[x];h=h.disallowedRules.generic;o=f.skipRequired;w={valid:false,validAttributes:{},validClasses:{},validStyles:{},allAttributes:false,allClasses:false,allStyles:false,hadInvalidAttribute:false,hadInvalidClass:false,hadInvalidStyle:false};var p,g;if(!a&&!r)a=null;else{s(b);if(x){p=0;for(g=x.length;p<g;++p)if(c(x[p],b,w)===false){a=null;break a}}if(h){p=0;for(g=h.length;p<g;++p)c(h[p],b,w)}if(a){p=0;for(g=a.length;p<\ng;++p)e(a[p],b,w,o)}if(r){p=0;for(g=r.length;p<g;++p)e(r[p],b,w,o)}a=w}}if(!a){d.push(b);return z}if(!a.valid){d.push(b);return z}g=a.validAttributes;var i=a.validStyles;r=a.validClasses;var x=b.attributes,F=b.styles,h=b.classes,o=b.classBackup,C=b.styleBackup,u,A,D=[];w=[];var v=/^data-cke-/;p=false;delete x.style;delete x[\"class\"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(u in x)if(!g[u])if(v.test(u)){if(u!=(A=u.replace(/^data-cke-saved-/,\"\"))&&!g[A]){delete x[u];p=true}}else{delete x[u];\np=true}if(!a.allStyles||a.hadInvalidStyle){for(u in F)a.allStyles||i[u]?D.push(u+\":\"+F[u]):p=true;if(D.length)x.style=D.sort().join(\"; \")}else if(C)x.style=C;if(!a.allClasses||a.hadInvalidClass){for(u=0;u<h.length;++u)(a.allClasses||r[h[u]])&&w.push(h[u]);w.length&&(x[\"class\"]=w.sort().join(\" \"));o&&w.length<o.split(/\\s+/).length&&(p=true)}else o&&(x[\"class\"]=o);p&&(k=z);if(!f.skipFinalValidation&&!j(b)){d.push(b);return z}}if(f.toHtml)b.name=b.name.replace($,\"cke:$1\");return k}function p(a){var b=\n[],c;for(c in a)c.indexOf(\"*\")>-1&&b.push(c.replace(/\\*/g,\".*\"));return b.length?RegExp(\"^(?:\"+b.join(\"|\")+\")$\"):null}function q(a){var b=a.attributes,c;delete b.style;delete b[\"class\"];if(c=CKEDITOR.tools.writeCssText(a.styles,true))b.style=c;a.classes.length&&(b[\"class\"]=a.classes.sort().join(\" \"))}function j(a){switch(a.name){case \"a\":if(!a.children.length&&!a.attributes.name)return false;break;case \"img\":if(!a.attributes.src)return false}return true}function u(a){if(!a)return false;if(a===true)return true;\nvar b=p(a);return function(c){return c in a||b&&c.match(b)}}function v(){return new CKEDITOR.htmlParser.element(\"br\")}function E(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.name==\"br\"||J.$block[a.name])}function k(a,b,c){var d=a.name;if(J.$empty[d]||!a.children.length)if(d==\"hr\"&&b==\"br\")a.replaceWith(v());else{a.parent&&c.push({check:\"it\",el:a.parent});a.remove()}else if(J.$block[d]||d==\"tr\")if(b==\"br\"){if(a.previous&&!E(a.previous)){b=v();b.insertBefore(a)}if(a.next&&!E(a.next)){b=v();b.insertAfter(a)}a.replaceWithChildren()}else{var d=\na.children,f;b:{f=J[b];for(var e=0,n=d.length,j;e<n;++e){j=d[e];if(j.type==CKEDITOR.NODE_ELEMENT&&!f[j.name]){f=false;break b}}f=true}if(f){a.name=b;a.attributes={};c.push({check:\"parent-down\",el:a})}else{f=a.parent;for(var e=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||f.name==\"body\",k,r,n=d.length;n>0;){j=d[--n];if(e&&(j.type==CKEDITOR.NODE_TEXT||j.type==CKEDITOR.NODE_ELEMENT&&J.$inline[j.name])){if(!k){k=new CKEDITOR.htmlParser.element(b);k.insertAfter(a);c.push({check:\"parent-down\",el:k})}k.add(j,\n0)}else{k=null;r=J[f.name]||J.span;j.insertAfter(a);f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(j.type==CKEDITOR.NODE_ELEMENT&&!r[j.name])&&c.push({check:\"el-up\",el:j})}}a.remove()}}else if(d==\"style\")a.remove();else{a.parent&&c.push({check:\"it\",el:a.parent});a.replaceWithChildren()}}function n(a,b,c){var d,f;for(d=0;d<c.length;++d){f=c[d];if((!f.check||a.check(f.check,false))&&(!f.left||f.left(b))){f.right(b,aa);break}}}function r(a,b){var c=b.getDefinition(),d=c.attributes,f=c.styles,e,n,j,k;if(a.name!=\nc.element)return false;for(e in d)if(e==\"class\"){c=d[e].split(/\\s+/);for(j=a.classes.join(\"|\");k=c.pop();)if(j.indexOf(k)==-1)return false}else if(a.attributes[e]!=d[e])return false;for(n in f)if(a.styles[n]!=f[n])return false;return true}function o(a,b){var c,d;if(typeof a==\"string\")c=a;else if(a instanceof CKEDITOR.style)d=a;else{c=a[0];d=a[1]}return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function M(a){return function(b){return r(b,a)}}function D(a){return function(b,c){c[a](b)}}\nvar J=CKEDITOR.dtd,z=1,L=CKEDITOR.tools.copy,B=CKEDITOR.tools.trim,w=\"cke-test\",H=[\"\",\"p\",\"br\",\"div\"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=false;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=\nthis.editor=a;this.customConfig=true;var b=a.config.allowedContent;if(b===true)this.disabled=true;else{if(!b)this.customConfig=false;this.allow(b,\"config\",1);this.allow(a.config.extraAllowedContent,\"extra\",1);this.allow(H[a.enterMode]+\" \"+H[a.shiftEnterMode],\"default\",1);this.disallow(a.config.disallowedContent)}}else{this.customConfig=false;this.allow(a,\"default\",1)}};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,f){if(!d(this,b,f))return false;var e,n;if(typeof b==\"string\")b=\nm(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,f);e=b.getDefinition();b={};f=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.objectKeys(e.styles)};if(f){f=L(f);e.classes=f[\"class\"]?f[\"class\"].split(/\\s+/):null;e.requiredClasses=e.classes;delete f[\"class\"];e.attributes=f;e.requiredAttributes=f&&CKEDITOR.tools.objectKeys(f)}}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)n=\nthis.allow(b[e],c,f);return n}a(this,b,c,this.allowedContent,this._.allowedRules);return true},applyTo:function(a,b,c,d){if(this.disabled)return false;var f=this,e=[],n=this.editor&&this.editor.config.protectedSource,r,x=false,h={doFilter:!c,doTransform:true,doCallbacks:true,toHtml:b};a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if(a.attributes[\"data-cke-filter\"]==\"off\")return false;if(!b||!(a.name==\"span\"&&~CKEDITOR.tools.objectKeys(a.attributes).join(\"|\").indexOf(\"data-cke-\"))){r=y(f,\na,e,h);if(r&z)x=true;else if(r&2)return false}}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\\{cke_protected\\}(?!\\{C\\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\\{cke_protected\\}/,\"\"));c=[];var j,k,o;if(n)for(k=0;k<n.length;++k)if((o=d.match(n[k]))&&o[0].length==d.length){c=true;break a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);d.children.length==1&&(j=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&y(f,j,c,h);c=!c.length}c||e.push(a)}},null,true);e.length&&(x=true);for(var o,\na=[],d=H[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)],p;c=e.pop();)c.type==CKEDITOR.NODE_ELEMENT?k(c,d,a):c.remove();for(;o=a.pop();){c=o.el;if(c.parent){p=J[c.parent.name]||J.span;switch(o.check){case \"it\":J.$removeEmpty[c.name]&&!c.children.length?k(c,d,a):j(c)||k(c,d,a);break;case \"el-up\":c.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!p[c.name]&&k(c,d,a);break;case \"parent-down\":c.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!p[c.name]&&k(c.parent,d,a)}}}return x},checkFeature:function(a){if(this.disabled||\n!a)return true;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=true},disallow:function(b){if(!d(this,b,true))return false;typeof b==\"string\"&&(b=m(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return true},addContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],f;for(b=0;b<a.length&&!f;++b){c=a[b];if((typeof c==\"string\"||c instanceof CKEDITOR.style)&&this.check(c))f=c}if(f){for(b=0;b<a.length;++b)d.push(o(a[b],\nf));this.addTransformations(d)}}},addElementCallback:function(a){if(!this.elementCallbacks)this.elementCallbacks=[];this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return true;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):true},addTransformations:function(a){var b,\nc;if(!this.disabled&&a){var d=this._.transformations,f;for(f=0;f<a.length;++f){b=a[f];var e=void 0,n=void 0,j=void 0,k=void 0,r=void 0,x=void 0;c=[];for(n=0;n<b.length;++n){j=b[n];if(typeof j==\"string\"){j=j.split(/\\s*:\\s*/);k=j[0];r=null;x=j[1]}else{k=j.check;r=j.left;x=j.right}if(!e){e=j;e=e.element?e.element:k?k.match(/^([a-z0-9]+)/i)[0]:e.left.getDefinition().element}r instanceof CKEDITOR.style&&(r=M(r));c.push({check:k==e?null:k,left:r,right:typeof x==\"string\"?D(x):x})}b=e;d[b]||(d[b]=[]);d[b].push(c)}}},\ncheck:function(a,b,c){if(this.disabled)return true;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return true;return false}var f,e;if(typeof a==\"string\"){e=a+\"<\"+(b===false?\"0\":\"1\")+(c?\"1\":\"0\")+\">\";if(e in this._.cachedChecks)return this._.cachedChecks[e];d=m(a).$1;f=d.styles;var j=d.classes;d.name=d.elements;d.classes=j=j?j.split(/\\s*,\\s*/):[];d.styles=g(f);d.attributes=g(d.attributes);d.children=[];j.length&&(d.attributes[\"class\"]=j.join(\" \"));if(f)d.attributes.style=\nCKEDITOR.tools.writeCssText(d.styles);f=d}else{d=a.getDefinition();f=d.styles;j=d.attributes||{};if(f){f=L(f);j.style=CKEDITOR.tools.writeCssText(f,true)}else f={};f={name:d.element,attributes:j,classes:j[\"class\"]?j[\"class\"].split(/\\s+/):[],styles:f,children:[]}}var j=CKEDITOR.tools.clone(f),k=[],r;if(b!==false&&(r=this._.transformations[f.name])){for(d=0;d<r.length;++d)n(this,f,r[d]);q(f)}y(this,j,k,{doFilter:true,doTransform:b!==false,skipRequired:!c,skipFinalValidation:!c});b=k.length>0?false:\nCKEDITOR.tools.objectCompare(f.attributes,j.attributes,true)?true:false;typeof a==\"string\"&&(this._.cachedChecks[e]=b);return b},getAllowedEnterMode:function(){var a=[\"p\",\"div\",\"br\"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){var f=a.slice(),e;if(this.check(H[c]))return c;for(d||(f=f.reverse());e=f.pop();)if(this.check(e))return b[e];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;\ndelete this.disallowedContent}};var C={styles:1,attributes:1,classes:1},A={styles:\"requiredStyles\",attributes:\"requiredAttributes\",classes:\"requiredClasses\"},x=/^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,F={styles:/{([^}]+)}/,attrs:/\\[([^\\]]+)\\]/,classes:/\\(([^\\)]+)\\)/},G=/^cke:(object|embed|param)$/,$=/^(object|embed|param)$/,aa=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,\"width\");this.lengthToStyle(a,\n\"height\")},sizeToAttribute:function(a){this.lengthToAttribute(a,\"width\");this.lengthToAttribute(a,\"height\")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];if(d){/^\\d+$/.test(d)&&(d=d+\"px\");a.styles[c]=d}}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],f=d&&d.match(/^(\\d+)(?:\\.\\d*)?px$/);f?a.attributes[c]=f[1]:d==w&&(a.attributes[c]=w)}delete a.styles[b]},alignmentToStyle:function(a){if(!(\"float\"in a.styles)){var b=\na.attributes.align;if(b==\"left\"||b==\"right\")a.styles[\"float\"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!(\"align\"in a.attributes)){var b=a.styles[\"float\"];if(b==\"left\"||b==\"right\")a.attributes.align=b}delete a.styles[\"float\"]},matchesStyle:r,transform:function(a,b){if(typeof b==\"string\")a.name=b;else{var c=b.getDefinition(),d=c.styles,f=c.attributes,e,j,n,k;a.name=c.element;for(e in f)if(e==\"class\"){c=a.classes.join(\"|\");for(n=f[e].split(/\\s+/);k=n.pop();)c.indexOf(k)==-1&&\na.classes.push(k)}else a.attributes[e]=f[e];for(j in d)a.styles[j]=d[j]}}}})();\n(function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=false;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);if(a)this.currentActive=a;if(!this.hasFocus&&!this._.locked){(a=CKEDITOR.currentInstance)&&a.focusManager.blur(1);this.hasFocus=true;(a=this._.editor.container)&&a.addClass(\"cke_focus\");this._.editor.fire(\"focus\")}},\nlock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function e(){if(this.hasFocus){this.hasFocus=false;var a=this._.editor.container;a&&a.removeClass(\"cke_focus\");this._.editor.fire(\"blur\")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;e.call(this)},b,this)}},add:function(a,e){var b=a.getCustomData(\"focusmanager\");if(!b||\nb!=this){b&&b.remove(a);var b=\"focus\",c=\"blur\";if(e)if(CKEDITOR.env.ie){b=\"focusin\";c=\"focusout\"}else CKEDITOR.event.useCapture=1;var f={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,f.focus,this);a.on(c,f.blur,this);if(e)CKEDITOR.event.useCapture=0;a.setCustomData(\"focusmanager\",this);a.setCustomData(\"focusmanager_handlers\",f)}},remove:function(a){a.removeCustomData(\"focusmanager\");var e=a.removeCustomData(\"focusmanager_handlers\");a.removeListener(\"blur\",\ne.blur);a.removeListener(\"focus\",e.focus)}}})();CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this};\n(function(){var a,e=function(b){var b=b.data,f=b.getKeystroke(),d=this.keystrokes[f],e=this._.editor;a=e.fire(\"key\",{keyCode:f,domEvent:b})===false;if(!a){d&&(a=e.execCommand(d,{from:\"keystrokeHandler\"})!==false);a||(a=!!this.blockedKeystrokes[f])}a&&b.preventDefault(true);return!a},b=function(b){if(a){a=false;b.data.preventDefault(true)}};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on(\"keydown\",e,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on(\"keypress\",b,this)}}})();\n(function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,\"fr-ca\":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,\"pt-br\":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,\"sr-latn\":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,\"zh-cn\":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,e,b){if(!a||!CKEDITOR.lang.languages[a])a=this.detect(e,\na);var c=this,e=function(){c[a].dir=c.rtl[a]?\"rtl\":\"ltr\";b(a,c[a])};this[a]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(\"lang/\"+a+\".js\"),e,this)},detect:function(a,e){var b=this.languages,e=e||navigator.userLanguage||navigator.language||a,c=e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),f=c[1],c=c[2];b[f+\"-\"+c]?f=f+\"-\"+c:b[f]||(f=null);CKEDITOR.lang.detect=f?function(){return f}:function(a){return a};return f||a}}})();\nCKEDITOR.scriptLoader=function(){var a={},e={};return{load:function(b,c,f,d){var h=typeof b==\"string\";h&&(b=[b]);f||(f=CKEDITOR);var l=b.length,i=[],g=[],m=function(a){c&&(h?c.call(f,a):c.call(f,i,g))};if(l===0)m(true);else{var t=function(a,b){(b?i:g).push(a);if(--l<=0){d&&CKEDITOR.document.getDocumentElement().removeStyle(\"cursor\");m(b)}},s=function(b,c){a[b]=1;var d=e[b];delete e[b];for(var f=0;f<d.length;f++)d[f](b,c)},y=function(b){if(a[b])t(b,true);else{var d=e[b]||(e[b]=[]);d.push(t);if(!(d.length>\n1)){var f=new CKEDITOR.dom.element(\"script\");f.setAttributes({type:\"text/javascript\",src:b});if(c)if(CKEDITOR.env.ie&&CKEDITOR.env.version<11)f.$.onreadystatechange=function(){if(f.$.readyState==\"loaded\"||f.$.readyState==\"complete\"){f.$.onreadystatechange=null;s(b,true)}};else{f.$.onload=function(){setTimeout(function(){s(b,true)},0)};f.$.onerror=function(){s(b,false)}}f.appendTo(CKEDITOR.document.getHead())}}};d&&CKEDITOR.document.getDocumentElement().setStyle(\"cursor\",\"wait\");for(var p=0;p<l;p++)y(b[p])}},\nqueue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(f,d){var e=this;c.push({scriptUrl:f,callback:function(){d&&d.apply(this,arguments);c.shift();a.call(e)}});c.length==1&&a.call(this)}}()}}();CKEDITOR.resourceManager=function(a,e){this.basePath=a;this.fileName=e;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};\nCKEDITOR.resourceManager.prototype={add:function(a,e){if(this.registered[a])throw'[CKEDITOR.resourceManager.add] The resource name \"'+a+'\" is already registered.';var b=this.registered[a]=e||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+\"Ready\",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var e=this.externals[a];return CKEDITOR.getUrl(e&&e.dir||this.basePath+a+\"/\")},getFilePath:function(a){var e=this.externals[a];\nreturn CKEDITOR.getUrl(this.getPath(a)+(e?e.file:this.fileName+\".js\"))},addExternal:function(a,e,b){for(var a=a.split(\",\"),c=0;c<a.length;c++){var f=a[c];b||(e=e.replace(/[^\\/]+$/,function(a){b=a;return\"\"}));this.externals[f]={dir:e,file:b||this.fileName+\".js\"}}},load:function(a,e,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,f=this.registered,d=[],h={},l={},i=0;i<a.length;i++){var g=a[i];if(g)if(!c[g]&&!f[g]){var m=this.getFilePath(g);d.push(m);m in h||(h[m]=[]);h[m].push(g)}else l[g]=\nthis.get(g)}CKEDITOR.scriptLoader.load(d,function(a,d){if(d.length)throw'[CKEDITOR.resourceManager.load] Resource name \"'+h[d[0]].join(\",\")+'\" was not found at \"'+d[0]+'\".';for(var f=0;f<a.length;f++)for(var p=h[a[f]],g=0;g<p.length;g++){var j=p[g];l[j]=this.get(j);c[j]=1}e.call(b,l)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager(\"plugins/\",\"plugin\");\nCKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var e={};return function(b,c,f){var d={},h=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(d,a);var b=[],m;for(m in a){var l=a[m],s=l&&l.requires;if(!e[m]){if(l.icons)for(var y=l.icons.split(\",\"),p=y.length;p--;)CKEDITOR.skin.addIcon(y[p],l.path+\"icons/\"+(CKEDITOR.env.hidpi&&l.hidpi?\"hidpi/\":\"\")+y[p]+\".png\");e[m]=1}if(s){s.split&&(s=s.split(\",\"));for(l=0;l<s.length;l++)d[s[l]]||b.push(s[l])}}if(b.length)h.call(this,\nb);else{for(m in d){l=d[m];if(l.onLoad&&!l.onLoad._called){l.onLoad()===false&&delete d[m];l.onLoad._called=1}}c&&c.call(f||window,d)}},this)};h.call(this,b)}});CKEDITOR.plugins.setLang=function(a,e,b){var c=this.get(a),a=c.langEntries||(c.langEntries={}),c=c.lang||(c.lang=[]);c.split&&(c=c.split(\",\"));CKEDITOR.tools.indexOf(c,e)==-1&&c.push(e);a[e]=b};CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this};\nCKEDITOR.ui.prototype={add:function(a,e,b){b.name=a.toLowerCase();var c=this.items[a]={type:e,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var e=this.items[a],b=e&&this._.handlers[e.type],c=e&&e.command&&this.editor.getCommand(e.command),b=b&&b.create.apply(this,e.args);this.instances[a]=b;c&&c.uiItems.push(b);if(b&&!b.type)b.type=e.type;return b},addHandler:function(a,e){this._.handlers[a]=\ne},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+\"_\"+a}};CKEDITOR.event.implementOn(CKEDITOR.ui);\n(function(){function a(a,c,d){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(c!==void 0){if(c instanceof CKEDITOR.dom.element){if(!d)throw Error(\"One of the element modes must be specified.\");}else throw Error(\"Expect element of type CKEDITOR.dom.element.\");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&d==CKEDITOR.ELEMENT_MODE_INLINE)throw Error(\"Inline element mode is not supported on IE quirks.\");if(!(d==CKEDITOR.ELEMENT_MODE_INLINE?c.is(CKEDITOR.dtd.$editable)||c.is(\"textarea\"):d==CKEDITOR.ELEMENT_MODE_REPLACE?\n!c.is(CKEDITOR.dtd.$nonBodyContent):1))throw Error('The specified element mode is not supported on element: \"'+c.getName()+'\".');this.element=c;this.elementMode=d;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(c.getId()||c.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||e();this.id=CKEDITOR.tools.getNextId();this.status=\"unloaded\";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);\nthis.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on(\"readOnly\",b);this.on(\"selectionChange\",function(a){f(this,a.data.path)});this.on(\"activeFilterChange\",function(){f(this,this.elementPath(),true)});this.on(\"mode\",b);this.on(\"instanceReady\",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire(\"instanceCreated\",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){h(this,a)},0,this)}function e(){do var a=\"editor\"+\n++s;while(CKEDITOR.instances[a]);return a}function b(){var a=this.commands,b;for(b in a)c(this,a[b])}function c(a,b){b[b.startDisabled?\"disable\":a.readOnly&&!b.readOnly?\"disable\":b.modes[a.mode]?\"enable\":\"disable\"]()}function f(a,b,c){if(b){var d,f,e=a.commands;for(f in e){d=e[f];(c||d.contextSensitive)&&d.refresh(a,b)}}}function d(a){var b=a.config.customConfig;if(!b)return false;var b=CKEDITOR.getUrl(b),c=y[b]||(y[b]={});if(c.fn){c.fn.call(a,a.config);(CKEDITOR.getUrl(a.config.customConfig)==b||\n!d(a))&&a.fireOnce(\"customConfigLoaded\")}else CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};d(a)});return true}function h(a,b){a.on(\"customConfigLoaded\",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,true);delete a.config.on}c=a.config;a.readOnly=!(!c.readOnly&&!(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is(\"textarea\")?a.element.hasAttribute(\"disabled\"):a.element.isReadOnly():a.elementMode==\nCKEDITOR.ELEMENT_MODE_REPLACE&&a.element.hasAttribute(\"disabled\")));a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is(\"textarea\")||CKEDITOR.dtd[a.element.getName()].p):false;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute(\"tabindex\")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;if(c.skin)CKEDITOR.skinName=c.skin;a.fireOnce(\"configLoaded\");a.dataProcessor=\nnew CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);l(a)});if(b&&b.customConfig!=null)a.config.customConfig=b.customConfig;d(a)||a.fireOnce(\"customConfigLoaded\")}function l(a){CKEDITOR.skin.loadPart(\"editor\",function(){i(a)})}function i(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title=typeof d==\"string\"||d===false?d:[a.lang.editor,a.name].join(\", \");if(!a.config.contentsLangDirection)a.config.contentsLangDirection=\na.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir;a.fire(\"langLoaded\");g(a)})}function g(a){a.getStylesSet(function(b){a.once(\"loaded\",function(){a.fire(\"stylesSet\",{styles:b})},null,null,1);m(a)})}function m(a){var b=a.config,c=b.plugins,d=b.extraPlugins,f=b.removePlugins;if(d)var e=RegExp(\"(?:^|,)(?:\"+d.replace(/\\s*,\\s*/g,\"|\")+\")(?=,|$)\",\"g\"),c=c.replace(e,\"\"),c=c+(\",\"+d);if(f)var k=RegExp(\"(?:^|,)(?:\"+f.replace(/\\s*,\\s*/g,\"|\")+\")(?=,|$)\",\"g\"),c=c.replace(k,\"\");CKEDITOR.env.air&&\n(c=c+\",adobeair\");CKEDITOR.plugins.load(c.split(\",\"),function(c){var d=[],f=[],e=[];a.plugins=c;for(var j in c){var h=c[j],g=h.lang,i=null,u=h.requires,w;CKEDITOR.tools.isArray(u)&&(u=u.join(\",\"));if(u&&(w=u.match(k)))for(;u=w.pop();)CKEDITOR.tools.setTimeout(function(a,b){throw Error('Plugin \"'+a.replace(\",\",\"\")+'\" cannot be removed from the plugins list, because it\\'s required by \"'+b+'\" plugin.');},0,null,[u,j]);if(g&&!a.lang[j]){g.split&&(g=g.split(\",\"));if(CKEDITOR.tools.indexOf(g,a.langCode)>=\n0)i=a.langCode;else{i=a.langCode.replace(/-.*/,\"\");i=i!=a.langCode&&CKEDITOR.tools.indexOf(g,i)>=0?i:CKEDITOR.tools.indexOf(g,\"en\")>=0?\"en\":g[0]}if(!h.langEntries||!h.langEntries[i])e.push(CKEDITOR.getUrl(h.path+\"lang/\"+i+\".js\"));else{a.lang[j]=h.langEntries[i];i=null}}f.push(i);d.push(h)}CKEDITOR.scriptLoader.load(e,function(){for(var c=[\"beforeInit\",\"init\",\"afterInit\"],e=0;e<c.length;e++)for(var n=0;n<d.length;n++){var j=d[n];e===0&&(f[n]&&j.lang&&j.langEntries)&&(a.lang[j.name]=j.langEntries[f[n]]);\nif(j[c[e]])j[c[e]](a)}a.fireOnce(\"pluginsLoaded\");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(n=0;n<a.config.blockedKeystrokes.length;n++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[n]]=1;a.status=\"loaded\";a.fireOnce(\"loaded\");CKEDITOR.fire(\"instanceLoaded\",null,a)})})}function t(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is(\"textarea\")?a.setValue(b):\na.setHtml(b);return true}return false}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var s=0,y={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var d=new CKEDITOR.command(this,b);this.mode&&c(this,d);return this.commands[a]=d},_attachToForm:function(){function a(d){b.updateElement();b._.required&&(!c.getValue()&&b.fire(\"required\")===false)&&d.data.preventDefault()}var b=this,c=b.element,d=new CKEDITOR.dom.element(c.$.form);if(c.is(\"textarea\")&&\nd){d.on(\"submit\",a);if(d.$.submit&&d.$.submit.call&&d.$.submit.apply)d.$.submit=CKEDITOR.tools.override(d.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}});b.on(\"destroy\",function(){d.removeListener(\"submit\",a)})}},destroy:function(a){this.fire(\"beforeDestroy\");!a&&t.call(this);this.editable(null);this.filter.destroy();delete this.filter;delete this.activeFilter;this.status=\"destroyed\";this.fire(\"destroy\");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire(\"instanceDestroyed\",\nnull,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};if(c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&this.fire(\"beforeCommandExec\",d)!==false){d.returnValue=c.exec(d.commandData);if(!c.async&&this.fire(\"afterCommandExec\",\nd)!==false)return d.returnValue}return false},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire(\"beforeGetData\");var b=this._.data;if(typeof b!=\"string\")b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is(\"textarea\")?b.getValue():b.getHtml():\"\";b={dataValue:b};!a&&this.fire(\"getData\",b);return b.dataValue},getSnapshot:function(){var a=this.fire(\"getSnapshot\");if(typeof a!=\"string\"){var b=this.element;b&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&\n(a=b.is(\"textarea\")?b.getValue():b.getHtml())}return a},loadSnapshot:function(a){this.fire(\"loadSnapshot\",a)},setData:function(a,b,c){var d=true,f=b;if(b&&typeof b==\"object\"){c=b.internal;f=b.callback;d=!b.noSnapshot}!c&&d&&this.fire(\"saveSnapshot\");if(f||!c)this.once(\"dataReady\",function(a){!c&&d&&this.fire(\"saveSnapshot\");f&&f.call(a.editor)});a={dataValue:a};!c&&this.fire(\"setData\",a);this._.data=a.dataValue;!c&&this.fire(\"afterSetData\",a)},setReadOnly:function(a){a=a==null||a;if(this.readOnly!=\na){this.readOnly=a;this.keystrokeHandler.blockedKeystrokes[8]=+a;this.editable().setReadOnly(a);this.fire(\"readOnly\")}},insertHtml:function(a,b){this.fire(\"insertHtml\",{dataValue:a,mode:b})},insertText:function(a){this.fire(\"insertText\",a)},insertElement:function(a){this.fire(\"insertElement\",a)},focus:function(){this.fire(\"beforeFocus\")},checkDirty:function(){return this.status==\"ready\"&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return t.call(this)},\nsetKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,f=b.length;f--;){c=b[f];d=0;if(CKEDITOR.tools.isArray(c)){d=c[1];c=c[0]}d?a[c]=d:delete a[c]}},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){if(!a)a=this.filter;if(this.activeFilter!==a){this.activeFilter=a;this.fire(\"activeFilterChange\");a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),\na.getAllowedEnterMode(this.shiftEnterMode,true))}},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b){this.activeEnterMode=a;this.activeShiftEnterMode=b;this.fire(\"activeEnterModeChange\")}}})})();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;\nCKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\\>)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g}};\n(function(){var a=/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,f,d=0,h;c=this._.htmlPartsRegex.exec(b);){f=c.index;if(f>d){d=b.substring(d,f);if(h)h.push(d);else this.onText(d)}d=\nthis._.htmlPartsRegex.lastIndex;if(f=c[1]){f=f.toLowerCase();if(h&&CKEDITOR.dtd.$cdata[f]){this.onCDATA(h.join(\"\"));h=null}if(!h){this.onTagClose(f);continue}}if(h)h.push(c[0]);else if(f=c[3]){f=f.toLowerCase();if(!/=\"/.test(f)){var l={},i,g=c[4];c=!!c[5];if(g)for(;i=a.exec(g);){var m=i[1].toLowerCase();i=i[2]||i[3]||i[4]||\"\";l[m]=!i&&e[m]?m:CKEDITOR.tools.htmlDecodeAttr(i)}this.onTagOpen(f,l,c);!h&&CKEDITOR.dtd.$cdata[f]&&(h=[])}}else if(f=c[2])this.onComment(f)}if(b.length>d)this.onText(b.substring(d,\nb.length))}}})();\nCKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push(\"<\",a)},openTagClose:function(a,e){e?this._.output.push(\" />\"):this._.output.push(\">\")},attribute:function(a,e){typeof e==\"string\"&&(e=CKEDITOR.tools.htmlEncodeAttr(e));this._.output.push(\" \",a,'=\"',e,'\"')},closeTag:function(a){this._.output.push(\"</\",a,\">\")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push(\"<\\!--\",a,\"--\\>\")},write:function(a){this._.output.push(a)},\nreset:function(){this._.output=[];this._.indent=false},getHtml:function(a){var e=this._.output.join(\"\");a&&this.reset();return e}}});\"use strict\";\n(function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,e=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(e,1);this.parent=null},replaceWith:function(a){var e=this.parent.children,b=CKEDITOR.tools.indexOf(e,this),c=a.previous=this.previous,f=a.next=this.next;c&&(c.next=a);f&&(f.previous=a);e[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var e=a.parent.children,\nb=CKEDITOR.tools.indexOf(e,a),c=a.next;e.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var e=a.parent.children,b=CKEDITOR.tools.indexOf(e,a);e.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var e=typeof a==\"function\"?a:typeof a==\"string\"?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&\nb.type==CKEDITOR.NODE_ELEMENT;){if(e(b))return b;b=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}})();\"use strict\";CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:false}};\nCKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,e){var b=this.value;if(!(b=a.onComment(e,b,this))){this.remove();return false}if(typeof b!=\"string\"){this.replaceWith(b);return false}this.value=b;return true},writeHtml:function(a,e){e&&this.filter(e);a.comment(this.value)}});\"use strict\";\n(function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:false}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,e){if(!(this.value=a.onText(e,this.value,this))){this.remove();return false}},writeHtml:function(a,e){e&&this.filter(e);a.text(this.value)}})})();\"use strict\";\n(function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})})();\"use strict\";CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false}};\n(function(){function a(a){return a.attributes[\"data-cke-survive\"]?false:a.name==\"a\"&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),f={ul:\"li\",ol:\"li\",dl:\"dd\",table:\"tbody\",tbody:\"tr\",thead:\"tr\",tfoot:\"tr\",tr:\"td\"};CKEDITOR.htmlParser.fragment.fromHtml=\nfunction(d,h,l){function i(a){var b;if(j.length>0)for(var c=0;c<j.length;c++){var d=j[c],f=d.name,e=CKEDITOR.dtd[f],k=v.name&&CKEDITOR.dtd[v.name];if((!k||k[f])&&(!a||!e||e[a]||!CKEDITOR.dtd[a])){if(!b){g();b=1}d=d.clone();d.parent=v;v=d;j.splice(c,1);c--}else if(f==v.name){t(v,v.parent,1);c--}}}function g(){for(;u.length;)t(u.shift(),v)}function m(a){if(a._.isBlockLike&&a.name!=\"pre\"&&a.name!=\"textarea\"){var b=a.children.length,c=a.children[b-1],d;if(c&&c.type==CKEDITOR.NODE_TEXT)(d=CKEDITOR.tools.rtrim(c.value))?\nc.value=d:a.children.length=b-1}}function t(b,c,d){var c=c||v||q,f=v;if(b.previous===void 0){if(s(c,b)){v=c;p.onTagOpen(l,{});b.returnPoint=c=v}m(b);(!a(b)||b.children.length)&&c.add(b);b.name==\"pre\"&&(k=false);b.name==\"textarea\"&&(E=false)}if(b.returnPoint){v=b.returnPoint;delete b.returnPoint}else v=d?c:f}function s(a,b){if((a==q||a.name==\"body\")&&l&&(!a.name||CKEDITOR.dtd[a.name][l])){var c,d;return(c=b.attributes&&(d=b.attributes[\"data-cke-real-element-type\"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&\n!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function y(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||a==\"dt\"&&b==\"dd\"||a==\"dd\"&&b==\"dt\":false}var p=new CKEDITOR.htmlParser,q=h instanceof CKEDITOR.htmlParser.element?h:typeof h==\"string\"?new CKEDITOR.htmlParser.element(h):new CKEDITOR.htmlParser.fragment,j=[],u=[],v=q,E=q.name==\"textarea\",k=q.name==\"pre\";p.onTagOpen=function(d,f,h,l){f=new CKEDITOR.htmlParser.element(d,f);if(f.isUnknown&&h)f.isEmpty=\ntrue;f.isOptionalClose=l;if(a(f))j.push(f);else{if(d==\"pre\")k=true;else{if(d==\"br\"&&k){v.add(new CKEDITOR.htmlParser.text(\"\\n\"));return}d==\"textarea\"&&(E=true)}if(d==\"br\")u.push(f);else{for(;;){l=(h=v.name)?CKEDITOR.dtd[h]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!f.isUnknown&&!v.isUnknown&&!l[d])if(v.isOptionalClose)p.onTagClose(h);else if(d in b&&h in b){h=v.children;(h=h[h.length-1])&&h.name==\"li\"||t(h=new CKEDITOR.htmlParser.element(\"li\"),v);!f.returnPoint&&(f.returnPoint=v);\nv=h}else if(d in CKEDITOR.dtd.$listItem&&!y(d,h))p.onTagOpen(d==\"li\"?\"ul\":\"dl\",{},0,1);else if(h in e&&!y(d,h)){!f.returnPoint&&(f.returnPoint=v);v=v.parent}else{h in CKEDITOR.dtd.$inline&&j.unshift(v);if(v.parent)t(v,v.parent,1);else{f.isOrphan=1;break}}else break}i(d);g();f.parent=v;f.isEmpty?t(f):v=f}}};p.onTagClose=function(a){for(var b=j.length-1;b>=0;b--)if(a==j[b].name){j.splice(b,1);return}for(var c=[],d=[],f=v;f!=q&&f.name!=a;){f._.isBlockLike||d.unshift(f);c.push(f);f=f.returnPoint||f.parent}if(f!=\nq){for(b=0;b<c.length;b++){var e=c[b];t(e,e.parent)}v=f;f._.isBlockLike&&g();t(f,f.parent);if(f==v)v=v.parent;j=j.concat(d)}a==\"body\"&&(l=false)};p.onText=function(a){if((!v._.hasInlineStarted||u.length)&&!k&&!E){a=CKEDITOR.tools.ltrim(a);if(a.length===0)return}var b=v.name,d=b?CKEDITOR.dtd[b]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!E&&!d[\"#\"]&&b in e){p.onTagOpen(f[b]||\"\");p.onText(a)}else{g();i();!k&&!E&&(a=a.replace(/[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g,\" \"));a=new CKEDITOR.htmlParser.text(a);\nif(s(v,a))this.onTagOpen(l,{},0,1);v.add(a)}};p.onCDATA=function(a){v.add(new CKEDITOR.htmlParser.cdata(a))};p.onComment=function(a){g();i();v.add(new CKEDITOR.htmlParser.comment(a))};p.parse(d);for(g();v!=q;)t(v,v.parent,1);m(q);return q};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=b>0?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT){c.value=CKEDITOR.tools.rtrim(c.value);if(c.value.length===\n0){this.children.pop();this.add(a);return}}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);if(!this._.hasInlineStarted)this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,false,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)this.children[b].filter(a,\nc)===false&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var f=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(f,this);b&&this.filterChildren(b,false,f);b=0;c=this.children;for(f=c.length;b<f;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!c&&(!b||this.type==b))var f=a(this);if(f!==false)for(var c=this.children,e=0;e<c.length;e++){f=c[e];f.type==CKEDITOR.NODE_ELEMENT?f.forEach(a,b):(!b||f.type==b)&&a(f)}},getFilterContext:function(a){return a||\n{}}}})();\"use strict\";\n(function(){function a(){this.rules=[]}function e(b,c,f,d){var e,l;for(e in c){(l=b[e])||(l=b[e]=new a);l.add(c[e],f,d)}}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var f;if(typeof c==\"number\")f=c;else if(c&&\"priority\"in\nc)f=c.priority;typeof f!=\"number\"&&(f=10);typeof c!=\"object\"&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,f,c);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,f,c);a.elements&&e(this.elementsRules,a.elements,f,c);a.attributes&&e(this.attributesRules,a.attributes,f,c);a.text&&this.textRules.add(a.text,f,c);a.comment&&this.commentRules.add(a.comment,f,c);a.root&&this.rootRules.add(a.root,f,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,\nc)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,f){return this.textRules.exec(a,c,f)},onComment:function(a,c,f){return this.commentRules.exec(a,c,f)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var f=[this.elementsRules[\"^\"],this.elementsRules[c.name],this.elementsRules.$],d,e=0;e<3;e++)if(d=f[e]){d=d.exec(a,c,this);if(d===false)return null;if(d&&d!=c)return this.onNode(a,d);if(c.parent&&!c.name)break}return c},\nonNode:function(a,c){var f=c.type;return f==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):f==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,c.value)):f==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,f,d){return(f=this.attributesRules[f])?f.exec(a,d,c,this):d}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,f){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:f})},addMany:function(a,\nc,f){for(var d=[this.findIndex(c),0],e=0,l=a.length;e<l;e++)d.push({value:a[e],priority:c,options:f});this.rules.splice.apply(this.rules,d)},findIndex:function(a){for(var c=this.rules,f=c.length-1;f>=0&&a<c[f].priority;)f--;return f+1},exec:function(a,c){var f=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,d=Array.prototype.slice.call(arguments,1),e=this.rules,l=e.length,i,g,m,t;for(t=0;t<l;t++){if(f){i=c.type;g=c.name}m=e[t];if(!(a.nonEditable&&!m.options.applyToAll||\na.nestedEditable&&m.options.excludeNestedEditable)){m=m.value.apply(null,d);if(m===false||f&&m&&(m.name!=g||m.type!=i))return m;m!=null&&(d[0]=c=m)}}return c},execOnName:function(a,c){for(var f=0,d=this.rules,e=d.length,l;c&&f<e;f++){l=d[f];!(a.nonEditable&&!l.options.applyToAll||a.nestedEditable&&l.options.excludeNestedEditable)&&(c=c.replace(l.value[0],l.value[1]))}return c}}})();\n(function(){function a(a,e){function n(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(\"\"):new CKEDITOR.htmlParser.element(\"br\",{\"data-cke-bogus\":1})}function r(a,f){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var j=[],k=b(e),x,r;if(k)for(w(k,1)&&j.push(k);k;){if(d(k)&&(x=c(k))&&w(x))if((r=c(x))&&!d(r))j.push(x);else{n(o).insertAfter(x);x.remove()}k=k.previous}for(k=0;k<j.length;k++)j[k].remove();if(j=(typeof f==\"function\"?f(e):f)!==false)if(!o&&!CKEDITOR.env.needsBrFiller&&\ne.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)j=false;else if(!o&&!CKEDITOR.env.needsBrFiller&&(document.documentMode>7||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem))j=false;else{j=b(e);j=!j||e.name==\"form\"&&j.name==\"input\"}j&&e.add(n(a))}}}function w(a,b){if((!o||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&a.name==\"br\"&&!a.attributes[\"data-cke-eol\"])return true;var c;if(a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(j))){if(c.index){(new CKEDITOR.htmlParser.text(a.value.substring(0,\nc.index))).insertBefore(a);a.value=c[0]}if(!CKEDITOR.env.needsBrFiller&&o&&(!b||a.parent.name in i))return true;if(!o)if((c=a.previous)&&c.name==\"br\"||!c||d(c))return true}return false}var g={elements:{}},o=e==\"html\",i=CKEDITOR.tools.extend({},k),C;for(C in i)\"#\"in v[C]||delete i[C];for(C in i)g.elements[C]=r(o,a.config.fillEmptyBlocks);g.root=r(o,false);g.elements.br=function(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=b.attributes;if(\"data-cke-bogus\"in e||\"data-cke-eol\"in\ne)delete e[\"data-cke-bogus\"];else{for(e=b.next;e&&f(e);)e=e.next;var j=c(b);!e&&d(b.parent)?h(b.parent,n(a)):d(e)&&(j&&!d(j))&&n(a).insertBefore(e)}}}}(o);return g}function e(a,b){return a!=CKEDITOR.ENTER_BR&&b!==false?a==CKEDITOR.ENTER_DIV?\"div\":\"p\":false}function b(a){for(a=a.children[a.children.length-1];a&&f(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&f(a);)a=a.previous;return a}function f(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&\na.attributes[\"data-cke-bookmark\"]}function d(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in k||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function h(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;if(c){c.next=b;b.previous=c}}function l(a){a=a.attributes;a.contenteditable!=\"false\"&&(a[\"data-cke-editable\"]=a.contenteditable?\"true\":1);a.contenteditable=\"false\"}function i(a){a=a.attributes;switch(a[\"data-cke-editable\"]){case \"true\":a.contenteditable=\"true\";break;case \"1\":delete a.contenteditable}}\nfunction g(a){return a.replace(D,function(a,b,c){return\"<\"+b+c.replace(J,function(a,b){return z.test(b)&&c.indexOf(\"data-cke-saved-\"+b)==-1?\" data-cke-saved-\"+a+\" data-cke-\"+CKEDITOR.rnd+\"-\"+a:a})+\">\"})}function m(a,b){return a.replace(b,function(a,b,c){a.indexOf(\"<textarea\")===0&&(a=b+y(c).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")+\"</textarea>\");return\"<cke:encoded>\"+encodeURIComponent(a)+\"</cke:encoded>\"})}function t(a){return a.replace(w,function(a,b){return decodeURIComponent(b)})}function s(a){return a.replace(/<\\!--(?!{cke_protected})[\\s\\S]+?--\\>/g,\nfunction(a){return\"<\\!--\"+u+\"{C}\"+encodeURIComponent(a).replace(/--/g,\"%2D%2D\")+\"--\\>\"})}function y(a){return a.replace(/<\\!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)--\\>/g,function(a,b){return decodeURIComponent(b)})}function p(a,b){var c=b._.dataStore;return a.replace(/<\\!--\\{cke_protected\\}([\\s\\S]+?)--\\>/g,function(a,b){return decodeURIComponent(b)}).replace(/\\{cke_protected_(\\d+)\\}/g,function(a,b){return c&&c[b]||\"\"})}function q(a,b){for(var c=[],d=b.config.protectedSource,f=b._.dataStore||(b._.dataStore=\n{id:1}),e=/<\\!--\\{cke_temp(comment)?\\}(\\d*?)--\\>/g,d=[/<script[\\s\\S]*?<\\/script>/gi,/<noscript[\\s\\S]*?<\\/noscript>/gi,/<meta[\\s\\S]*?\\/?>/gi].concat(d),a=a.replace(/<\\!--[\\s\\S]*?--\\>/g,function(a){return\"<\\!--{cke_tempcomment}\"+(c.push(a)-1)+\"--\\>\"}),j=0;j<d.length;j++)a=a.replace(d[j],function(a){a=a.replace(e,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:\"<\\!--{cke_temp}\"+(c.push(a)-1)+\"--\\>\"});a=a.replace(e,function(a,b,d){return\"<\\!--\"+u+(b?\"{C}\":\"\")+encodeURIComponent(c[d]).replace(/--/g,\n\"%2D%2D\")+\"--\\>\"});a=a.replace(/<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=>]+))+\\s*>/g,function(a){return a.replace(/<\\!--\\{cke_protected\\}([^>]*)--\\>/g,function(a,b){f[f.id]=decodeURIComponent(b);return\"{cke_protected_\"+f.id++ +\"}\"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g,function(a,c,d,f){return\"<\"+c+d+\">\"+p(y(f),b)+\"</\"+c+\">\"})}CKEDITOR.htmlDataProcessor=function(b){var c,d,f=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;\nthis.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(n);c.addRules(r,{applyToAll:true});c.addRules(a(b,\"data\"),{applyToAll:true});d.addRules(o);d.addRules(M,{applyToAll:true});d.addRules(a(b,\"html\"),{applyToAll:true});b.on(\"toHtml\",function(a){var a=a.data,c=a.dataValue,d,c=q(c,b),c=m(c,B),c=g(c),c=m(c,L),c=c.replace(H,\"$1cke:$2\"),c=c.replace(A,\"<cke:$1$2></cke:$1>\"),c=c.replace(/(<pre\\b[^>]*>)(\\r\\n|\\n)/g,\"$1$2$2\"),c=c.replace(/([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi,\n\"$1data-cke-\"+CKEDITOR.rnd+\"-$2\");d=a.context||b.editable().getName();var f;if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&d==\"pre\"){d=\"div\";c=\"<pre>\"+c+\"</pre>\";f=1}d=b.document.createElement(d);d.setHtml(\"a\"+c);c=d.getHtml().substr(1);c=c.replace(RegExp(\"data-cke-\"+CKEDITOR.rnd+\"-\",\"ig\"),\"\");f&&(c=c.replace(/^<pre>|<\\/pre>$/gi,\"\"));c=c.replace(C,\"$1$2\");c=t(c);c=y(c);d=a.fixForBody===false?false:e(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);if(d){f=c;\nif(!f.children.length&&CKEDITOR.dtd[f.name][d]){d=new CKEDITOR.htmlParser.element(d);f.add(d)}}a.dataValue=c},null,null,5);b.on(\"toHtml\",function(a){a.data.filter.applyTo(a.data.dataValue,true,a.data.dontFilter,a.data.enterMode)&&b.fire(\"dataFiltered\")},null,null,6);b.on(\"toHtml\",function(a){a.data.dataValue.filterChildren(f.dataFilter,true)},null,null,10);b.on(\"toHtml\",function(a){var a=a.data,b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(true);a.dataValue=\ns(b)},null,null,15);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\\/?>/i,\"\"));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,a.data.context,e(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on(\"toDataFormat\",function(a){a.data.dataValue.filterChildren(f.htmlFilter,true)},null,null,10);b.on(\"toDataFormat\",function(a){a.data.filter.applyTo(a.data.dataValue,false,true)},null,null,11);b.on(\"toDataFormat\",function(a){var c=\na.data.dataValue,d=f.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(true);c=y(c);c=p(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var f=this.editor,e,j,k;if(b&&typeof b==\"object\"){e=b.context;c=b.fixForBody;d=b.dontFilter;j=b.filter;k=b.enterMode}else e=b;!e&&e!==null&&(e=f.editable().getName());return f.fire(\"toHtml\",{dataValue:a,context:e,fixForBody:c,dontFilter:d,filter:j||f.filter,enterMode:k||f.enterMode}).dataValue},toDataFormat:function(a,\nb){var c,d,f;if(b){c=b.context;d=b.filter;f=b.enterMode}!c&&c!==null&&(c=this.editor.editable().getName());return this.editor.fire(\"toDataFormat\",{dataValue:a,filter:d||this.editor.filter,context:c,enterMode:f||this.editor.enterMode}).dataValue}};var j=/(?:&nbsp;|\\xa0)$/,u=\"{cke_protected}\",v=CKEDITOR.dtd,E=[\"caption\",\"colgroup\",\"col\",\"thead\",\"tfoot\",\"tbody\"],k=CKEDITOR.tools.extend({},v.$blockLimit,v.$block),n={elements:{input:l,textarea:l}},r={attributeNames:[[/^on/,\"data-cke-pa-on\"],[/^data-cke-expando$/,\n\"\"]]},o={elements:{embed:function(a){var b=a.parent;if(b&&b.name==\"object\"){var c=b.attributes.width,b=b.attributes.height;if(c)a.attributes.width=c;if(b)a.attributes.height=b}},a:function(a){if(!a.children.length&&!a.attributes.name&&!a.attributes[\"data-cke-saved-name\"])return false}}},M={elementNames:[[/^cke:/,\"\"],[/^\\?xml:namespace$/,\"\"]],attributeNames:[[/^data-cke-(saved|pa)-/,\"\"],[/^data-cke-.*/,\"\"],[\"hidefocus\",\"\"]],elements:{$:function(a){var b=a.attributes;if(b){if(b[\"data-cke-temp\"])return false;\nfor(var c=[\"name\",\"href\",\"src\"],d,f=0;f<c.length;f++){d=\"data-cke-saved-\"+c[f];d in b&&delete b[c[f]]}}return a},table:function(a){a.children.slice(0).sort(function(a,b){var c,d;if(a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type){c=CKEDITOR.tools.indexOf(E,a.name);d=CKEDITOR.tools.indexOf(E,b.name)}if(!(c>-1&&d>-1&&c!=d)){c=a.parent?a.getIndex():-1;d=b.parent?b.getIndex():-1}return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=true;return a},span:function(a){a.attributes[\"class\"]==\"Apple-style-span\"&&\ndelete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes[\"class\"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];if(b&&b.value)b.value=CKEDITOR.tools.trim(b.value);if(!a.attributes.type)a.attributes.type=\"text/css\"},title:function(a){var b=a.children[0];!b&&h(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes[\"data-cke-title\"]||\"\"},input:i,textarea:i},attributes:{\"class\":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\\s+)cke_[^\\s]*/g,\n\"\"))||false}}};if(CKEDITOR.env.ie)M.attributes.style=function(a){return a.replace(/(^|;)([^\\:]+)/g,function(a){return a.toLowerCase()})};var D=/<(a|area|img|input|source)\\b([^>]*)>/gi,J=/([\\w-]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,z=/^(href|src|name)$/i,L=/(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,B=/(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,w=/<cke:encoded>([^<]*)<\\/cke:encoded>/gi,H=/(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,\nC=/(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi,A=/<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi})();\"use strict\";\nCKEDITOR.htmlParser.element=function(a,e){this.name=a;this.attributes=e||{};this.children=[];var b=a||\"\",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!(!CKEDITOR.dtd.$nonBodyContent[b]&&!CKEDITOR.dtd.$block[b]&&!CKEDITOR.dtd.$listItem[b]&&!CKEDITOR.dtd.$tableContent[b]&&!(CKEDITOR.dtd.$nonEditable[b]||b==\"br\"));this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}};\nCKEDITOR.htmlParser.cssStyle=function(a){var e={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||\"\").replace(/&quot;/g,'\"').replace(/\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,c,f){c==\"font-family\"&&(f=f.replace(/[\"']/g,\"\"));e[c.toLowerCase()]=f});return{rules:e,populate:function(a){var c=this.toString();if(c)a instanceof CKEDITOR.dom.element?a.setAttribute(\"style\",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c},toString:function(){var a=[],c;\nfor(c in e)e[c]&&a.push(c,\":\",e[c],\";\");return a.join(\"\")}}};\n(function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&(typeof a==\"string\"?b.name==a:b.name in a)}}var e=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var d=this,e,l,b=d.getFilterContext(b);if(b.off)return true;\nif(!d.parent)a.onRoot(b,d);for(;;){e=d.name;if(!(l=a.onElementName(b,e))){this.remove();return false}d.name=l;if(!(d=a.onElement(b,d))){this.remove();return false}if(d!==this){this.replaceWith(d);return false}if(d.name==e)break;if(d.type!=CKEDITOR.NODE_ELEMENT){this.replaceWith(d);return false}if(!d.name){this.replaceWithChildren();return false}}e=d.attributes;var i,g;for(i in e){g=i;for(l=e[i];;)if(g=a.onAttributeName(b,i))if(g!=i){delete e[i];i=g}else break;else{delete e[i];break}g&&((l=a.onAttribute(b,\nd,g,l))===false?delete e[g]:e[g]=l)}d.isEmpty||this.filterChildren(a,false,b);return true},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var d=this.name,h=[],l=this.attributes,i,g;a.openTag(d,l);for(i in l)h.push([i,l[i]]);a.sortAttributes&&h.sort(e);i=0;for(g=h.length;i<g;i++){l=h[i];a.attribute(l[0],l[1])}a.openTagClose(d,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(d)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=\nthis.children,b=a.length;b;)a[--b].insertAfter(this);this.remove()},forEach:b.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;typeof b!=\"function\"&&(b=a(b));for(var f=0,d=this.children.length;f<d;++f)if(b(this.children[f]))return this.children[f];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){for(var a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children,b=0,\nd=a.length;b<d;++b)a[b].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),d=this.clone(),e=0;e<b.length;++e)b[e].parent=d;d.children=b;if(b[0])b[0].previous=null;if(a>0)this.children[a-1].next=null;this.parent.add(d,this.getIndex()+1);return d},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes[\"class\"]||\"\";this.attributes[\"class\"]=b+(b?\" \":\"\")+\na}},removeClass:function(a){var b=this.attributes[\"class\"];if(b)(b=CKEDITOR.tools.trim(b.replace(RegExp(\"(?:\\\\s+|^)\"+a+\"(?:\\\\s+|$)\"),\" \")))?this.attributes[\"class\"]=b:delete this.attributes[\"class\"]},hasClass:function(a){var b=this.attributes[\"class\"];return!b?false:RegExp(\"(?:^|\\\\s)\"+a+\"(?=\\\\s|$)\").test(b)},getFilterContext:function(a){var b=[];a||(a={off:false,nonEditable:false,nestedEditable:false});!a.off&&this.attributes[\"data-cke-processor\"]==\"off\"&&b.push(\"off\",true);!a.nonEditable&&this.attributes.contenteditable==\n\"false\"?b.push(\"nonEditable\",true):a.nonEditable&&(!a.nestedEditable&&this.attributes.contenteditable==\"true\")&&b.push(\"nestedEditable\",true);if(b.length)for(var a=CKEDITOR.tools.copy(a),d=0;d<b.length;d=d+2)a[b[d]]=b[d+1];return a}},true)})();\n(function(){var a={},e=/{([^}]+)}/g,b=/([\\\\'])/g,c=/\\n/g,f=/\\r/g;CKEDITOR.template=function(d){if(a[d])this.output=a[d];else{var h=d.replace(b,\"\\\\$1\").replace(c,\"\\\\n\").replace(f,\"\\\\r\").replace(e,function(a,b){return\"',data['\"+b+\"']==undefined?'{\"+b+\"}':data['\"+b+\"'],'\"});this.output=a[d]=Function(\"data\",\"buffer\",\"return buffer?buffer.push('\"+h+\"'):['\"+h+\"'].join('');\")}}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);\nCKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on(\"focus\",function(){if(CKEDITOR.currentInstance!=a){CKEDITOR.currentInstance=a;CKEDITOR.fire(\"currentInstance\")}});a.on(\"blur\",function(){if(CKEDITOR.currentInstance==a){CKEDITOR.currentInstance=null;CKEDITOR.fire(\"currentInstance\")}});CKEDITOR.fire(\"instance\",null,a)};CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]};\n(function(){var a={};CKEDITOR.addTemplate=function(e,b){var c=a[e];if(c)return c;c={name:e,source:b};CKEDITOR.fire(\"template\",c);return a[e]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(e){return a[e]}})();(function(){var a=[];CKEDITOR.addCss=function(e){a.push(e)};CKEDITOR.getCss=function(){return a.join(\"\\n\")}})();CKEDITOR.on(\"instanceDestroyed\",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire(\"reset\")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;\nCKEDITOR.TRISTATE_DISABLED=0;\n(function(){CKEDITOR.inline=function(a,e){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var b=new CKEDITOR.editor(e,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is(\"textarea\")?a:null;if(c){b.setData(c.getValue(),null,true);a=CKEDITOR.dom.element.createFromHtml('<div contenteditable=\"'+!!b.readOnly+'\" class=\"cke_textarea_inline\">'+c.getValue()+\"</div>\",CKEDITOR.document);\na.insertAfter(c);c.hide();c.$.form&&b._attachToForm()}else b.setData(a.getHtml(),null,true);b.on(\"loaded\",function(){b.fire(\"uiReady\");b.editable(a);b.container=a;b.setData(b.getData(1));b.resetDirty();b.fire(\"contentDom\");b.mode=\"wysiwyg\";b.fire(\"mode\");b.status=\"ready\";b.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,b)},null,null,1E4);b.on(\"destroy\",function(){if(c){b.container.clearCustomData();b.container.remove();c.show()}b.element.clearCustomData();delete b.element});return b};\nCKEDITOR.inlineAll=function(){var a,e,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),f=0,d=c.count();f<d;f++){a=c.getItem(f);if(a.getAttribute(\"contenteditable\")==\"true\"){e={element:a,config:{}};CKEDITOR.fire(\"inline\",e)!==false&&CKEDITOR.inline(a,e.config)}}};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})})();CKEDITOR.replaceClass=\"ckeditor\";\n(function(){function a(a,f,d,h){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var l=new CKEDITOR.editor(f,a,h);if(h==CKEDITOR.ELEMENT_MODE_REPLACE){a.setStyle(\"visibility\",\"hidden\");l._.required=a.hasAttribute(\"required\");a.removeAttribute(\"required\")}d&&l.setData(d,null,true);l.on(\"loaded\",function(){b(l);h==CKEDITOR.ELEMENT_MODE_REPLACE&&(l.config.autoUpdateElement&&\na.$.form)&&l._attachToForm();l.setMode(l.config.startupMode,function(){l.resetDirty();l.status=\"ready\";l.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,l)})});l.on(\"destroy\",e);return l}function e(){var a=this.container,b=this.element;if(a){a.clearCustomData();a.remove()}if(b){b.clearCustomData();if(this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE){b.show();this._.required&&b.setAttribute(\"required\",\"required\")}delete this.element}}function b(a){var b=a.name,d=a.element,e=a.elementMode,\nl=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,i=a.fire(\"uiSpace\",{space:\"bottom\",html:\"\"}).html,g=new CKEDITOR.template('<{outerEl} id=\"cke_{name}\" class=\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'\"  dir=\"{langDir}\" lang=\"{langCode}\" role=\"application\"'+(a.title?' aria-labelledby=\"cke_{name}_arialbl\"':\"\")+\">\"+(a.title?'<span id=\"cke_{name}_arialbl\" class=\"cke_voice_label\">{voiceLabel}</span>':\"\")+'<{outerEl} class=\"cke_inner cke_reset\" role=\"presentation\">{topHtml}<{outerEl} id=\"{contentId}\" class=\"cke_contents cke_reset\" role=\"presentation\"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),\nb=CKEDITOR.dom.element.createFromHtml(g.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:l?'<span id=\"'+a.ui.spaceId(\"top\")+'\" class=\"cke_top cke_reset_all\" role=\"presentation\" style=\"height:auto\">'+l+\"</span>\":\"\",contentId:a.ui.spaceId(\"contents\"),bottomHtml:i?'<span id=\"'+a.ui.spaceId(\"bottom\")+'\" class=\"cke_bottom cke_reset_all\" role=\"presentation\">'+i+\"</span>\":\"\",outerEl:CKEDITOR.env.ie?\"span\":\"div\"}));if(e==CKEDITOR.ELEMENT_MODE_REPLACE){d.hide();b.insertAfter(d)}else d.append(b);\na.container=b;l&&a.ui.space(\"top\").unselectable();i&&a.ui.space(\"bottom\").unselectable();d=a.config.width;e=a.config.height;d&&b.setStyle(\"width\",CKEDITOR.tools.cssLength(d));e&&a.ui.space(\"contents\").setStyle(\"height\",CKEDITOR.tools.cssLength(e));b.disableContextMenu();CKEDITOR.env.webkit&&b.on(\"focus\",function(){a.focus()});a.fireOnce(\"uiReady\")}CKEDITOR.replace=function(b,f){return a(b,f,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(b,f,d){return a(b,f,d,CKEDITOR.ELEMENT_MODE_APPENDTO)};\nCKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName(\"textarea\"),b=0;b<a.length;b++){var d=null,e=a[b];if(e.name||e.id){if(typeof arguments[0]==\"string\"){if(!RegExp(\"(?:^|\\\\s)\"+arguments[0]+\"(?:$|\\\\s)\").test(e.className))continue}else if(typeof arguments[0]==\"function\"){d={};if(arguments[0](e,d)===false)continue}this.replace(e,d)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var d=this,e=\nthis._.modes;if(!(a==d.mode||!e||!e[a])){d.fire(\"beforeSetMode\",a);if(d.mode){var l=d.checkDirty(),e=d._.previousModeData,i,g=0;d.fire(\"beforeModeUnload\");d.editable(0);d._.previousMode=d.mode;d._.previousModeData=i=d.getData(1);if(d.mode==\"source\"&&e==i){d.fire(\"lockSnapshot\",{forceUpdate:true});g=1}d.ui.space(\"contents\").setHtml(\"\");d.mode=\"\"}else d._.previousModeData=d.getData(1);this._.modes[a](function(){d.mode=a;l!==void 0&&!l&&d.resetDirty();g?d.fire(\"unlockSnapshot\"):a==\"wysiwyg\"&&d.fire(\"saveSnapshot\");\nsetTimeout(function(){d.fire(\"mode\");b&&b.call(d)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,d,e){var l=this.container,i=this.ui.space(\"contents\"),g=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement,e=e?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}):l;e.setSize(\"width\",a,true);g&&(g.style.width=\"1%\");i.setStyle(\"height\",Math.max(b-(d?0:(e.$.offsetHeight||0)-(i.$.clientHeight||0)),0)+\"px\");g&&(g.style.width=\n\"100%\");this.fire(\"resize\")};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space(\"contents\"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode=\"wysiwyg\";\n(function(){function a(a){var b=a.editor,d=a.data.path,f=d.blockLimit,k=a.data.selection,n=k.getRanges()[0],r;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(k=e(k,d)){k.appendBogus();r=CKEDITOR.env.ie}if(h(b,d.block,f)&&n.collapsed&&!n.getCommonAncestor().isReadOnly()){d=n.clone();d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);f=new CKEDITOR.dom.walker(d);f.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()};if(!f.checkForward()||d.checkStartOfBlock()&&\nd.checkEndOfBlock()){b=n.fixBlock(true,b.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\");if(!CKEDITOR.env.needsBrFiller)(b=b.getFirst(c))&&(b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\\xa0)$/))&&b.remove();r=1;a.cancel()}}r&&n.select()}function e(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(d&&d.isBlockBoundary()&&(!e||!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()))&&!d.is(\"pre\")&&!d.getBogus())return d}function b(a){var b=a.data.getTarget();\nif(b.is(\"input\")){b=b.getAttribute(\"type\");(b==\"submit\"||b==\"reset\")&&a.data.preventDefault()}}function c(a){return s(a)&&y(a)}function f(a,b){return function(c){var d=CKEDITOR.dom.element.get(c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget);(!d||!b.equals(d)&&!b.contains(d))&&a.call(this,c)}}function d(a){function b(a){return function(b,e){e&&(b.type==CKEDITOR.NODE_ELEMENT&&b.is(f))&&(d=b);if(!e&&c(b)&&(!a||!m(b)))return false}}var d,e=a.getRanges()[0],a=a.root,f={table:1,ul:1,ol:1,\ndl:1};if(e.startPath().contains(f)){var n=e.clone();n.collapse(1);n.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(n);a.guard=b();a.checkBackward();if(d){n=e.clone();n.collapse();n.setEndAt(d,CKEDITOR.POSITION_AFTER_END);a=new CKEDITOR.dom.walker(n);a.guard=b(true);d=false;a.checkForward();return d}}return null}function h(a,b,c){return a.config.autoParagraph!==false&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&a.editable().equals(c)&&!b||b&&b.getAttribute(\"contenteditable\")==\"true\"}\nfunction l(a){a.editor.focus();a.editor.fire(\"saveSnapshot\")}function i(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire(\"saveSnapshot\")},0)}function g(a,b,c){for(var d=a.getCommonAncestor(b),b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&a.getChildCount()==1;)b=a;b.remove()}CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status=\"unloaded\";this.hasFocus=false;this.setup()},proto:{focus:function(){var a;\nif(CKEDITOR.env.webkit&&!this.hasFocus){a=this.editor._.previousActive||this.getDocument().getActive();if(this.contains(a)){a.focus();return}}try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?\"setActive\":\"focus\"]()}catch(b){if(!CKEDITOR.env.ie)throw b;}if(CKEDITOR.env.safari&&!this.isInline()){a=CKEDITOR.document.getActive();a.equals(this.getWindow().getFrame())||this.getWindow().focus()}},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);if(CKEDITOR.env.ie&&/^focus|blur$/.exec(a)){a=\na==\"focus\"?\"focusin\":\"focusout\";b=f(b,this);c[0]=a;c[1]=b}return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b!==null?this.setAttribute(c,\nb):this.removeAttribute(c)}},attachClass:function(a){var b=this.getCustomData(\"classes\");if(!this.hasClass(a)){!b&&(b=[]);b.push(a);this.setCustomData(\"classes\",b);this.addClass(a)}},changeAttr:function(a,b){var c=this.getAttribute(a);if(b!==c){!this._.attrChanges&&(this._.attrChanges={});a in this._.attrChanges||(this._.attrChanges[a]=c);this.setAttribute(a,b)}},insertHtml:function(a,b){l(this);p(this,b||\"html\",a)},insertText:function(a){l(this);var b=this.editor,c=b.getSelection().getStartElement().hasAscendant(\"pre\",\ntrue)?CKEDITOR.ENTER_BR:b.activeEnterMode,b=c==CKEDITOR.ENTER_BR,d=CKEDITOR.tools,a=d.htmlEncode(a.replace(/\\r\\n/g,\"\\n\")),a=a.replace(/\\t/g,\"&nbsp;&nbsp; &nbsp;\"),c=c==CKEDITOR.ENTER_P?\"p\":\"div\";if(!b){var e=/\\n{2}/g;if(e.test(a))var f=\"<\"+c+\">\",r=\"</\"+c+\">\",a=f+a.replace(e,function(){return r+f})+r}a=a.replace(/\\n/g,\"<br>\");b||(a=a.replace(RegExp(\"<br>(?=</\"+c+\">)\"),function(a){return d.repeat(a,2)}));a=a.replace(/^ | $/g,\"&nbsp;\");a=a.replace(/(>|\\s) /g,function(a,b){return b+\"&nbsp;\"}).replace(/ (?=<)/g,\n\"&nbsp;\");p(this,\"text\",a)},insertElement:function(a,b){b?this.insertElementIntoRange(a,b):this.insertElementIntoSelection(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,e=a.getName(),f=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return false;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&q(b);var r,g;if(f)for(;(r=b.getCommonAncestor(0,1))&&(g=CKEDITOR.dtd[r.getName()])&&(!g||!g[e]);)if(r.getName()in\nCKEDITOR.dtd.span)b.splitElement(r);else if(b.checkStartOfBlock()&&b.checkEndOfBlock()){b.setStartBefore(r);b.collapse(true);r.remove()}else b.splitBlock(d==CKEDITOR.ENTER_DIV?\"div\":\"p\",c.editable());b.insertNode(a);return true},insertElementIntoSelection:function(a){l(this);var b=this.editor,d=b.activeEnterMode,b=b.getSelection(),e=b.getRanges()[0],f=a.getName(),f=CKEDITOR.dtd.$block[f];if(this.insertElementIntoRange(a,e)){e.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);if(f)if((f=a.getNext(function(a){return c(a)&&\n!m(a)}))&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$block))f.getDtd()[\"#\"]?e.moveToElementEditStart(f):e.moveToElementEditEnd(a);else if(!f&&d!=CKEDITOR.ENTER_BR){f=e.fixBlock(true,d==CKEDITOR.ENTER_DIV?\"div\":\"p\");e.moveToElementEditStart(f)}}b.selectRanges([e]);i(this)},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();if(this.status==\"unloaded\")this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(a){var b=this.getHtml();\na||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute(\"contenteditable\",!a)},detach:function(){this.removeClass(\"cke_editable\");this.status=\"detached\";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;if(d.anchorNode&&d.anchorNode==c.$)e=true;else if(CKEDITOR.env.webkit){var f=\nc.getDocument().getActive();f&&(f.equals(c)&&!d.anchorNode)&&(e=true)}if(e){e=new CKEDITOR.dom.range(c);e.moveToElementEditStart(c);b=b.createRange();b.setStart(e.startContainer.$,e.startOffset);b.collapse(true);d.removeAllRanges();d.addRange(b)}}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();if(d.type==\"None\"&&e.equals(c)){d=new CKEDITOR.dom.range(c);a=a.body.createTextRange();d.moveToElementEditStart(c);d=d.startContainer;d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent());\na.moveToElementText(d.$);a.collapse(true);a.select()}}var c=this;if(CKEDITOR.env.ie&&CKEDITOR.env.version<9){if(this.hasFocus){this.focus();b()}}else if(this.hasFocus){this.focus();a()}else this.once(\"focus\",function(){a()},null,null,-999)},setup:function(){var a=this.editor;this.attachListener(a,\"beforeGetData\",function(){var b=this.getData();this.is(\"textarea\")||a.config.ignoreEmptyParagraph!==false&&(b=b.replace(t,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,\"getSnapshot\",\nfunction(a){a.data=this.getData(1)},this);this.attachListener(a,\"afterSetData\",function(){this.setData(a.getData(1))},this);this.attachListener(a,\"loadSnapshot\",function(a){this.setData(a.data,1)},this);this.attachListener(a,\"beforeFocus\",function(){var b=a.getSelection();(b=b&&b.getNative())&&b.type==\"Control\"||this.focus()},this);this.attachListener(a,\"insertHtml\",function(a){this.insertHtml(a.data.dataValue,a.data.mode)},this);this.attachListener(a,\"insertElement\",function(a){this.insertElement(a.data)},\nthis);this.attachListener(a,\"insertText\",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass(\"cke_editable\");this.attachClass(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"cke_editable_inline\":a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||a.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO?\"cke_editable_themed\":\"\");this.attachClass(\"cke_contents_\"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on(\"blur\",\nfunction(){this.hasFocus=false},null,null,-1);this.on(\"focus\",function(){this.hasFocus=true},null,null,-1);a.focusManager.add(this);if(this.equals(CKEDITOR.document.getActive())){this.hasFocus=true;a.once(\"contentDom\",function(){a.focusManager.focus(this)},this)}this.isInline()&&this.changeAttr(\"tabindex\",a.tabIndex);if(!this.is(\"textarea\")){a.document=this.getDocument();a.window=this.getWindow();var e=a.document;this.changeAttr(\"spellcheck\",!a.config.disableNativeSpellChecker);var f=a.config.contentsLangDirection;\nthis.getDirection(1)!=f&&this.changeAttr(\"dir\",f);var h=CKEDITOR.getCss();if(h){f=e.getHead();if(!f.getCustomData(\"stylesheet\")){h=e.appendStyleText(h);h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement);f.setCustomData(\"stylesheet\",h);h.data(\"cke-temp\",1)}}f=e.getCustomData(\"stylesheet_ref\")||0;e.setCustomData(\"stylesheet_ref\",f+1);this.setCustomData(\"cke_includeReadonly\",!a.config.disableReadonlyStyling);this.attachListener(this,\"click\",function(a){var a=a.data,b=(new CKEDITOR.dom.elementPath(a.getTarget(),\nthis)).contains(\"a\");b&&(a.$.button!=2&&b.isReadOnly())&&a.preventDefault()});var k={8:1,46:1};this.attachListener(a,\"key\",function(b){if(a.readOnly)return true;var c=b.data.domEvent.getKey(),e;if(c in k){var b=a.getSelection(),f,g=b.getRanges()[0],h=g.startPath(),i,m,l,c=c==8;if(CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(f=b.getSelectedElement())||(f=d(b))){a.fire(\"saveSnapshot\");g.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove();g.select();a.fire(\"saveSnapshot\");e=1}else if(g.collapsed)if((i=\nh.block)&&(l=i[c?\"getPrevious\":\"getNext\"](s))&&l.type==CKEDITOR.NODE_ELEMENT&&l.is(\"table\")&&g[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()){a.fire(\"saveSnapshot\");g[c?\"checkEndOfBlock\":\"checkStartOfBlock\"]()&&i.remove();g[\"moveToElementEdit\"+(c?\"End\":\"Start\")](l);g.select();a.fire(\"saveSnapshot\");e=1}else if(h.blockLimit&&h.blockLimit.is(\"td\")&&(m=h.blockLimit.getAscendant(\"table\"))&&g.checkBoundaryOfElement(m,c?CKEDITOR.START:CKEDITOR.END)&&(l=m[c?\"getPrevious\":\"getNext\"](s))){a.fire(\"saveSnapshot\");\ng[\"moveToElementEdit\"+(c?\"End\":\"Start\")](l);g.checkStartOfBlock()&&g.checkEndOfBlock()?l.remove():g.select();a.fire(\"saveSnapshot\");e=1}else if((m=h.contains([\"td\",\"th\",\"caption\"]))&&g.checkBoundaryOfElement(m,c?CKEDITOR.START:CKEDITOR.END))e=1}return!e});a.blockless&&(CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&this.attachListener(this,\"keyup\",function(b){if(b.data.getKeystroke()in k&&!this.getFirst(c)){this.appendBogus();b=a.createRange();b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START);b.select()}});\nthis.attachListener(this,\"dblclick\",function(b){if(a.readOnly)return false;b={element:b.data.getTarget()};a.fire(\"doubleclick\",b)});CKEDITOR.env.ie&&this.attachListener(this,\"click\",b);CKEDITOR.env.ie||this.attachListener(this,\"mousedown\",function(b){var c=b.data.getTarget();if(c.is(\"img\",\"hr\",\"input\",\"textarea\",\"select\")&&!c.isReadOnly()){a.getSelection().selectElement(c);c.is(\"input\",\"textarea\",\"select\")&&b.data.preventDefault()}});CKEDITOR.env.gecko&&this.attachListener(this,\"mouseup\",function(b){if(b.data.$.button==\n2){b=b.data.getTarget();if(!b.getOuterHtml().replace(t,\"\")){var c=a.createRange();c.moveToElementEditStart(b);c.select(true)}}});if(CKEDITOR.env.webkit){this.attachListener(this,\"click\",function(a){a.data.getTarget().is(\"input\",\"select\")&&a.data.preventDefault()});this.attachListener(this,\"mouseup\",function(a){a.data.getTarget().is(\"input\",\"textarea\")&&a.data.preventDefault()})}CKEDITOR.env.webkit&&this.attachListener(a,\"key\",function(b){b=b.data.domEvent.getKey();if(b in k){var c=b==8,d=a.getSelection().getRanges()[0],\nb=d.startPath();if(d.collapsed){var e;a:{var f=b.block;if(f)if(d[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]())if(!d.moveToClosestEditablePosition(f,!c)||!d.collapsed)e=false;else{if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var h=d.startContainer.getChild(d.startOffset-(c?1:0));if(h&&h.type==CKEDITOR.NODE_ELEMENT&&h.is(\"hr\")){a.fire(\"saveSnapshot\");h.remove();e=true;break a}}if((d=d.startPath().block)&&(!d||!d.contains(f))){a.fire(\"saveSnapshot\");var i;(i=(c?d:f).getBogus())&&i.remove();e=a.getSelection();\ni=e.createBookmarks();(c?f:d).moveChildren(c?d:f,false);b.lastElement.mergeSiblings();g(f,d,!c);e.selectBookmarks(i);e=true}}else e=false;else e=false}if(!e)return}else{c=d;e=b.block;i=c.endPath().block;if(!e||!i||e.equals(i))b=false;else{a.fire(\"saveSnapshot\");(f=e.getBogus())&&f.remove();c.deleteContents();if(i.getParent()){i.moveChildren(e,false);b.lastElement.mergeSiblings();g(e,i,true)}c=a.getSelection().getRanges()[0];c.collapse(1);c.select();b=true}if(!b)return}a.getSelection().scrollIntoView();\na.fire(\"saveSnapshot\");return false}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData(\"classes\"))for(;a.length;)this.removeClass(a.pop());if(!this.is(\"textarea\")){a=this.getDocument();var b=a.getHead();if(b.getCustomData(\"stylesheet\")){var c=a.getCustomData(\"stylesheet_ref\");if(--c)a.setCustomData(\"stylesheet_ref\",c);else{a.removeCustomData(\"stylesheet_ref\");b.removeCustomData(\"stylesheet\").remove()}}}this.editor.fire(\"contentDomUnload\");\ndelete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;if(arguments.length)b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null);return b};var m=CKEDITOR.dom.walker.bogus(),t=/(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi,s=CKEDITOR.dom.walker.whitespaces(true),y=CKEDITOR.dom.walker.bookmark(false,true);CKEDITOR.on(\"instanceLoaded\",\nfunction(b){var c=b.editor;c.on(\"insertElement\",function(a){a=a.data;if(a.type==CKEDITOR.NODE_ELEMENT&&(a.is(\"input\")||a.is(\"textarea\"))){a.getAttribute(\"contentEditable\")!=\"false\"&&a.data(\"cke-editable\",a.hasAttribute(\"contenteditable\")?\"true\":\"1\");a.setAttribute(\"contentEditable\",false)}});c.on(\"selectionChange\",function(b){if(!c.readOnly){var d=c.getSelection();if(d&&!d.isLocked){d=c.checkDirty();c.fire(\"lockSnapshot\");a(b);c.fire(\"unlockSnapshot\");!d&&c.resetDirty()}}})});CKEDITOR.on(\"instanceCreated\",\nfunction(a){var b=a.editor;b.on(\"mode\",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr(\"role\",\"textbox\");a.changeAttr(\"aria-label\",c);c&&a.changeAttr(\"title\",c);var d=b.fire(\"ariaEditorHelpLabel\",{}).label;if(d)if(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"top\":\"contents\")){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('<span id=\"'+e+'\" class=\"cke_voice_label\">'+d+\"</span>\");c.append(d);a.changeAttr(\"aria-describedby\",e)}}})});\nCKEDITOR.addCss(\".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}\");var p=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,f,k,n,h=[],i=d.range.startContainer;e=d.range.startPath();for(var i=g[i.getName()],o=0,l=c.getChildren(),m=l.count(),D=-1,p=-1,M=0,s=e.contains(g.$list);o<m;++o){e=l.getItem(o);if(a(e)){k=e.getName();if(s&&k in CKEDITOR.dtd.$list)h=h.concat(b(e,d));else{n=!!i[k];if(k==\"br\"&&e.data(\"cke-eol\")&&\n(!o||o==m-1)){M=(f=o?h[o-1].node:l.getItem(o+1))&&(!a(f)||!f.is(\"br\"));f=f&&a(f)&&g.$block[f.getName()]}D==-1&&!n&&(D=o);n||(p=o);h.push({isElement:1,isLineBreak:M,isBlock:e.isBlockBoundary(),hasBlockSibling:f,node:e,name:k,allowed:n});f=M=0}}else h.push({isElement:0,node:e,allowed:1})}if(D>-1)h[D].firstNotAllowed=1;if(p>-1)h[p].lastNotAllowed=1;return h}function d(b,c){var e=[],f=b.getChildren(),k=f.count(),n,h=0,i=g[c],o=!b.is(g.$inline)||b.is(\"br\");for(o&&e.push(\" \");h<k;h++){n=f.getItem(h);a(n)&&\n!n.is(i)?e=e.concat(d(n,c)):e.push(n)}o&&e.push(\" \");return e}function e(b){return b&&a(b)&&(b.is(g.$removeEmpty)||b.is(\"a\")&&!b.isBlockBoundary())}function f(b,c,d,e){var n=b.clone(),g,h;n.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);if((g=(new CKEDITOR.dom.walker(n)).next())&&a(g)&&o[g.getName()]&&(h=g.getPrevious())&&a(h)&&!h.getParent().equals(b.startContainer)&&d.contains(h)&&e.contains(g)&&g.isIdentical(h)){g.moveChildren(h);g.remove();f(b,c,d,e)}}function n(b,c){function d(b,c){if(c.isBlock&&c.isElement&&\n!c.node.is(\"br\")&&a(b)&&b.is(\"br\")){b.remove();return 1}}var e=c.endContainer.getChild(c.endOffset),f=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);if(f&&d(f,b[0])){c.setEnd(c.endContainer,c.endOffset-1);c.collapse()}}var g=CKEDITOR.dtd,o={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},l={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},m=CKEDITOR.tools.extend({},g.$inline);delete m.br;return function(o,z,p){var B=o.editor,w=B.getSelection().getRanges()[0],\nH=false;if(z==\"unfiltered_html\"){z=\"html\";H=true}if(!w.checkReadOnly()){var C=(new CKEDITOR.dom.elementPath(w.startContainer,w.root)).blockLimit||w.root,z={type:z,dontFilter:H,editable:o,editor:B,range:w,blockLimit:C,mergeCandidates:[],zombies:[]},B=z.range,H=z.mergeCandidates,A,x,F,G;if(z.type==\"text\"&&B.shrink(CKEDITOR.SHRINK_ELEMENT,true,false)){A=CKEDITOR.dom.element.createFromHtml(\"<span>&nbsp;</span>\",B.document);B.insertNode(A);B.setStartAfter(A)}x=new CKEDITOR.dom.elementPath(B.startContainer);\nz.endPath=F=new CKEDITOR.dom.elementPath(B.endContainer);if(!B.collapsed){var C=F.block||F.blockLimit,s=B.getCommonAncestor();C&&(!C.equals(s)&&!C.contains(s)&&B.checkEndOfBlock())&&z.zombies.push(C);B.deleteContents()}for(;(G=a(B.startContainer)&&B.startContainer.getChild(B.startOffset-1))&&a(G)&&G.isBlockBoundary()&&x.contains(G);)B.moveToPosition(G,CKEDITOR.POSITION_BEFORE_END);f(B,z.blockLimit,x,F);if(A){B.setEndBefore(A);B.collapse();A.remove()}A=B.startPath();if(C=A.contains(e,false,1)){B.splitElement(C);\nz.inlineStylesRoot=C;z.inlineStylesPeak=A.lastElement}A=B.createBookmark();(C=A.startNode.getPrevious(c))&&a(C)&&e(C)&&H.push(C);(C=A.startNode.getNext(c))&&a(C)&&e(C)&&H.push(C);for(C=A.startNode;(C=C.getParent())&&e(C);)H.push(C);B.moveToBookmark(A);if(A=p){A=z.range;if(z.type==\"text\"&&z.inlineStylesRoot){G=z.inlineStylesPeak;B=G.getDocument().createText(\"{cke-peak}\");for(H=z.inlineStylesRoot.getParent();!G.equals(H);){B=B.appendTo(G.clone());G=G.getParent()}p=B.getOuterHtml().split(\"{cke-peak}\").join(p)}G=\nz.blockLimit.getName();if(/^\\s+|\\s+$/.test(p)&&\"span\"in CKEDITOR.dtd[G])var y='<span data-cke-marker=\"1\">&nbsp;</span>',p=y+p+y;p=z.editor.dataProcessor.toHtml(p,{context:null,fixForBody:false,dontFilter:z.dontFilter,filter:z.editor.activeFilter,enterMode:z.editor.activeEnterMode});G=A.document.createElement(\"body\");G.setHtml(p);if(y){G.getFirst().remove();G.getLast().remove()}if((y=A.startPath().block)&&!(y.getChildCount()==1&&y.getBogus()))a:{var t;if(G.getChildCount()==1&&a(t=G.getFirst())&&t.is(l)){y=\nt.getElementsByTag(\"*\");A=0;for(H=y.count();A<H;A++){B=y.getItem(A);if(!B.is(m))break a}t.moveChildren(t.getParent(1));t.remove()}}z.dataWrapper=G;A=p}if(A){t=z.range;var y=t.document,q,p=z.blockLimit;A=0;var K;G=[];var I,Q,H=B=0,N,S;x=t.startContainer;var C=z.endPath.elements[0],T;F=C.getPosition(x);s=!!C.getCommonAncestor(x)&&F!=CKEDITOR.POSITION_IDENTICAL&&!(F&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);x=b(z.dataWrapper,z);for(n(x,t);A<x.length;A++){F=x[A];if(q=F.isLineBreak){q=\nt;N=p;var P=void 0,V=void 0;if(F.hasBlockSibling)q=1;else{P=q.startContainer.getAscendant(g.$block,1);if(!P||!P.is({div:1,p:1}))q=0;else{V=P.getPosition(N);if(V==CKEDITOR.POSITION_IDENTICAL||V==CKEDITOR.POSITION_CONTAINS)q=0;else{N=q.splitElement(P);q.moveToPosition(N,CKEDITOR.POSITION_AFTER_START);q=1}}}}if(q)H=A>0;else{q=t.startPath();if(!F.isBlock&&h(z.editor,q.block,q.blockLimit)&&(Q=z.editor.activeEnterMode!=CKEDITOR.ENTER_BR&&z.editor.config.autoParagraph!==false?z.editor.activeEnterMode==CKEDITOR.ENTER_DIV?\n\"div\":\"p\":false)){Q=y.createElement(Q);Q.appendBogus();t.insertNode(Q);CKEDITOR.env.needsBrFiller&&(K=Q.getBogus())&&K.remove();t.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END)}if((q=t.startPath().block)&&!q.equals(I)){if(K=q.getBogus()){K.remove();G.push(q)}I=q}F.firstNotAllowed&&(B=1);if(B&&F.isElement){q=t.startContainer;for(N=null;q&&!g[q.getName()][F.name];){if(q.equals(p)){q=null;break}N=q;q=q.getParent()}if(q){if(N){S=t.splitElement(N);z.zombies.push(S);z.zombies.push(N)}}else{N=p.getName();\nT=!A;q=A==x.length-1;N=d(F.node,N);for(var P=[],V=N.length,W=0,Y=void 0,Z=0,U=-1;W<V;W++){Y=N[W];if(Y==\" \"){if(!Z&&(!T||W)){P.push(new CKEDITOR.dom.text(\" \"));U=P.length}Z=1}else{P.push(Y);Z=0}}q&&U==P.length&&P.pop();T=P}}if(T){for(;q=T.pop();)t.insertNode(q);T=0}else t.insertNode(F.node);if(F.lastNotAllowed&&A<x.length-1){(S=s?C:S)&&t.setEndAt(S,CKEDITOR.POSITION_AFTER_START);B=0}t.collapse()}}z.dontMoveCaret=H;z.bogusNeededBlocks=G}K=z.range;var O;S=z.bogusNeededBlocks;for(T=K.createBookmark();I=\nz.zombies.pop();)if(I.getParent()){Q=K.clone();Q.moveToElementEditStart(I);Q.removeEmptyBlocksAtEnd()}if(S)for(;I=S.pop();)CKEDITOR.env.needsBrFiller?I.appendBogus():I.append(K.document.createText(\"\"));for(;I=z.mergeCandidates.pop();)I.mergeSiblings();K.moveToBookmark(T);if(!z.dontMoveCaret){for(I=a(K.startContainer)&&K.startContainer.getChild(K.startOffset-1);I&&a(I)&&!I.is(g.$empty);){if(I.isBlockBoundary())K.moveToPosition(I,CKEDITOR.POSITION_BEFORE_END);else{if(e(I)&&I.getHtml().match(/(\\s|&nbsp;)$/g)){O=\nnull;break}O=K.clone();O.moveToPosition(I,CKEDITOR.POSITION_BEFORE_END)}I=I.getLast(c)}O&&K.moveToRange(O)}w.select();i(o)}}}(),q=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return false;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),d;for(b;b-- >0;){d=a.getItem(b);\nif(!CKEDITOR.tools.trim(d.getHtml())){d.appendBogus();CKEDITOR.env.ie&&(CKEDITOR.env.version<9&&d.getChildCount())&&d.getFirst().remove()}}}return function(d){var e=d.startContainer,f=e.getAscendant(\"table\",1),g=false;c(f.getElementsByTag(\"td\"));c(f.getElementsByTag(\"th\"));f=d.clone();f.setStart(e,0);f=a(f).lastBackward();if(!f){f=d.clone();f.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);f=a(f).lastForward();g=true}f||(f=e);if(f.is(\"table\")){d.setStartAt(f,CKEDITOR.POSITION_BEFORE_START);d.collapse(true);\nf.remove()}else{f.is({tbody:1,thead:1,tfoot:1})&&(f=b(f,\"tr\",g));f.is(\"tr\")&&(f=b(f,f.getParent().is(\"thead\")?\"th\":\"td\",g));(e=f.getBogus())&&e.remove();d.moveToPosition(f,g?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END)}}}()})();\n(function(){function a(){var a=this._.fakeSelection,b;if(a){b=this.getSelection(1);if(!b||!b.isHidden()){a.reset();a=0}}if(!a){a=b||this.getSelection(1);if(!a||a.getType()==CKEDITOR.SELECTION_NONE)return}this.fire(\"selectionCheck\",a);b=this.elementPath();if(!b.compare(this._.selectionPreviousPath)){if(CKEDITOR.env.webkit)this._.previousActive=this.document.getActive();this._.selectionPreviousPath=b;this.fire(\"selectionChange\",{selection:a,path:b})}}function e(){p=true;if(!y){b.call(this);y=CKEDITOR.tools.setTimeout(b,\n200,this)}}function b(){y=null;if(p){CKEDITOR.tools.setTimeout(a,0,this);p=false}}function c(a){return q(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?true:false}function f(a){function b(c,d){return!c||c.type==CKEDITOR.NODE_TEXT?false:a.clone()[\"moveToElementEdit\"+(d?\"End\":\"Start\")](c)}if(!(a.root instanceof CKEDITOR.editable))return false;var d=a.startContainer,e=a.getPreviousNode(c,null,d),f=a.getNextNode(c,null,d);return b(e)||b(f,1)||!e&&!f&&!(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()&&\nd.getBogus())?true:false}function d(a){return a.getCustomData(\"cke-fillingChar\")}function h(a,b){var c=a&&a.removeCustomData(\"cke-fillingChar\");if(c){if(b!==false){var d,e=a.getDocument().getSelection().getNative(),f=e&&e.type!=\"None\"&&e.getRangeAt(0);if(c.getLength()>1&&f&&f.intersectsNode(c.$)){d=i(e);f=e.focusNode==c.$&&e.focusOffset>0;e.anchorNode==c.$&&e.anchorOffset>0&&d[0].offset--;f&&d[1].offset--}}c.setText(l(c.getText()));d&&g(a.getDocument().$,d)}}function l(a){return a.replace(/\\u200B( )?/g,\nfunction(a){return a[1]?\"\":\"\"})}function i(a){return[{node:a.anchorNode,offset:a.anchorOffset},{node:a.focusNode,offset:a.focusOffset}]}function g(a,b){var c=a.getSelection(),d=a.createRange();d.setStart(b[0].node,b[0].offset);d.collapse(true);c.removeAllRanges();c.addRange(d);c.extend(b[1].node,b[1].offset)}function m(a){var b=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel=\"1\" data-cke-temp=\"1\" style=\"'+(CKEDITOR.env.ie?\"display:none\":\"position:fixed;top:0;left:-1000px\")+'\">&nbsp;</div>',\na.document);a.fire(\"lockSnapshot\");a.editable().append(b);var c=a.getSelection(1),d=a.createRange(),e=c.root.on(\"selectionchange\",function(a){a.cancel()},null,null,0);d.setStartAt(b,CKEDITOR.POSITION_AFTER_START);d.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);c.selectRanges([d]);e.removeListener();a.fire(\"unlockSnapshot\");a._.hiddenSelectionContainer=b}function t(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),f=e[0];if(e.length==\n1&&f.collapsed)if((d=f[d<38?\"getPreviousEditableNode\":\"getNextEditableNode\"]())&&d.type==CKEDITOR.NODE_ELEMENT&&d.getAttribute(\"contenteditable\")==\"false\"){a.getSelection().fake(d);c.data.preventDefault();c.cancel()}}}}function s(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d;){if((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is(\"body\")||!d.isReadOnly())break;e&&d.getAttribute(\"contentEditable\")==\n\"false\"&&c.setStartAfter(d);d=d.getParent()}d=c.startContainer;e=c.endContainer;var f=c.startOffset,g=c.endOffset,h=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(f>=d.getLength()?h.setStartAfter(d):h.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(g?h.setEndAfter(e):h.setEndBefore(e));d=new CKEDITOR.dom.walker(h);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);if(!(d.getPosition(h.endContainer)&CKEDITOR.POSITION_CONTAINS)){e.setStartAfter(d);\ne.collapsed||a.splice(b+1,0,e)}return true}return false};d.next()}}return a}var y,p,q=CKEDITOR.dom.walker.invisible(1),j=function(){function a(b){return function(a){var c=a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return false}}function b(a){return function(b){var c=b.editor,d=c.createRange(),e;if(!(e=d.moveToClosestEditablePosition(b.selected,a)))e=d.moveToClosestEditablePosition(b.selected,!a);e&&c.getSelection().selectRanges([d]);\nc.fire(\"saveSnapshot\");b.selected.remove();if(!e){d.moveToElementEditablePosition(c.editable());c.getSelection().selectRanges([d])}c.fire(\"saveSnapshot\");return false}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on(\"instanceCreated\",function(b){function c(){var a=d.getSelection();a&&a.removeAllRanges()}var d=b.editor;d.on(\"contentDom\",function(){function b(){C=new CKEDITOR.dom.selection(d.getSelection());C.lock()}function c(){g.removeListener(\"mouseup\",c);n.removeListener(\"mouseup\",\nc);var a=CKEDITOR.document.$.selection,b=a.createRange();a.type!=\"None\"&&b.parentElement().ownerDocument==f.$&&b.select()}var f=d.document,g=CKEDITOR.document,k=d.editable(),i=f.getBody(),n=f.getDocumentElement(),w=k.isInline(),j,C;CKEDITOR.env.gecko&&k.attachListener(k,\"focus\",function(a){a.removeListener();if(j!==0)if((a=d.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==k.$){a=d.createRange();a.moveToElementEditStart(k);a.select()}},null,null,-2);k.attachListener(k,CKEDITOR.env.webkit?\n\"DOMFocusIn\":\"focus\",function(){j&&CKEDITOR.env.webkit&&(j=d._.previousActive&&d._.previousActive.equals(f.getActive()));d.unlockSelection(j);j=0},null,null,-1);k.attachListener(k,\"mousedown\",function(){j=0});if(CKEDITOR.env.ie||w){u?k.attachListener(k,\"beforedeactivate\",b,null,null,-1):k.attachListener(d,\"selectionCheck\",b,null,null,-1);k.attachListener(k,CKEDITOR.env.webkit?\"DOMFocusOut\":\"blur\",function(){d.lockSelection(C);j=1},null,null,-1);k.attachListener(k,\"mousedown\",function(){j=0})}if(CKEDITOR.env.ie&&\n!w){var A;k.attachListener(k,\"mousedown\",function(a){if(a.data.$.button==2){a=d.document.getSelection();if(!a||a.getType()==CKEDITOR.SELECTION_NONE)A=d.window.getScrollPosition()}});k.attachListener(k,\"mouseup\",function(a){if(a.data.$.button==2&&A){d.document.$.documentElement.scrollLeft=A.x;d.document.$.documentElement.scrollTop=A.y}A=null});if(f.$.compatMode!=\"BackCompat\"){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)n.on(\"mousedown\",function(a){function b(a){a=a.data.$;if(d){var c=i.$.createTextRange();\ntry{c.moveToPoint(a.clientX,a.clientY)}catch(e){}d.setEndPoint(f.compareEndPoints(\"StartToStart\",c)<0?\"EndToEnd\":\"StartToStart\",c);d.select()}}function c(){n.removeListener(\"mousemove\",b);g.removeListener(\"mouseup\",c);n.removeListener(\"mouseup\",c);d.select()}a=a.data;if(a.getTarget().is(\"html\")&&a.$.y<n.$.clientHeight&&a.$.x<n.$.clientWidth){var d=i.$.createTextRange();try{d.moveToPoint(a.$.clientX,a.$.clientY)}catch(e){}var f=d.duplicate();n.on(\"mousemove\",b);g.on(\"mouseup\",c);n.on(\"mouseup\",c)}});\nif(CKEDITOR.env.version>7&&CKEDITOR.env.version<11)n.on(\"mousedown\",function(a){if(a.data.getTarget().is(\"html\")){g.on(\"mouseup\",c);n.on(\"mouseup\",c)}})}}k.attachListener(k,\"selectionchange\",a,d);k.attachListener(k,\"keyup\",e,d);k.attachListener(k,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){d.forceNextSelectionCheck();d.selectionChange(1)});if(w&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var x;k.attachListener(k,\"mousedown\",function(){x=1});k.attachListener(f.getDocumentElement(),\"mouseup\",\nfunction(){x&&e.call(d);x=0})}else k.attachListener(CKEDITOR.env.ie?k:f.getDocumentElement(),\"mouseup\",e,d);CKEDITOR.env.webkit&&k.attachListener(f,\"keydown\",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:h(k)}},null,null,-1);k.attachListener(k,\"keydown\",t(d),null,null,-1)});d.on(\"setData\",function(){d.unlockSelection();CKEDITOR.env.webkit&&c()});d.on(\"contentDomUnload\",function(){d.unlockSelection()});if(CKEDITOR.env.ie9Compat)d.on(\"beforeDestroy\",\nc,null,null,9);d.on(\"dataReady\",function(){delete d._.fakeSelection;delete d._.hiddenSelectionContainer;d.selectionChange(1)});d.on(\"loadSnapshot\",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=d.editable().getLast(a);if(b&&b.hasAttribute(\"data-cke-hidden-sel\")){b.remove();if(CKEDITOR.env.gecko)(a=d.editable().getFirst(a))&&(a.is(\"br\")&&a.getAttribute(\"_moz_editor_bogus_node\"))&&a.remove()}},null,null,100);d.on(\"key\",function(a){if(d.mode==\"wysiwyg\"){var b=d.getSelection();\nif(b.isFake){var c=j[a.data.keyCode];if(c)return c({editor:d,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});CKEDITOR.on(\"instanceReady\",function(a){function b(){var a=e.editable();if(a)if(a=d(a)){var c=e.document.$.getSelection();if(c.type!=\"None\"&&(c.anchorNode==a.$||c.focusNode==a.$))j=i(c);f=a.getText();a.setText(l(f))}}function c(){var a=e.editable();if(a)if(a=d(a)){a.setText(f);if(j){g(e.document.$,j);j=null}}}var e=a.editor,f,j;if(CKEDITOR.env.webkit){e.on(\"selectionChange\",\nfunction(){var a=e.editable(),b=d(a);b&&(b.getCustomData(\"ready\")?h(a):b.setCustomData(\"ready\",1))},null,null,-1);e.on(\"beforeSetMode\",function(){h(e.editable())},null,null,-1);e.on(\"beforeUndoImage\",b);e.on(\"afterUndoImage\",c);e.on(\"beforeGetData\",b,null,null,0);e.on(\"getData\",c)}});CKEDITOR.editor.prototype.selectionChange=function(b){(b?a:e).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){if((this._.savedSelection||this._.fakeSelection)&&!a)return this._.savedSelection||this._.fakeSelection;\nreturn(a=this.editable())&&this.mode==\"wysiwyg\"?new CKEDITOR.dom.selection(a):null};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);if(a.getType()!=CKEDITOR.SELECTION_NONE){!a.isLocked&&a.lock();this._.savedSelection=a;return true}return false};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;if(b){b.unlock(a);delete this._.savedSelection;return true}return false};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};\nCKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;var u=typeof window.getSelection!=\"function\",v=1;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection)var b=\na,a=a.root;var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:v++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b){CKEDITOR.tools.extend(this._.cache,b._.cache);this.isFake=b.isFake;this.isLocked=b.isLocked;return this}var a=this.getNative(),d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);else{try{e=a.createRange()}catch(f){}d=e&&CKEDITOR.dom.element.get(e.item&&\ne.item(0)||e.parentElement())}if(!d||!(d.type==CKEDITOR.NODE_ELEMENT||d.type==CKEDITOR.NODE_TEXT)||!this.root.equals(d)&&!this.root.contains(d)){this._.cache.type=CKEDITOR.SELECTION_NONE;this._.cache.startElement=null;this._.cache.selectedElement=null;this._.cache.selectedText=\"\";this._.cache.ranges=new CKEDITOR.dom.rangeList}return this};var E={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.dom.selection.prototype=\n{getNative:function(){return this._.cache.nativeSel!==void 0?this._.cache.nativeSel:this._.cache.nativeSel=u?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:u?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;if(d==\"Text\")b=CKEDITOR.SELECTION_TEXT;if(d==\"Control\")b=CKEDITOR.SELECTION_ELEMENT;if(c.createRange().parentElement())b=CKEDITOR.SELECTION_TEXT}catch(e){}return a.type=b}:function(){var a=this._.cache;\nif(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(c.rangeCount==1){var c=c.getRangeAt(0),d=c.startContainer;if(d==c.endContainer&&d.nodeType==1&&c.endOffset-c.startOffset==1&&E[d.childNodes[c.startOffset].nodeName.toLowerCase()])b=CKEDITOR.SELECTION_ELEMENT}return a.type=b},getRanges:function(){var a=u?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);\nvar d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,f,g,h=b.duplicate(),k=0,i=e.length-1,j=-1,A,x;k<=i;){j=Math.floor((k+i)/2);f=e[j];h.moveToElementText(f);A=h.compareEndPoints(\"StartToStart\",b);if(A>0)i=j-1;else if(A<0)k=j+1;else return{container:d,offset:a(f)}}if(j==-1||j==e.length-1&&A<0){h.moveToElementText(d);h.setEndPoint(\"StartToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;e=d.childNodes;if(!h){f=e[e.length-1];return f.nodeType!=CKEDITOR.NODE_TEXT?\n{container:d,offset:e.length}:{container:f,offset:f.nodeValue.length}}for(d=e.length;h>0&&d>0;){g=e[--d];if(g.nodeType==CKEDITOR.NODE_TEXT){x=g;h=h-g.nodeValue.length}}return{container:x,offset:-h}}h.collapse(A>0?true:false);h.setEndPoint(A>0?\"StartToStart\":\"EndToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;if(!h)return{container:d,offset:a(f)+(A>0?0:1)};for(;h>0;)try{g=f[A>0?\"previousSibling\":\"nextSibling\"];if(g.nodeType==CKEDITOR.NODE_TEXT){h=h-g.nodeValue.length;x=g}f=g}catch(l){return{container:d,\noffset:a(f)}}return{container:x,offset:A>0?-h:x.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT){a=new CKEDITOR.dom.range(this.root);d=b(c,true);a.setStart(new CKEDITOR.dom.node(d.container),d.offset);d=b(c);a.setEnd(new CKEDITOR.dom.node(d.container),d.offset);a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse();return[a]}if(d==\nCKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var f=c.item(e),g=f.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<g.childNodes.length&&g.childNodes[h]!=f;h++);a.setStart(new CKEDITOR.dom.node(g),h);a.setEnd(new CKEDITOR.dom.node(g),h+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);\nb.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;if(!d)c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this));return!b?d:s(new CKEDITOR.dom.rangeList(d.slice()))}}(),getStartElement:function(){var a=this._.cache;if(a.startElement!==void 0)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed){b=\nc.startContainer;b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent())}else{for(c.optimize();;){b=c.startContainer;if(c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary())c.setStartAfter(b);else break}b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();b=b.getChild(c.startOffset);if(!b||b.type!=CKEDITOR.NODE_ELEMENT)b=c.startContainer;else for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;){b=c;c=c.getFirst()}}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):\nnull},getSelectedElement:function(){var a=this._.cache;if(a.selectedElement!==void 0)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&(!(c=a.getEnclosedNode())||!(c.type==CKEDITOR.NODE_ELEMENT&&E[c.getName()]&&(d=c)));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;\nif(a.selectedText!==void 0)return a.selectedText;var b=this.getNative(),b=u?b.type==\"Control\"?\"\":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=!b&&this.getRanges(),d=this.isFake;this.isLocked=0;this.reset();if(a)(a=b||c[0]&&c[0].getCommonAncestor())&&a.getAscendant(\"body\",\n1)&&(d?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection&&this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire(\"lockSnapshot\");b.remove();a.fire(\"unlockSnapshot\");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}this.rev=v++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);\nthis.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,b=b&&b._.hiddenSelectionContainer;this.reset();if(b)for(var b=this.root,c,d=0;d<a.length;++d){c=a[d];if(c.endContainer.equals(b))c.endOffset=Math.min(c.endOffset,b.getChildCount())}if(a.length)if(this.isLocked){var e=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();e&&!e.equals(this.root)&&e.focus()}else{var g;a:{var i,j;if(a.length==1&&!(j=a[0]).collapsed&&(g=j.getEnclosedNode())&&g.type==CKEDITOR.NODE_ELEMENT){j=\nj.clone();j.shrink(CKEDITOR.SHRINK_ELEMENT,true);if((i=j.getEnclosedNode())&&i.type==CKEDITOR.NODE_ELEMENT)g=i;if(g.getAttribute(\"contenteditable\")==\"false\")break a}g=void 0}if(g)this.fake(g);else{if(u){j=CKEDITOR.dom.walker.whitespaces(true);i=/\\ufeff|\\u00a0/;b={table:1,tbody:1,tr:1};if(a.length>1){g=a[a.length-1];a[0].setEnd(g.endContainer,g.endOffset)}g=a[0];var a=g.collapsed,l,m,w;if((c=g.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in E&&(!c.is(\"a\")||!c.getText()))try{w=c.$.createControlRange();\nw.addElement(c.$);w.select();return}catch(H){}if(g.startContainer.type==CKEDITOR.NODE_ELEMENT&&g.startContainer.getName()in b||g.endContainer.type==CKEDITOR.NODE_ELEMENT&&g.endContainer.getName()in b){g.shrink(CKEDITOR.NODE_ELEMENT,true);a=g.collapsed}w=g.createBookmark();b=w.startNode;if(!a)e=w.endNode;w=g.document.$.body.createTextRange();w.moveToElementText(b.$);w.moveStart(\"character\",1);if(e){i=g.document.$.body.createTextRange();i.moveToElementText(e.$);w.setEndPoint(\"EndToEnd\",i);w.moveEnd(\"character\",\n-1)}else{l=b.getNext(j);m=b.hasAscendant(\"pre\");l=!(l&&l.getText&&l.getText().match(i))&&(m||!b.hasPrevious()||b.getPrevious().is&&b.getPrevious().is(\"br\"));m=g.document.createElement(\"span\");m.setHtml(\"&#65279;\");m.insertBefore(b);l&&g.document.createText(\"\").insertBefore(b)}g.setStartBefore(b);b.remove();if(a){if(l){w.moveStart(\"character\",-1);w.select();g.document.$.selection.clear()}else w.select();g.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START);m.remove()}else{g.setEndBefore(e);e.remove();\nw.select()}}else{e=this.getNative();if(!e)return;this.removeAllRanges();for(w=0;w<a.length;w++){if(w<a.length-1){l=a[w];m=a[w+1];i=l.clone();i.setStart(l.endContainer,l.endOffset);i.setEnd(m.startContainer,m.startOffset);if(!i.collapsed){i.shrink(CKEDITOR.NODE_ELEMENT,true);g=i.getCommonAncestor();i=i.getEnclosedNode();if(g.isReadOnly()||i&&i.isReadOnly()){m.setStart(l.startContainer,l.startOffset);a.splice(w--,1);continue}}}g=a[w];m=this.document.$.createRange();if(g.collapsed&&CKEDITOR.env.webkit&&\nf(g)){l=this.root;h(l,false);i=l.getDocument().createText(\"\");l.setCustomData(\"cke-fillingChar\",i);g.insertNode(i);if((l=i.getNext())&&!i.getPrevious()&&l.type==CKEDITOR.NODE_ELEMENT&&l.getName()==\"br\"){h(this.root);g.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START)}else g.moveToPosition(i,CKEDITOR.POSITION_AFTER_END)}m.setStart(g.startContainer.$,g.startOffset);try{m.setEnd(g.endContainer.$,g.endOffset)}catch(C){if(C.toString().indexOf(\"NS_ERROR_ILLEGAL_VALUE\")>=0){g.collapse(1);m.setEnd(g.endContainer.$,\ng.endOffset)}else throw C;}e.addRange(m)}}this.reset();this.root.fire(\"selectionchange\")}}},fake:function(a){var b=this.root.editor;this.reset();m(b);var c=this._.cache,d=new CKEDITOR.dom.range(this.root);d.setStartBefore(a);d.setEndAfter(a);c.ranges=new CKEDITOR.dom.rangeList(d);c.selectedElement=c.startElement=a;c.type=CKEDITOR.SELECTION_ELEMENT;c.selectedText=c.nativeSel=null;this.isFake=1;this.rev=v++;b._.fakeSelection=this;this.root.fire(\"selectionchange\")},isHidden:function(){var a=this.getCommonAncestor();\na&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data(\"cke-hidden-sel\"))},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c=0;c<a.length;c++){var d=new CKEDITOR.dom.range(this.root);d.moveToBookmark(a[c]);b.push(d)}a.isFake?this.fake(b[0].getEnclosedNode()):this.selectRanges(b);return this},\ngetCommonAncestor:function(){var a=this.getRanges();return!a.length?null:a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer)},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[u?\"empty\":\"removeAllRanges\"]()}catch(b){}this.reset()}}}})();\"use strict\";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;\n(function(){function a(a,b){for(var c,d;a=a.getParent();){if(a.equals(b))break;if(a.getAttribute(\"data-nostyle\"))c=a;else if(!d){var e=a.getAttribute(\"contentEditable\");e==\"false\"?c=a:e==\"true\"&&(d=1)}}return c}function e(b){var d=b.document;if(b.collapsed){d=j(this,d);b.insertNode(d);b.moveToPosition(d,CKEDITOR.POSITION_BEFORE_END)}else{var f=this.element,g=this._.definition,h,i=g.ignoreReadonly,k=i||g.includeReadonly;k==null&&(k=b.root.getCustomData(\"cke_includeReadonly\"));var l=CKEDITOR.dtd[f];\nif(!l){h=true;l=CKEDITOR.dtd.span}b.enlarge(CKEDITOR.ENLARGE_INLINE,1);b.trim();var m=b.createBookmark(),n=m.startNode,p=m.endNode,o=n,q;if(!i){var t=b.getCommonAncestor(),i=a(n,t),t=a(p,t);i&&(o=i.getNextSourceNode(true));t&&(p=t)}for(o.getPosition(p)==CKEDITOR.POSITION_FOLLOWING&&(o=0);o;){i=false;if(o.equals(p)){o=null;i=true}else{var s=o.type==CKEDITOR.NODE_ELEMENT?o.getName():null,t=s&&o.getAttribute(\"contentEditable\")==\"false\",r=s&&o.getAttribute(\"data-nostyle\");if(s&&o.data(\"cke-bookmark\")){o=\no.getNextSourceNode(true);continue}if(t&&k&&CKEDITOR.dtd.$block[s])for(var v=o,u=c(v),z=void 0,D=u.length,E=0,v=D&&new CKEDITOR.dom.range(v.getDocument());E<D;++E){var z=u[E],M=CKEDITOR.filter.instances[z.data(\"cke-filter\")];if(M?M.check(this):1){v.selectNodeContents(z);e.call(this,v)}}u=s?!l[s]||r?0:t&&!k?0:(o.getPosition(p)|L)==L&&(!g.childRule||g.childRule(o)):1;if(u)if((u=o.getParent())&&((u.getDtd()||CKEDITOR.dtd.span)[f]||h)&&(!g.parentRule||g.parentRule(u))){if(!q&&(!s||!CKEDITOR.dtd.$removeEmpty[s]||\n(o.getPosition(p)|L)==L)){q=b.clone();q.setStartBefore(o)}s=o.type;if(s==CKEDITOR.NODE_TEXT||t||s==CKEDITOR.NODE_ELEMENT&&!o.getChildCount()){for(var s=o,U;(i=!s.getNext(J))&&(U=s.getParent(),l[U.getName()])&&(U.getPosition(n)|B)==B&&(!g.childRule||g.childRule(U));)s=U;q.setEndAfter(s)}}else i=true;else i=true;o=o.getNextSourceNode(r||t)}if(i&&q&&!q.collapsed){for(var i=j(this,d),t=i.hasAttributes(),r=q.getCommonAncestor(),s={},u={},z={},D={},O,R,X;i&&r;){if(r.getName()==f){for(O in g.attributes)if(!D[O]&&\n(X=r.getAttribute(R)))i.getAttribute(O)==X?u[O]=1:D[O]=1;for(R in g.styles)if(!z[R]&&(X=r.getStyle(R)))i.getStyle(R)==X?s[R]=1:z[R]=1}r=r.getParent()}for(O in u)i.removeAttribute(O);for(R in s)i.removeStyle(R);t&&!i.hasAttributes()&&(i=null);if(i){q.extractContents().appendTo(i);q.insertNode(i);y.call(this,i);i.mergeSiblings();CKEDITOR.env.ie||i.$.normalize()}else{i=new CKEDITOR.dom.element(\"span\");q.extractContents().appendTo(i);q.insertNode(i);y.call(this,i);i.remove(true)}q=null}}b.moveToBookmark(m);\nb.shrink(CKEDITOR.SHRINK_TEXT);b.shrink(CKEDITOR.NODE_ELEMENT,true)}}function b(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(j.getParent()),e=null,f=null,g=0;g<a.elements.length;g++){var h=a.elements[g];if(h==a.block||h==a.blockLimit)break;k.checkElementRemovable(h,true)&&(e=h)}for(g=0;g<c.elements.length;g++){h=c.elements[g];if(h==c.block||h==c.blockLimit)break;k.checkElementRemovable(h,true)&&(f=h)}f&&j.breakParent(f);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,\n1);var c=a.createBookmark(),d=c.startNode;if(a.collapsed){for(var e=new CKEDITOR.dom.elementPath(d.getParent(),a.root),f,g=0,h;g<e.elements.length&&(h=e.elements[g]);g++){if(h==e.block||h==e.blockLimit)break;if(this.checkElementRemovable(h)){var i;if(a.collapsed&&(a.checkBoundaryOfElement(h,CKEDITOR.END)||(i=a.checkBoundaryOfElement(h,CKEDITOR.START)))){f=h;f.match=i?\"start\":\"end\"}else{h.mergeSiblings();h.is(this.element)?s.call(this,h):p(h,E(this)[h.getName()])}}}if(f){h=d;for(g=0;;g++){i=e.elements[g];\nif(i.equals(f))break;else if(i.match)continue;else i=i.clone();i.append(h);h=i}h[f.match==\"start\"?\"insertBefore\":\"insertAfter\"](f)}}else{var j=c.endNode,k=this;b();for(e=d;!e.equals(j);){f=e.getNextSourceNode();if(e.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(e)){e.getName()==this.element?s.call(this,e):p(e,E(this)[e.getName()]);if(f.type==CKEDITOR.NODE_ELEMENT&&f.contains(d)){b();f=d.getNext()}}e=f}}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,true)}function c(a){var b=[];a.forEach(function(a){if(a.getAttribute(\"contenteditable\")==\n\"true\"){b.push(a);return false}},CKEDITOR.NODE_ELEMENT,true);return b}function f(a){var b=a.getEnclosedNode()||a.getCommonAncestor(false,true);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&u(a,this)}function d(a){var b=a.getCommonAncestor(true,true);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&\na.removeStyle(e)}}function h(a){var b=a.createBookmark(true),c=a.createIterator();c.enforceRealBlocks=true;if(this._.enterMode)c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e=a.document,f;d=c.getNextParagraph();)if(!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)){f=j(this,e,d);i(d,f)}a.moveToBookmark(b)}function l(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=true;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)if(this.checkElementRemovable(d))if(d.is(\"pre\")){(e=\nthis._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))&&d.copyAttributes(e);i(d,e)}else s.call(this,d);a.moveToBookmark(b)}function i(a,b){var c=!b;if(c){b=a.getDocument().createElement(\"div\");a.copyAttributes(b)}var d=b&&b.is(\"pre\"),e=a.is(\"pre\"),f=!d&&e;if(d&&!e){e=b;(f=a.getBogus())&&f.remove();f=a.getHtml();f=m(f,/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g,\"\");f=f.replace(/[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi,\"$1\");f=f.replace(/([ \\t\\n\\r]+|&nbsp;)/g,\n\" \");f=f.replace(/<br\\b[^>]*>/gi,\"\\n\");if(CKEDITOR.env.ie){var h=a.getDocument().createElement(\"div\");h.append(e);e.$.outerHTML=\"<pre>\"+f+\"</pre>\";e.copyAttributes(h.getFirst());e=h.getFirst().remove()}else e.setHtml(f);b=e}else f?b=t(c?[a.getHtml()]:g(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,i;if((i=c.getPrevious(z))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is(\"pre\")){d=m(i.getHtml(),/\\n$/,\"\")+\"\\n\\n\"+m(c.getHtml(),/^\\n/,\"\");CKEDITOR.env.ie?c.$.outerHTML=\"<pre>\"+d+\"</pre>\":c.setHtml(d);i.remove()}}else c&&\nq(b)}function g(a){var b=[];m(a.getOuterHtml(),/(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,function(a,b,c){return b+\"</pre>\"+c+\"<pre>\"}).replace(/<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi,function(a,c){b.push(c)});return b}function m(a,b,c){var d=\"\",e=\"\",a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(e=c);return\"\"});return d+a.replace(b,c)+e}function t(a,b){var c;a.length>1&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));\nfor(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\\r\\n|\\r)/g,\"\\n\"),e=m(e,/^[ \\t]*\\n/,\"\"),e=m(e,/\\n$/,\"\"),e=m(e,/^[ \\t]+|[ \\t]+$/g,function(a,b){return a.length==1?\"&nbsp;\":b?\" \"+CKEDITOR.tools.repeat(\"&nbsp;\",a.length-1):CKEDITOR.tools.repeat(\"&nbsp;\",a.length-1)+\" \"}),e=e.replace(/\\n/g,\"<br>\"),e=e.replace(/[ \\t]{2,}/g,function(a){return CKEDITOR.tools.repeat(\"&nbsp;\",a.length-1)+\" \"});if(c){var f=b.clone();f.setHtml(e);c.append(f)}else b.setHtml(e)}return c||b}function s(a,b){var c=this._.definition,\nd=c.attributes,c=c.styles,e=E(this)[a.getName()],f=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),g;for(g in d)if(!((g==\"class\"||this._.definition.fullMatch)&&a.getAttribute(g)!=k(g,d[g]))&&!(b&&g.slice(0,5)==\"data-\")){f=a.hasAttribute(g);a.removeAttribute(g)}for(var h in c)if(!(this._.definition.fullMatch&&a.getStyle(h)!=k(h,c[h],true))){f=f||!!a.getStyle(h);a.removeStyle(h)}p(a,e,r[a.getName()]);f&&(this._.definition.alwaysRemoveElement?q(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==\nCKEDITOR.ENTER_BR&&!a.hasAttributes()?q(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))}function y(a){for(var b=E(this),c=a.getElementsByTag(this.element),d,e=c.count();--e>=0;){d=c.getItem(e);d.isReadOnly()||s.call(this,d,true)}for(var f in b)if(f!=this.element){c=a.getElementsByTag(f);for(e=c.count()-1;e>=0;e--){d=c.getItem(e);d.isReadOnly()||p(d,b[f])}}}function p(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],f;if(f=a.getAttribute(e)){var g=b[d][1];(g===null||\ng.test&&g.test(f)||typeof g==\"string\"&&f==g)&&a.removeAttribute(e)}}c||q(a)}function q(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(z),d=a.getNext(z);c&&(c.type==CKEDITOR.NODE_TEXT||!c.isBlockBoundary({br:1}))&&a.append(\"br\",1);d&&(d.type==CKEDITOR.NODE_TEXT||!d.isBlockBoundary({br:1}))&&a.append(\"br\");a.remove(true)}else{c=a.getFirst();d=a.getLast();a.remove(true);if(c){c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings();d&&(!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT)&&\nd.mergeSiblings()}}}function j(a,b,c){var d;d=a.element;d==\"*\"&&(d=\"span\");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=u(d,a);b.getCustomData(\"doc_processing_style\")&&d.hasAttribute(\"id\")?d.removeAttribute(\"id\"):b.setCustomData(\"doc_processing_style\",1);return d}function u(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute(\"style\",c);return a}function v(a,b){for(var c in a)a[c]=a[c].replace(D,function(a,\nc){return b[c]})}function E(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],f,g;if(typeof e==\"string\")f=e.toLowerCase();else{f=e.element?e.element.toLowerCase():a.element;g=e.attributes}e=b[f]||(b[f]={});if(g){var e=e.attributes=e.attributes||[],h;for(h in g)e.push([h.toLowerCase(),g[h]])}}}return b}function k(a,b,c){var d=new CKEDITOR.dom.element(\"span\");d[c?\"setStyle\":\"setAttribute\"](a,\nb);return d[c?\"getStyle\":\"getAttribute\"](a)}function n(a,b,c){for(var d=a.document,e=a.getRanges(),b=b?this.removeFromRange:this.applyToRange,f,g=e.createIterator();f=g.getNextRange();)b.call(this,f,c);a.selectRanges(e);d.removeCustomData(\"doc_processing_style\")}var r={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},o=\n{a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},M=/\\s*(?:;\\s*|$)/,D=/#\\((.+?)\\)/g,J=CKEDITOR.dom.walker.bookmark(0,1),z=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if(typeof a.type==\"string\")return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;if(c&&c.style){a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style));delete c.style}if(b){a=CKEDITOR.tools.clone(a);v(a.attributes,\nb);v(a.styles,b)}c=this.element=a.element?typeof a.element==\"string\"?a.element.toLowerCase():a.element:\"*\";this.type=a.type||(r[c]?CKEDITOR.STYLE_BLOCK:o[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);if(typeof this.element==\"object\")this.type=CKEDITOR.STYLE_OBJECT;this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return n.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;if(!b)this._.enterMode=a.activeEnterMode;\nn.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof CKEDITOR.dom.document)return n.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;if(!b)this._.enterMode=a.activeEnterMode;n.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?f:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=\nthis.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?d:null;return this.removeFromRange(a)},applyToObject:function(a){u(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,true,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++){e=c[d];if(!(this.type==CKEDITOR.STYLE_INLINE&&(e==a.block||e==a.blockLimit))){if(this.type==\nCKEDITOR.STYLE_OBJECT){var f=e.getName();if(!(typeof this.element==\"string\"?f==this.element:f in this.element))continue}if(this.checkElementRemovable(e,true,b))return true}}}return false},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return false;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return true},checkElementMatch:function(a,b){var c=this._.definition;\nif(!a||!c.ignoreReadonly&&a.isReadOnly())return false;var d=a.getName();if(typeof this.element==\"string\"?d==this.element:d in this.element){if(!b&&!a.hasAttributes())return true;if(d=c._AC)c=d;else{var d={},e=0,f=c.attributes;if(f)for(var g in f){e++;d[g]=f[g]}if(g=CKEDITOR.style.getStyleText(c)){d.style||e++;d.style=g}d._length=e;c=c._AC=d}if(c._length){for(var h in c)if(h!=\"_length\"){e=a.getAttribute(h)||\"\";if(h==\"style\")a:{d=c[h];typeof d==\"string\"&&(d=CKEDITOR.tools.parseCssText(d));typeof e==\n\"string\"&&(e=CKEDITOR.tools.parseCssText(e,true));g=void 0;for(g in d)if(!(g in e&&(e[g]==d[g]||d[g]==\"inherit\"||e[g]==\"inherit\"))){d=false;break a}d=true}else d=c[h]==e;if(d){if(!b)return true}else if(b)return false}if(b)return true}else return true}return false},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return true;if(b=E(this)[a.getName()]){var d;if(!(b=b.attributes))return true;for(c=0;c<b.length;c++){d=b[c][0];if(d=a.getAttribute(d)){var e=b[c][1];if(e===null)return true;\nif(typeof e==\"string\"){if(d==e)return true}else if(e.test(d))return true}}}return false},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;d==\"bdo\"&&(d=\"span\");var c=[\"<\",d],e=b.attributes;if(e)for(var f in e)c.push(\" \",f,'=\"',e[f],'\"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style=\"',e,'\"');c.push(\">\",a||b.name,\"</\",d,\">\");return c.join(\"\")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=\na.attributes&&a.attributes.style||\"\",d=\"\";c.length&&(c=c.replace(M,\";\"));for(var e in b){var f=b[e],g=(e+\":\"+f).replace(M,\";\");f==\"inherit\"?d=d+g:c=c+g}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,true));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},a,true);\nreturn this.customHandlers[a.type]=b};var L=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,B=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=function(a,e){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,e,true)};\nCKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager(\"\",\"stylesSet\");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(a,e,b){CKEDITOR.stylesSet.addExternal(a,e,\"\");CKEDITOR.stylesSet.load(a,b)};\nCKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,e){var b=this._.styleStateChangeCallbacks;if(!b){b=this._.styleStateChangeCallbacks=[];this.on(\"selectionChange\",function(a){for(var e=0;e<b.length;e++){var d=b[e],h=d.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;d.fn.call(this,h)}})}b.push({style:a,fn:e})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);\nelse{var e=this,b=e.config.stylesCombo_stylesSet||e.config.stylesSet;if(b===false)a(null);else if(b instanceof Array){e._.stylesDefinitions=b;a(b)}else{b||(b=\"default\");var b=b.split(\":\"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(\":\"):CKEDITOR.getUrl(\"styles.js\"),\"\");CKEDITOR.stylesSet.load(c,function(b){e._.stylesDefinitions=b[c];a(e._.stylesDefinitions)})}}}});\nCKEDITOR.dom.comment=function(a,e){typeof a==\"string\"&&(a=(e?e.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return\"<\\!--\"+this.$.nodeValue+\"--\\>\"}});\"use strict\";\n(function(){var a={},e={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(e[b]=1);CKEDITOR.dom.elementPath=function(b,f){var d=null,h=null,l=[],i=b,g,f=f||b.getDocument().getBody();do if(i.type==CKEDITOR.NODE_ELEMENT){l.push(i);if(!this.lastElement){this.lastElement=i;if(i.is(CKEDITOR.dtd.$object)||i.getAttribute(\"contenteditable\")==\"false\")continue}if(i.equals(f))break;if(!h){g=i.getName();\ni.getAttribute(\"contenteditable\")==\"true\"?h=i:!d&&e[g]&&(d=i);if(a[g]){var m;if(m=!d){if(g=g==\"div\"){a:{g=i.getChildren();m=0;for(var t=g.count();m<t;m++){var s=g.getItem(m);if(s.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[s.getName()]){g=true;break a}}g=false}g=!g}m=g}m?d=i:h=i}}}while(i=i.getParent());h||(h=f);this.block=d;this.blockLimit=h;this.root=f;this.elements=l}})();\nCKEDITOR.dom.elementPath.prototype={compare:function(a){var e=this.elements,a=a&&a.elements;if(!a||e.length!=a.length)return false;for(var b=0;b<e.length;b++)if(!e[b].equals(a[b]))return false;return true},contains:function(a,e,b){var c;typeof a==\"string\"&&(c=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?c=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?c=function(b){return CKEDITOR.tools.indexOf(a,b.getName())>-1}:typeof a==\"function\"?c=a:typeof a==\"object\"&&(c=\nfunction(b){return b.getName()in a});var f=this.elements,d=f.length;e&&d--;if(b){f=Array.prototype.slice.call(f,0);f.reverse()}for(e=0;e<d;e++)if(c(f[e]))return f[e];return null},isContextFor:function(a){var e;if(a in CKEDITOR.dtd.$block){e=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit;return!!e.getDtd()[a]}return true},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};\nCKEDITOR.dom.text=function(a,e){typeof a==\"string\"&&(a=(e?e.$:document).createTextNode(a));this.$=a};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;\nCKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var e=this.$.parentNode,b=e.childNodes.length,c=this.getLength(),f=this.getDocument(),d=new CKEDITOR.dom.text(this.$.splitText(a),f);if(e.childNodes.length==b)if(a>=c){d=f.createText(\"\");d.insertAfter(this)}else{a=f.createText(\"\");a.insertAfter(d);a.remove()}return d},substring:function(a,\ne){return typeof e!=\"number\"?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,e)}});\n(function(){function a(a,c,e){var d=a.serializable,h=c[e?\"endContainer\":\"startContainer\"],l=e?\"endOffset\":\"startOffset\",i=d?c.document.getById(a.startNode):a.startNode,a=d?c.document.getById(a.endNode):a.endNode;if(h.equals(i.getPrevious())){c.startOffset=c.startOffset-h.getLength()-a.getPrevious().getLength();h=a.getNext()}else if(h.equals(a.getPrevious())){c.startOffset=c.startOffset-h.getLength();h=a.getNext()}h.equals(i.getParent())&&c[l]++;h.equals(a.getParent())&&c[l]++;c[e?\"endContainer\":\"startContainer\"]=\nh;return c}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,e)};var e={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),e=[],d;return{getNextRange:function(h){d=d===void 0?0:d+1;var l=a[d];if(l&&a.length>1){if(!d)for(var i=a.length-1;i>=0;i--)e.unshift(a[i].createBookmark(true));if(h)for(var g=0;a[d+g+1];){for(var m=l.document,h=0,i=m.getById(e[g].endNode),m=m.getById(e[g+\n1].startNode);;){i=i.getNextSourceNode(false);if(m.equals(i))h=1;else if(c(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary())continue;break}if(!h)break;g++}for(l.moveToBookmark(e.shift());g--;){i=a[++d];i.moveToBookmark(e.shift());l.setEnd(i.endContainer,i.endOffset)}}return l}}},createBookmarks:function(b){for(var c=[],e,d=0;d<this.length;d++){c.push(e=this[d].createBookmark(b,true));for(var h=d+1;h<this.length;h++){this[h]=a(e,this[h]);this[h]=a(e,this[h],true)}}return c},createBookmarks2:function(a){for(var c=\n[],e=0;e<this.length;e++)c.push(this[e].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}})();\n(function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(\",\")[1]||\"skins/\"+CKEDITOR.skinName.split(\",\")[0]+\"/\")}function e(b){var c=CKEDITOR.skin[\"ua_\"+b],d=CKEDITOR.env;if(c)for(var c=c.split(\",\").sort(function(a,b){return a>b?-1:1}),e=0,f;e<c.length;e++){f=c[e];if(d.ie&&(f.replace(/^ie/,\"\")==d.version||d.quirks&&f==\"iequirks\"))f=\"ie\";if(d[f]){b=b+(\"_\"+c[e]);break}}return CKEDITOR.getUrl(a()+b+\".css\")}function b(a,b){if(!d[a]){CKEDITOR.document.appendStyleSheet(e(a));d[a]=1}b&&b()}\nfunction c(a){var b=a.getById(h);if(!b){b=a.getHead().append(\"style\");b.setAttribute(\"id\",h);b.setAttribute(\"type\",\"text/css\")}return b}function f(a,b,c){var d,e,f;if(CKEDITOR.env.webkit){b=b.split(\"}\").slice(0,-1);for(e=0;e<b.length;e++)b[e]=b[e].split(\"{\")}for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[e][0],f)}else{f=b;for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&\nCKEDITOR.env.version<11?a[h].$.styleSheet.cssText=a[h].$.styleSheet.cssText+f:a[h].$.innerHTML=a[h].$.innerHTML+f}}var d={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(\",\")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+\"skin.js\"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(e(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||\"16px\"})},getIconStyle:function(a,\nb,c,d,e){var f;if(a){a=a.toLowerCase();b&&(f=this.icons[a+\"-rtl\"]);f||(f=this.icons[a])}a=c||f&&f.path||\"\";d=d||f&&f.offset;e=e||f&&f.bgsize||\"16px\";return a&&\"background-image:url(\"+CKEDITOR.getUrl(a)+\");background-position:0 \"+d+\"px;background-size:\"+e+\";\"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=c(CKEDITOR.document);return(this.setUiColor=function(a){var c=CKEDITOR.skin.chameleon,d=[[i,a]];this.uiColor=a;f([b],c(this,\n\"editor\"),d);f(l,c(this,\"panel\"),d)}).call(this,a)}});var h=\"cke_ui_color\",l=[],i=/\\$color/g;CKEDITOR.on(\"instanceLoaded\",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor,a=function(a){a=(a.data[0]||a.data).element.getElementsByTag(\"iframe\").getItem(0).getFrameDocument();if(!a.getById(\"cke_ui_color\")){a=c(a);l.push(a);var d=b.getUiColor();d&&f([a],CKEDITOR.skin.chameleon(b,\"panel\"),[[i,d]])}};b.on(\"panelShow\",a);b.on(\"menuShow\",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})})();\n(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=false;else{var a=CKEDITOR.dom.element.createFromHtml('<div style=\"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue\"></div>',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var e=a.getComputedStyle(\"border-top-color\"),b=a.getComputedStyle(\"border-right-color\");CKEDITOR.env.hc=!!(e&&e==b)}catch(c){CKEDITOR.env.hc=false}a.remove()}if(CKEDITOR.env.hc)CKEDITOR.env.cssClass=CKEDITOR.env.cssClass+\" cke_hc\";\nCKEDITOR.document.appendStyleText(\".cke{visibility:hidden;}\");CKEDITOR.status=\"loaded\";CKEDITOR.fireOnce(\"loaded\");if(a=CKEDITOR._.pending){delete CKEDITOR._.pending;for(e=0;e<a.length;e++){CKEDITOR.editor.prototype.constructor.apply(a[e][0],a[e][1]);CKEDITOR.add(a[e][0])}}})();/*\n Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.\n For licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.skin.name=\"moono-dark\";CKEDITOR.skin.ua_editor=\"ie,iequirks,ie7,ie8,gecko\";CKEDITOR.skin.ua_dialog=\"ie,iequirks,ie7,ie8\";CKEDITOR.plugins.add(\"basicstyles\",{init:function(c){var e=0,d=function(g,d,b,a){if(a){var a=new CKEDITOR.style(a),f=h[b];f.unshift(a);c.attachStyleStateChange(a,function(a){!c.readOnly&&c.getCommand(b).setState(a)});c.addCommand(b,new CKEDITOR.styleCommand(a,{contentForms:f}));c.ui.addButton&&c.ui.addButton(g,{label:d,command:b,toolbar:\"basicstyles,\"+(e+=10)})}},h={bold:[\"strong\",\"b\",[\"span\",function(a){a=a.styles[\"font-weight\"];return\"bold\"==a||700<=+a}]],italic:[\"em\",\"i\",[\"span\",function(a){return\"italic\"==\na.styles[\"font-style\"]}]],underline:[\"u\",[\"span\",function(a){return\"underline\"==a.styles[\"text-decoration\"]}]],strike:[\"s\",\"strike\",[\"span\",function(a){return\"line-through\"==a.styles[\"text-decoration\"]}]],subscript:[\"sub\"],superscript:[\"sup\"]},b=c.config,a=c.lang.basicstyles;d(\"Bold\",a.bold,\"bold\",b.coreStyles_bold);d(\"Italic\",a.italic,\"italic\",b.coreStyles_italic);d(\"Underline\",a.underline,\"underline\",b.coreStyles_underline);d(\"Strike\",a.strike,\"strike\",b.coreStyles_strike);d(\"Subscript\",a.subscript,\n\"subscript\",b.coreStyles_subscript);d(\"Superscript\",a.superscript,\"superscript\",b.coreStyles_superscript);c.setKeystroke([[CKEDITOR.CTRL+66,\"bold\"],[CKEDITOR.CTRL+73,\"italic\"],[CKEDITOR.CTRL+85,\"underline\"]])}});CKEDITOR.config.coreStyles_bold={element:\"strong\",overrides:\"b\"};CKEDITOR.config.coreStyles_italic={element:\"em\",overrides:\"i\"};CKEDITOR.config.coreStyles_underline={element:\"u\"};CKEDITOR.config.coreStyles_strike={element:\"s\",overrides:\"strike\"};CKEDITOR.config.coreStyles_subscript={element:\"sub\"};\nCKEDITOR.config.coreStyles_superscript={element:\"sup\"};(function(){var k={exec:function(g){var a=g.getCommand(\"blockquote\").state,i=g.getSelection(),c=i&&i.getRanges()[0];if(c){var h=i.createBookmarks();if(CKEDITOR.env.ie){var e=h[0].startNode,b=h[0].endNode,d;if(e&&\"blockquote\"==e.getParent().getName())for(d=e;d=d.getNext();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){e.move(d,!0);break}if(b&&\"blockquote\"==b.getParent().getName())for(d=b;d=d.getPrevious();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){b.move(d);break}}var f=c.createIterator();\nf.enlargeBr=g.config.enterMode!=CKEDITOR.ENTER_BR;if(a==CKEDITOR.TRISTATE_OFF){for(e=[];a=f.getNextParagraph();)e.push(a);1>e.length&&(a=g.document.createElement(g.config.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),b=h.shift(),c.insertNode(a),a.append(new CKEDITOR.dom.text(\"\",g.document)),c.moveToBookmark(b),c.selectNodeContents(a),c.collapse(!0),b=c.createBookmark(),e.push(a),h.unshift(b));d=e[0].getParent();c=[];for(b=0;b<e.length;b++)a=e[b],d=d.getCommonAncestor(a.getParent());for(a={table:1,tbody:1,\ntr:1,ol:1,ul:1};a[d.getName()];)d=d.getParent();for(b=null;0<e.length;){for(a=e.shift();!a.getParent().equals(d);)a=a.getParent();a.equals(b)||c.push(a);b=a}for(;0<c.length;)if(a=c.shift(),\"blockquote\"==a.getName()){for(b=new CKEDITOR.dom.documentFragment(g.document);a.getFirst();)b.append(a.getFirst().remove()),e.push(b.getLast());b.replace(a)}else e.push(a);c=g.document.createElement(\"blockquote\");for(c.insertBefore(e[0]);0<e.length;)a=e.shift(),c.append(a)}else if(a==CKEDITOR.TRISTATE_ON){b=[];\nfor(d={};a=f.getNextParagraph();){for(e=c=null;a.getParent();){if(\"blockquote\"==a.getParent().getName()){c=a.getParent();e=a;break}a=a.getParent()}c&&(e&&!e.getCustomData(\"blockquote_moveout\"))&&(b.push(e),CKEDITOR.dom.element.setMarker(d,e,\"blockquote_moveout\",!0))}CKEDITOR.dom.element.clearAllMarkers(d);a=[];e=[];for(d={};0<b.length;)f=b.shift(),c=f.getParent(),f.getPrevious()?f.getNext()?(f.breakParent(f.getParent()),e.push(f.getNext())):f.remove().insertAfter(c):f.remove().insertBefore(c),c.getCustomData(\"blockquote_processed\")||\n(e.push(c),CKEDITOR.dom.element.setMarker(d,c,\"blockquote_processed\",!0)),a.push(f);CKEDITOR.dom.element.clearAllMarkers(d);for(b=e.length-1;0<=b;b--){c=e[b];a:{d=c;for(var f=0,k=d.getChildCount(),j=void 0;f<k&&(j=d.getChild(f));f++)if(j.type==CKEDITOR.NODE_ELEMENT&&j.isBlockBoundary()){d=!1;break a}d=!0}d&&c.remove()}if(g.config.enterMode==CKEDITOR.ENTER_BR)for(c=!0;a.length;)if(f=a.shift(),\"div\"==f.getName()){b=new CKEDITOR.dom.documentFragment(g.document);c&&(f.getPrevious()&&!(f.getPrevious().type==\nCKEDITOR.NODE_ELEMENT&&f.getPrevious().isBlockBoundary()))&&b.append(g.document.createElement(\"br\"));for(c=f.getNext()&&!(f.getNext().type==CKEDITOR.NODE_ELEMENT&&f.getNext().isBlockBoundary());f.getFirst();)f.getFirst().remove().appendTo(b);c&&b.append(g.document.createElement(\"br\"));b.replace(f);c=!1}}i.selectBookmarks(h);g.focus()}},refresh:function(g,a){this.setState(g.elementPath(a.block||a.blockLimit).contains(\"blockquote\",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:\"blockquote\",\nallowedContent:\"blockquote\",requiredContent:\"blockquote\"};CKEDITOR.plugins.add(\"blockquote\",{init:function(g){g.blockless||(g.addCommand(\"blockquote\",k),g.ui.addButton&&g.ui.addButton(\"Blockquote\",{label:g.lang.blockquote.toolbar,command:\"blockquote\",toolbar:\"blocks,10\"}))}})})();CKEDITOR.plugins.add(\"dialogui\",{onLoad:function(){var h=function(b){this._||(this._={});this._[\"default\"]=this._.initValue=b[\"default\"]||\"\";this._.required=b.required||!1;for(var a=[this._],d=1;d<arguments.length;d++)a.push(arguments[d]);a.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,a);return this._},r={build:function(b,a,d){return new CKEDITOR.ui.dialog.textInput(b,a,d)}},l={build:function(b,a,d){return new CKEDITOR.ui.dialog[a.type](b,a,d)}},n={isChanged:function(){return this.getValue()!=\nthis.getInitValue()},reset:function(b){this.setValue(this.getInitValue(),b)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._[\"default\"]},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(b,a){this._.domOnChangeRegistered||(b.on(\"load\",function(){this.getInputElement().on(\"change\",function(){b.parts.dialog.isVisible()&&this.fire(\"change\",{value:this.getValue()})},\nthis)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",a)}},!0),s=/^on([A-Z]\\w+)/,p=function(b){for(var a in b)(s.test(a)||\"title\"==a||\"type\"==a)&&delete b[a];return b};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,a,d,f){if(!(4>arguments.length)){var c=h.call(this,a);c.labelId=CKEDITOR.tools.getNextId()+\"_label\";this._.children=[];var e={role:a.role||\"presentation\"};a.includeLabel&&(e[\"aria-labelledby\"]=c.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,\"div\",null,\ne,function(){var e=[],g=a.required?\" cke_required\":\"\";if(a.labelLayout!=\"horizontal\")e.push('<label class=\"cke_dialog_ui_labeled_label'+g+'\" ',' id=\"'+c.labelId+'\"',c.inputId?' for=\"'+c.inputId+'\"':\"\",(a.labelStyle?' style=\"'+a.labelStyle+'\"':\"\")+\">\",a.label,\"</label>\",'<div class=\"cke_dialog_ui_labeled_content\"',a.controlStyle?' style=\"'+a.controlStyle+'\"':\"\",' role=\"presentation\">',f.call(this,b,a),\"</div>\");else{g={type:\"hbox\",widths:a.widths,padding:0,children:[{type:\"html\",html:'<label class=\"cke_dialog_ui_labeled_label'+\ng+'\" id=\"'+c.labelId+'\" for=\"'+c.inputId+'\"'+(a.labelStyle?' style=\"'+a.labelStyle+'\"':\"\")+\">\"+CKEDITOR.tools.htmlEncode(a.label)+\"</span>\"},{type:\"html\",html:'<span class=\"cke_dialog_ui_labeled_content\"'+(a.controlStyle?' style=\"'+a.controlStyle+'\"':\"\")+\">\"+f.call(this,b,a)+\"</span>\"}]};CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,g,e)}return e.join(\"\")})}},textInput:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this._.inputId=CKEDITOR.tools.getNextId()+\"_textInput\",c={\"class\":\"cke_dialog_ui_input_\"+\na.type,id:f,type:a.type};a.validate&&(this.validate=a.validate);a.maxLength&&(c.maxlength=a.maxLength);a.size&&(c.size=a.size);a.inputStyle&&(c.style=a.inputStyle);var e=this,k=!1;b.on(\"load\",function(){e.getInputElement().on(\"keydown\",function(a){a.data.getKeystroke()==13&&(k=true)});e.getInputElement().on(\"keyup\",function(a){if(a.data.getKeystroke()==13&&k){b.getButton(\"ok\")&&setTimeout(function(){b.getButton(\"ok\").click()},0);k=false}},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,\nb,a,d,function(){var b=['<div class=\"cke_dialog_ui_input_',a.type,'\" role=\"presentation\"'];a.width&&b.push('style=\"width:'+a.width+'\" ');b.push(\"><input \");c[\"aria-labelledby\"]=this._.labelId;this._.required&&(c[\"aria-required\"]=this._.required);for(var e in c)b.push(e+'=\"'+c[e]+'\" ');b.push(\" /></div>\");return b.join(\"\")})}},textarea:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this,c=this._.inputId=CKEDITOR.tools.getNextId()+\"_textarea\",e={};a.validate&&(this.validate=a.validate);\ne.rows=a.rows||5;e.cols=a.cols||20;e[\"class\"]=\"cke_dialog_ui_input_textarea \"+(a[\"class\"]||\"\");\"undefined\"!=typeof a.inputStyle&&(e.style=a.inputStyle);a.dir&&(e.dir=a.dir);CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){e[\"aria-labelledby\"]=this._.labelId;this._.required&&(e[\"aria-required\"]=this._.required);var a=['<div class=\"cke_dialog_ui_input_textarea\" role=\"presentation\"><textarea id=\"',c,'\" '],b;for(b in e)a.push(b+'=\"'+CKEDITOR.tools.htmlEncode(e[b])+'\" ');a.push(\">\",CKEDITOR.tools.htmlEncode(f._[\"default\"]),\n\"</textarea></div>\");return a.join(\"\")})}},checkbox:function(b,a,d){if(!(3>arguments.length)){var f=h.call(this,a,{\"default\":!!a[\"default\"]});a.validate&&(this.validate=a.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,\"span\",null,null,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+\"_checkbox\":CKEDITOR.tools.getNextId()+\"_checkbox\"},true),e=[],d=CKEDITOR.tools.getNextId()+\"_label\",g={\"class\":\"cke_dialog_ui_checkbox_input\",type:\"checkbox\",\"aria-labelledby\":d};p(c);if(a[\"default\"])g.checked=\n\"checked\";if(typeof c.inputStyle!=\"undefined\")c.style=c.inputStyle;f.checkbox=new CKEDITOR.ui.dialog.uiElement(b,c,e,\"input\",null,g);e.push(' <label id=\"',d,'\" for=\"',g.id,'\"'+(a.labelStyle?' style=\"'+a.labelStyle+'\"':\"\")+\">\",CKEDITOR.tools.htmlEncode(a.label),\"</label>\");return e.join(\"\")})}},radio:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);this._[\"default\"]||(this._[\"default\"]=this._.initValue=a.items[0][1]);a.validate&&(this.validate=a.valdiate);var f=[],c=this;a.role=\"radiogroup\";\na.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){for(var e=[],d=[],g=(a.id?a.id:CKEDITOR.tools.getNextId())+\"_radio\",i=0;i<a.items.length;i++){var j=a.items[i],h=j[2]!==void 0?j[2]:j[0],l=j[1]!==void 0?j[1]:j[0],m=CKEDITOR.tools.getNextId()+\"_radio_input\",n=m+\"_label\",m=CKEDITOR.tools.extend({},a,{id:m,title:null,type:null},true),h=CKEDITOR.tools.extend({},m,{title:h},true),o={type:\"radio\",\"class\":\"cke_dialog_ui_radio_input\",name:g,value:l,\"aria-labelledby\":n},q=[];if(c._[\"default\"]==\nl)o.checked=\"checked\";p(m);p(h);if(typeof m.inputStyle!=\"undefined\")m.style=m.inputStyle;m.keyboardFocusable=true;f.push(new CKEDITOR.ui.dialog.uiElement(b,m,q,\"input\",null,o));q.push(\" \");new CKEDITOR.ui.dialog.uiElement(b,h,q,\"label\",null,{id:n,\"for\":o.id},j[0]);e.push(q.join(\"\"))}new CKEDITOR.ui.dialog.hbox(b,f,e,d);return d.join(\"\")});this._.children=f}},button:function(b,a,d){if(arguments.length){\"function\"==typeof a&&(a=a(b.getParentEditor()));h.call(this,a,{disabled:a.disabled||!1});CKEDITOR.event.implementOn(this);\nvar f=this;b.on(\"load\",function(){var a=this.getElement();(function(){a.on(\"click\",function(a){f.click();a.data.preventDefault()});a.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1}&&(f.click(),a.data.preventDefault())})})();a.unselectable()},this);var c=CKEDITOR.tools.extend({},a);delete c.style;var e=CKEDITOR.tools.getNextId()+\"_label\";CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"a\",null,{style:a.style,href:\"javascript:void(0)\",title:a.label,hidefocus:\"true\",\"class\":a[\"class\"],role:\"button\",\n\"aria-labelledby\":e},'<span id=\"'+e+'\" class=\"cke_dialog_ui_button\">'+CKEDITOR.tools.htmlEncode(a.label)+\"</span>\")}},select:function(b,a,d){if(!(3>arguments.length)){var f=h.call(this,a);a.validate&&(this.validate=a.validate);f.inputId=CKEDITOR.tools.getNextId()+\"_select\";CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+\"_select\":CKEDITOR.tools.getNextId()+\"_select\"},true),e=[],d=[],g={id:f.inputId,\"class\":\"cke_dialog_ui_input_select\",\"aria-labelledby\":this._.labelId};\ne.push('<div class=\"cke_dialog_ui_input_',a.type,'\" role=\"presentation\"');a.width&&e.push('style=\"width:'+a.width+'\" ');e.push(\">\");if(a.size!=void 0)g.size=a.size;if(a.multiple!=void 0)g.multiple=a.multiple;p(c);for(var i=0,j;i<a.items.length&&(j=a.items[i]);i++)d.push('<option value=\"',CKEDITOR.tools.htmlEncode(j[1]!==void 0?j[1]:j[0]).replace(/\"/g,\"&quot;\"),'\" /> ',CKEDITOR.tools.htmlEncode(j[0]));if(typeof c.inputStyle!=\"undefined\")c.style=c.inputStyle;f.select=new CKEDITOR.ui.dialog.uiElement(b,\nc,e,\"select\",null,g,d.join(\"\"));e.push(\"</div>\");return e.join(\"\")})}},file:function(b,a,d){if(!(3>arguments.length)){void 0===a[\"default\"]&&(a[\"default\"]=\"\");var f=CKEDITOR.tools.extend(h.call(this,a),{definition:a,buttons:[]});a.validate&&(this.validate=a.validate);b.on(\"load\",function(){CKEDITOR.document.getById(f.frameId).getParent().addClass(\"cke_dialog_ui_input_file\")});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){f.frameId=CKEDITOR.tools.getNextId()+\"_fileInput\";var b=['<iframe frameborder=\"0\" allowtransparency=\"0\" class=\"cke_dialog_ui_input_file\" role=\"presentation\" id=\"',\nf.frameId,'\" title=\"',a.label,'\" src=\"javascript:void('];b.push(CKEDITOR.env.ie?\"(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})()\":\"0\");b.push(')\"></iframe>');return b.join(\"\")})}},fileButton:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this;a.validate&&(this.validate=a.validate);var c=CKEDITOR.tools.extend({},a),e=c.onClick;c.className=(c.className?c.className+\" \":\"\")+\"cke_dialog_ui_button\";c.onClick=function(c){var d=\na[\"for\"];if(!e||e.call(this,c)!==false){b.getContentElement(d[0],d[1]).submit();this.disable()}};b.on(\"load\",function(){b.getContentElement(a[\"for\"][0],a[\"for\"][1])._.buttons.push(f)});CKEDITOR.ui.dialog.button.call(this,b,c,d)}},html:function(){var b=/^\\s*<[\\w:]+\\s+([^>]*)?>/,a=/^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,d=/\\/$/;return function(f,c,e){if(!(3>arguments.length)){var k=[],g=c.html;\"<\"!=g.charAt(0)&&(g=\"<span>\"+g+\"</span>\");var i=c.focus;if(i){var j=this.focus;this.focus=function(){(\"function\"==\ntypeof i?i:j).call(this);this.fire(\"focus\")};c.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,f,c,k,\"span\",null,null,\"\");k=k.join(\"\").match(b);g=g.match(a)||[\"\",\"\",\"\"];d.test(g[1])&&(g[1]=g[1].slice(0,-1),g[2]=\"/\"+g[2]);e.push([g[1],\" \",k[1]||\"\",g[2]].join(\"\"))}}}(),fieldset:function(b,a,d,f,c){var e=c.label;this._={children:a};CKEDITOR.ui.dialog.uiElement.call(this,b,c,f,\"fieldset\",null,null,function(){var a=[];e&&a.push(\"<legend\"+\n(c.labelStyle?' style=\"'+c.labelStyle+'\"':\"\")+\">\"+e+\"</legend>\");for(var b=0;b<d.length;b++)a.push(d[b]);return a.join(\"\")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(b){var a=CKEDITOR.document.getById(this._.labelId);1>a.getChildCount()?(new CKEDITOR.dom.text(b,CKEDITOR.document)).appendTo(a):a.getChild(0).$.nodeValue=b;return this},getLabel:function(){var b=\nCKEDITOR.document.getById(this._.labelId);return!b||1>b.getChildCount()?\"\":b.getChild(0).getText()},eventProcessors:o},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled?this.fire(\"click\",{dialog:this._.dialog}):!1},enable:function(){this._.disabled=!1;var b=this.getElement();b&&b.removeClass(\"cke_disabled\")},disable:function(){this._.disabled=!0;this.getElement().addClass(\"cke_disabled\")},isVisible:function(){return this.getElement().getFirst().isVisible()},\nisEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(b,a){this.on(\"click\",function(){a.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},\nfocus:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&a.$.focus()},0)},select:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&(a.$.focus(),a.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(b){!b&&(b=\"\");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:!0},n,!0);CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=\nCKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(b,a,d){var f=new CKEDITOR.dom.element(\"option\",this.getDialog().getParentEditor().document),c=this.getInputElement().$;f.$.text=b;f.$.value=void 0===a||null===a?b:a;void 0===d||null===d?CKEDITOR.env.ie?c.add(f.$):c.add(f.$,null):c.add(f.$,d);return this},remove:function(b){this.getInputElement().$.remove(b);return this},clear:function(){for(var b=this.getInputElement().$;0<\nb.length;)b.remove(0);return this},keyboardFocusable:!0},n,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(b,a){this.getInputElement().$.checked=b;!a&&this.fire(\"change\",{value:b})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(b,a){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return o.onChange.apply(this,\narguments);b.on(\"load\",function(){var a=this._.checkbox.getElement();a.on(\"propertychange\",function(b){b=b.data.$;\"checked\"==b.propertyName&&this.fire(\"change\",{value:a.$.checked})},this)},this);this.on(\"change\",a);return null}},keyboardFocusable:!0},n,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(b,a){for(var d=this._.children,f,c=0;c<d.length&&(f=d[c]);c++)f.getElement().$.checked=f.getValue()==b;!a&&this.fire(\"change\",{value:b})},\ngetValue:function(){for(var b=this._.children,a=0;a<b.length;a++)if(b[a].getElement().$.checked)return b[a].getValue();return null},accessKeyUp:function(){var b=this._.children,a;for(a=0;a<b.length;a++)if(b[a].getElement().$.checked){b[a].getElement().focus();return}b[0].getElement().focus()},eventProcessors:{onChange:function(b,a){if(CKEDITOR.env.ie)b.on(\"load\",function(){for(var a=this._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on(\"propertychange\",function(a){a=a.data.$;\"checked\"==a.propertyName&&\nthis.$.checked&&b.fire(\"change\",{value:this.getAttribute(\"value\")})})},this),this.on(\"change\",a);else return o.onChange.apply(this,arguments);return null}}},n,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var b=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<b.$.forms.length?new CKEDITOR.dom.element(b.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();\nreturn this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(b){var a=/^on([A-Z]\\w+)/,d,f=function(a,b,c,d){a.on(\"formLoaded\",function(){a.getInputElement().on(c,d,a)})},c;for(c in b)if(d=c.match(a))this.eventProcessors[c]?this.eventProcessors[c].call(this,this._.dialog,b[c]):f(this,this._.dialog,d[1].toLowerCase(),b[c]);return this},reset:function(){function b(){d.$.open();var b=\"\";f.size&&(b=f.size-(CKEDITOR.env.ie?7:0));var h=a.frameId+\"_input\";\nd.$.write(['<html dir=\"'+g+'\" lang=\"'+i+'\"><head><title></title></head><body style=\"margin: 0; overflow: hidden; background: transparent;\">','<form enctype=\"multipart/form-data\" method=\"POST\" dir=\"'+g+'\" lang=\"'+i+'\" action=\"',CKEDITOR.tools.htmlEncode(f.action),'\"><label id=\"',a.labelId,'\" for=\"',h,'\" style=\"display:none\">',CKEDITOR.tools.htmlEncode(f.label),'</label><input style=\"width:100%\" id=\"',h,'\" aria-labelledby=\"',a.labelId,'\" type=\"file\" name=\"',CKEDITOR.tools.htmlEncode(f.id||\"cke_upload\"),\n'\" size=\"',CKEDITOR.tools.htmlEncode(0<b?b:\"\"),'\" /></form></body></html><script>',CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\",\"window.parent.CKEDITOR.tools.callFunction(\"+e+\");\",\"window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction(\"+k+\")}\",\"<\\/script>\"].join(\"\"));d.$.close();for(b=0;b<c.length;b++)c[b].enable()}var a=this._,d=CKEDITOR.document.getById(a.frameId).getFrameDocument(),f=a.definition,c=a.buttons,e=this.formLoadedNumber,k=this.formUnloadNumber,g=a.dialog._.editor.lang.dir,\ni=a.dialog._.editor.langCode;e||(e=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire(\"formLoaded\")},this),k=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(e);CKEDITOR.tools.removeFunction(k)}));CKEDITOR.env.gecko?setTimeout(b,500):b()},getValue:function(){return this.getInputElement().$.value||\"\"},setInitValue:function(){this._.initValue=\n\"\"},eventProcessors:{onChange:function(b,a){this._.domOnChangeRegistered||(this.on(\"formLoaded\",function(){this.getInputElement().on(\"change\",function(){this.fire(\"change\",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",a)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement(\"text\",r);CKEDITOR.dialog.addUIElement(\"password\",\nr);CKEDITOR.dialog.addUIElement(\"textarea\",l);CKEDITOR.dialog.addUIElement(\"checkbox\",l);CKEDITOR.dialog.addUIElement(\"radio\",l);CKEDITOR.dialog.addUIElement(\"button\",l);CKEDITOR.dialog.addUIElement(\"select\",l);CKEDITOR.dialog.addUIElement(\"file\",l);CKEDITOR.dialog.addUIElement(\"fileButton\",l);CKEDITOR.dialog.addUIElement(\"html\",l);CKEDITOR.dialog.addUIElement(\"fieldset\",{build:function(b,a,d){for(var f=a.children,c,e=[],h=[],g=0;g<f.length&&(c=f[g]);g++){var i=[];e.push(i);h.push(CKEDITOR.dialog._.uiElementBuilders[c.type].build(b,\nc,i))}return new CKEDITOR.ui.dialog[a.type](b,h,e,d,a)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;\n(function(){function t(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function u(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function G(a,b){for(var c=a.$.getElementsByTagName(\"input\"),\ne=0,d=c.length;e<d;e++){var g=new CKEDITOR.dom.element(c[e]);\"text\"==g.getAttribute(\"type\").toLowerCase()&&(b?(g.setAttribute(\"value\",g.getCustomData(\"fake_value\")||\"\"),g.removeCustomData(\"fake_value\")):(g.setCustomData(\"fake_value\",g.getAttribute(\"value\")),g.setAttribute(\"value\",\"\")))}}function P(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute(\"aria-invalid\"):c.setAttribute(\"aria-invalid\",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire(\"validated\",{valid:a,msg:b})}\nfunction Q(){var a=this.getInputElement();a&&a.removeAttribute(\"aria-invalid\")}function R(a){var a=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate(\"dialog\",S).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:\"cke_editor_\"+a.name.replace(/\\./g,\"\\\\.\")+\"_dialog\",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?\"cke_hidpi\":\"\"})),b=a.getChild([0,0,0,0,0]),c=b.getChild(0),e=b.getChild(1);if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var d=\n\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\";CKEDITOR.dom.element.createFromHtml('<iframe frameBorder=\"0\" class=\"cke_iframe_shim\" src=\"'+d+'\" tabIndex=\"-1\"></iframe>').appendTo(b.getParent())}c.unselectable();e.unselectable();return{element:a,parts:{dialog:a.getChild(0),title:c,close:e,tabs:b.getChild(2),contents:b.getChild([3,0,0,0]),footer:b.getChild([3,0,1,0])}}}function H(a,b,c){this.element=b;this.focusIndex=c;this.tabIndex=\n0;this.isFocusable=function(){return!b.getAttribute(\"disabled\")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire(\"click\")});b.on(\"focus\",function(){this.fire(\"mouseover\")});b.on(\"blur\",function(){this.fire(\"mouseout\")})}function T(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on(\"resize\",b);a.on(\"hide\",function(){c.removeListener(\"resize\",b)})}function I(a,b){this._=\n{dialog:a};CKEDITOR.tools.extend(this,b)}function U(a){function b(b){var c=a.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize(),o=b.data.$.screenX,j=b.data.$.screenY,n=o-e.x,l=j-e.y;e={x:o,y:j};d.x+=n;d.y+=l;a.move(d.x+h[3]<f?-h[3]:d.x-h[1]>i.width-c.width-f?i.width-c.width+(\"rtl\"==g.lang.dir?0:h[1]):d.x,d.y+h[0]<f?-h[0]:d.y-h[2]>i.height-c.height-f?i.height-c.height+h[2]:d.y,1);b.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mousemove\",b);CKEDITOR.document.removeListener(\"mouseup\",\nc);if(CKEDITOR.env.ie6Compat){var a=q.getChild(0).getFrameDocument();a.removeListener(\"mousemove\",b);a.removeListener(\"mouseup\",c)}}var e=null,d=null;a.getElement().getFirst();var g=a.getParentEditor(),f=g.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];\"undefined\"==typeof f&&(f=20);a.parts.title.on(\"mousedown\",function(f){e={x:f.data.$.screenX,y:f.data.$.screenY};CKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);d=a.getPosition();if(CKEDITOR.env.ie6Compat){var h=\nq.getChild(0).getFrameDocument();h.on(\"mousemove\",b);h.on(\"mouseup\",c)}f.data.preventDefault()},a)}function V(a){var b,c;function e(d){var e=\"rtl\"==h.lang.dir,j=o.width,C=o.height,D=j+(d.data.$.screenX-b)*(e?-1:1)*(a._.moved?1:2),n=C+(d.data.$.screenY-c)*(a._.moved?1:2),x=a._.element.getFirst(),x=e&&x.getComputedStyle(\"right\"),y=a.getPosition();y.y+n>i.height&&(n=i.height-y.y);if((e?x:y.x)+D>i.width)D=i.width-(e?x:y.x);if(f==CKEDITOR.DIALOG_RESIZE_WIDTH||f==CKEDITOR.DIALOG_RESIZE_BOTH)j=Math.max(g.minWidth||\n0,D-m);if(f==CKEDITOR.DIALOG_RESIZE_HEIGHT||f==CKEDITOR.DIALOG_RESIZE_BOTH)C=Math.max(g.minHeight||0,n-k);a.resize(j,C);a._.moved||a.layout();d.data.preventDefault()}function d(){CKEDITOR.document.removeListener(\"mouseup\",d);CKEDITOR.document.removeListener(\"mousemove\",e);j&&(j.remove(),j=null);if(CKEDITOR.env.ie6Compat){var a=q.getChild(0).getFrameDocument();a.removeListener(\"mouseup\",d);a.removeListener(\"mousemove\",e)}}var g=a.definition,f=g.resizable;if(f!=CKEDITOR.DIALOG_RESIZE_NONE){var h=a.getParentEditor(),\nm,k,i,o,j,n=CKEDITOR.tools.addFunction(function(f){o=a.getSize();var h=a.parts.contents;h.$.getElementsByTagName(\"iframe\").length&&(j=CKEDITOR.dom.element.createFromHtml('<div class=\"cke_dialog_resize_cover\" style=\"height: 100%; position: absolute; width: 100%;\"></div>'),h.append(j));k=o.height-a.parts.contents.getSize(\"height\",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));m=o.width-a.parts.contents.getSize(\"width\",1);b=f.screenX;c=f.screenY;i=CKEDITOR.document.getWindow().getViewPaneSize();\nCKEDITOR.document.on(\"mousemove\",e);CKEDITOR.document.on(\"mouseup\",d);CKEDITOR.env.ie6Compat&&(h=q.getChild(0).getFrameDocument(),h.on(\"mousemove\",e),h.on(\"mouseup\",d));f.preventDefault&&f.preventDefault()});a.on(\"load\",function(){var b=\"\";f==CKEDITOR.DIALOG_RESIZE_WIDTH?b=\" cke_resizer_horizontal\":f==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=\" cke_resizer_vertical\");b=CKEDITOR.dom.element.createFromHtml('<div class=\"cke_resizer'+b+\" cke_resizer_\"+h.lang.dir+'\" title=\"'+CKEDITOR.tools.htmlEncode(h.lang.common.resize)+\n'\" onmousedown=\"CKEDITOR.tools.callFunction('+n+', event )\">'+(\"ltr\"==h.lang.dir?\"\":\"\")+\"</div>\");a.parts.footer.append(b,1)});h.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)})}}function E(a){a.data.preventDefault(1)}function J(a){var b=CKEDITOR.document.getWindow(),c=a.config,e=c.dialog_backgroundCoverColor||\"white\",d=c.dialog_backgroundCoverOpacity,g=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(e,d,g),f=w[c];f?f.show():(g=['<div tabIndex=\"-1\" style=\"position: ',CKEDITOR.env.ie6Compat?\n\"absolute\":\"fixed\",\"; z-index: \",g,\"; top: 0px; left: 0px; \",!CKEDITOR.env.ie6Compat?\"background-color: \"+e:\"\",'\" class=\"cke_dialog_background_cover\">'],CKEDITOR.env.ie6Compat&&(e=\"<html><body style=\\\\'background-color:\"+e+\";\\\\'></body></html>\",g.push('<iframe hidefocus=\"true\" frameborder=\"0\" id=\"cke_dialog_background_iframe\" src=\"javascript:'),g.push(\"void((function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.write( '\"+e+\"' );document.close();\")+\"})())\"),g.push('\" style=\"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)\"></iframe>')),\ng.push(\"</div>\"),f=CKEDITOR.dom.element.createFromHtml(g.join(\"\")),f.setOpacity(void 0!=d?d:0.5),f.on(\"keydown\",E),f.on(\"keypress\",E),f.on(\"keyup\",E),f.appendTo(CKEDITOR.document.getBody()),w[c]=f);a.focusManager.add(f);q=f;var a=function(){var a=b.getViewPaneSize();f.setStyles({width:a.width+\"px\",height:a.height+\"px\"})},h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;f.setStyles({left:a.x+\"px\",top:a.y+\"px\"});if(c){do{a=c.getPosition();c.move(a.x,a.y)}while(c=c._.parentDialog)\n}};F=a;b.on(\"resize\",a);a();(!CKEDITOR.env.mac||!CKEDITOR.env.webkit)&&f.focus();if(CKEDITOR.env.ie6Compat){var m=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){m.prevScrollHandler=window.onscroll||function(){};window.onscroll=m},0);h()}}function K(a){q&&(a.focusManager.remove(q),a=CKEDITOR.document.getWindow(),q.hide(),a.removeListener(\"resize\",F),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||\nnull},0),F=null)}var r=CKEDITOR.tools.cssLength,S='<div class=\"cke_reset_all {editorId} {editorDialogClass} {hidpi}\" dir=\"{langDir}\" lang=\"{langCode}\" role=\"dialog\" aria-labelledby=\"cke_dialog_title_{id}\"><table class=\"cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}\" style=\"position:absolute\" role=\"presentation\"><tr><td role=\"presentation\"><div class=\"cke_dialog_body\" role=\"presentation\"><div id=\"cke_dialog_title_{id}\" class=\"cke_dialog_title\" role=\"presentation\"></div><a id=\"cke_dialog_close_button_{id}\" class=\"cke_dialog_close_button\" href=\"javascript:void(0)\" title=\"{closeTitle}\" role=\"button\"><span class=\"cke_label\">X</span></a><div id=\"cke_dialog_tabs_{id}\" class=\"cke_dialog_tabs\" role=\"tablist\"></div><table class=\"cke_dialog_contents\" role=\"presentation\"><tr><td id=\"cke_dialog_contents_{id}\" class=\"cke_dialog_contents_body\" role=\"presentation\"></td></tr><tr><td id=\"cke_dialog_footer_{id}\" class=\"cke_dialog_footer\" role=\"presentation\"></td></tr></table></div></td></tr></table></div>';\nCKEDITOR.dialog=function(a,b){function c(){var a=l._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function e(a){var b=l._.focusList,a=a||0;if(!(1>b.length)){var c=l._.currentFocusIndex;try{b[c].getInputElement().$.blur()}catch(f){}for(var d=c=(c+a+b.length)%b.length;a&&!b[d].isFocusable()&&!(d=(d+a+b.length)%b.length,d==c););b[d].focus();\"text\"==b[d].type&&b[d].select()}}function d(b){if(l==\nCKEDITOR.dialog._.currentTop){var c=b.data.getKeystroke(),d=\"rtl\"==a.lang.dir;o=j=0;if(9==c||c==CKEDITOR.SHIFT+9)c=c==CKEDITOR.SHIFT+9,l._.tabBarMode?(c=c?t.call(l):u.call(l),l.selectPage(c),l._.tabs[c][0].focus()):e(c?-1:1),o=1;else if(c==CKEDITOR.ALT+121&&!l._.tabBarMode&&1<l.getPageCount())l._.tabBarMode=!0,l._.tabs[l._.currentTabId][0].focus(),o=1;else if((37==c||39==c)&&l._.tabBarMode)c=c==(d?39:37)?t.call(l):u.call(l),l.selectPage(c),l._.tabs[c][0].focus(),o=1;else if((13==c||32==c)&&l._.tabBarMode)this.selectPage(this._.currentTabId),\nthis._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1),o=1;else if(13==c){c=b.data.getTarget();if(!c.is(\"a\",\"button\",\"select\",\"textarea\")&&(!c.is(\"input\")||\"button\"!=c.$.type))(c=this.getButton(\"ok\"))&&CKEDITOR.tools.setTimeout(c.click,0,c),o=1;j=1}else if(27==c)(c=this.getButton(\"cancel\"))?CKEDITOR.tools.setTimeout(c.click,0,c):!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide(),j=1;else return;g(b)}}function g(a){o?a.data.preventDefault(1):j&&a.data.stopPropagation()}var f=CKEDITOR.dialog._.dialogDefinitions[b],\nh=CKEDITOR.tools.clone(W),m=a.config.dialog_buttonsOrder||\"OS\",k=a.lang.dir,i={},o,j;(\"OS\"==m&&CKEDITOR.env.mac||\"rtl\"==m&&\"ltr\"==k||\"ltr\"==m&&\"rtl\"==k)&&h.buttons.reverse();f=CKEDITOR.tools.extend(f(a),h);f=CKEDITOR.tools.clone(f);f=new L(this,f);h=R(a);this._={editor:a,element:h.element,name:b,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],\ncurrentFocusIndex:0,hasFocus:!1};this.parts=h.parts;CKEDITOR.tools.setTimeout(function(){a.fire(\"ariaWidget\",this.parts.contents)},0,this);h={position:CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",top:0,visibility:\"hidden\"};h[\"rtl\"==k?\"right\":\"left\"]=0;this.parts.dialog.setStyles(h);CKEDITOR.event.call(this);this.definition=f=CKEDITOR.fire(\"dialogDefinition\",{name:b,definition:f},a).definition;if(!(\"removeDialogTabs\"in a._)&&a.config.removeDialogTabs){h=a.config.removeDialogTabs.split(\";\");for(k=0;k<\nh.length;k++)if(m=h[k].split(\":\"),2==m.length){var n=m[0];i[n]||(i[n]=[]);i[n].push(m[1])}a._.removeDialogTabs=i}if(a._.removeDialogTabs&&(i=a._.removeDialogTabs[b]))for(k=0;k<i.length;k++)f.removeContents(i[k]);if(f.onLoad)this.on(\"load\",f.onLoad);if(f.onShow)this.on(\"show\",f.onShow);if(f.onHide)this.on(\"hide\",f.onHide);if(f.onOk)this.on(\"ok\",function(b){a.fire(\"saveSnapshot\");setTimeout(function(){a.fire(\"saveSnapshot\")},0);!1===f.onOk.call(this,b)&&(b.data.hide=!1)});if(f.onCancel)this.on(\"cancel\",\nfunction(a){!1===f.onCancel.call(this,a)&&(a.data.hide=!1)});var l=this,p=function(a){var b=l._.contents,c=!1,d;for(d in b)for(var f in b[d])if(c=a.call(this,b[d][f]))return};this.on(\"ok\",function(a){p(function(b){if(b.validate){var c=b.validate(this),d=\"string\"==typeof c||!1===c;d&&(a.data.hide=!1,a.stop());P.call(b,!d,\"string\"==typeof c?c:void 0);return d}})},this,null,0);this.on(\"cancel\",function(b){p(function(c){if(c.isChanged())return!a.config.dialog_noConfirmCancel&&!confirm(a.lang.common.confirmCancel)&&\n(b.data.hide=!1),!0})},this,null,0);this.parts.close.on(\"click\",function(a){!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=e;var v=this._.element;a.focusManager.add(v,1);this.on(\"show\",function(){v.on(\"keydown\",d,this);if(CKEDITOR.env.gecko)v.on(\"keypress\",g,this)});this.on(\"hide\",function(){v.removeListener(\"keydown\",d);CKEDITOR.env.gecko&&v.removeListener(\"keypress\",g);p(function(a){Q.apply(a)})});this.on(\"iframeAdded\",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on(\"keydown\",\nd,this,null,0)});this.on(\"show\",function(){c();if(a.config.dialog_startupFocusTab&&1<l._.pageCount)l._.tabBarMode=!0,l._.tabs[l._.currentTabId][0].focus();else if(!this._.hasFocus)if(this._.currentFocusIndex=-1,f.onFocus){var b=f.onFocus.call(this);b&&b.focus()}else e(1)},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on(\"load\",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);U(this);V(this);(new CKEDITOR.dom.text(f.title,CKEDITOR.document)).appendTo(this.parts.title);\nfor(k=0;k<f.contents.length;k++)(i=f.contents[k])&&this.addPage(i);this.parts.tabs.on(\"click\",function(a){var b=a.data.getTarget();b.hasClass(\"cke_dialog_tab\")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf(\"_\"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1)),a.data.preventDefault())},this);k=[];i=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:\"hbox\",className:\"cke_dialog_footer_buttons\",widths:[],children:f.buttons},k).getChild();this.parts.footer.setHtml(k.join(\"\"));\nfor(k=0;k<i.length;k++)this._.buttons[i[k].id]=i[k]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){if(!this._.contentSize||!(this._.contentSize.width==a&&this._.contentSize.height==b))CKEDITOR.dialog.fire(\"resize\",{dialog:this,width:a,height:b},this._.editor),this.fire(\"resize\",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+\"px\",height:b+\"px\"}),\"rtl\"==this._.editor.lang.dir&&this._.position&&(this._.position.x=\nCKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle(\"right\"),10)),this._.contentSize={width:a,height:b}}}(),getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var e=this._.element.getFirst(),d=\"rtl\"==this._.editor.lang.dir,g=\"fixed\"==e.getComputedStyle(\"position\");CKEDITOR.env.ie&&e.setStyle(\"zoom\",\"100%\");if(!g||!this._.position||!(this._.position.x==\na&&this._.position.y==b))this._.position={x:a,y:b},g||(g=CKEDITOR.document.getWindow().getScrollPosition(),a+=g.x,b+=g.y),d&&(g=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-g.width-a),b={top:(0<b?b:0)+\"px\"},b[d?\"right\":\"left\"]=(0<a?a:0)+\"px\",e.setStyles(b),c&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;!a.getParent()||!a.getParent().equals(CKEDITOR.document.getBody())?a.appendTo(CKEDITOR.document.getBody()):\na.setStyle(\"display\",\"block\");this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle(\"z-index\",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,\nthis._.parentDialog=null,J(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);a.on(\"keydown\",M);a.on(\"keyup\",N);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],e=this._.tabs[a.id],d=a.requiredContent,g=0;if(e){for(var f in this._.contents[a.id]){var h=this._.contents[a.id][f];\"hbox\"==h.type||(\"vbox\"==h.type||\n!h.getInputElement())||(h.requiredContent&&!this._.editor.activeFilter.check(h.requiredContent)?h.disable():(h.enable(),g++))}!g||d&&!this._.editor.activeFilter.check(d)?e[0].addClass(\"cke_dialog_tab_disabled\"):e[0].removeClass(\"cke_dialog_tab_disabled\")}}CKEDITOR.tools.setTimeout(function(){this.layout();T(this);this.parts.dialog.setStyle(\"visibility\",\"\");this.fireOnce(\"load\",{});CKEDITOR.ui.fire(\"ready\",this);this.fire(\"show\",{});this._.editor.fire(\"dialogShow\",this);this._.parentDialog||this._.editor.focusManager.lock();\nthis.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),e=(c.width-b.width)/2,d=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<d?d:0)>c.height||b.width+(0<e?e:0)>c.width?a.setStyle(\"position\",\"absolute\"):a.setStyle(\"position\",\"fixed\"));this.move(this._.moved?this._.position.x:e,this._.moved?this._.position.y:d)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,\nthis._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire(\"hide\",{});this._.editor.fire(\"dialogHide\",\nthis);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle(\"display\",\"none\");this.parts.dialog.setStyle(\"visibility\",\"hidden\");for(X(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle(\"z-index\",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else K(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=\n10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener(\"keydown\",M);a.removeListener(\"keyup\",N);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()})}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title=\"'+CKEDITOR.tools.htmlEncode(a.label)+'\"':\"\",e=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,\n{type:\"vbox\",className:\"cke_dialog_page_contents\",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||\"width: 100%;\"},b),d=this._.contents[a.id]={},g=e.getChild(),f=0;e=g.shift();)!e.notAllowed&&(\"hbox\"!=e.type&&\"vbox\"!=e.type)&&f++,d[e.id]=e,\"function\"==typeof e.getChild&&g.push.apply(g,e.getChild());f||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(\"\"));b.setAttribute(\"role\",\"tabpanel\");e=CKEDITOR.env;d=\"cke_\"+a.id+\"_\"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['<a class=\"cke_dialog_tab\"',\n0<this._.pageCount?\" cke_last\":\"cke_first\",c,a.hidden?' style=\"display:none\"':\"\",' id=\"',d,'\"',e.gecko&&!e.hc?\"\":' href=\"javascript:void(0)\"',' tabIndex=\"-1\" hidefocus=\"true\" role=\"tab\">',a.label,\"</a>\"].join(\"\"));b.setAttribute(\"aria-labelledby\",d);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute(\"name\",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(O(this,this,\"CTRL+\"+\na.accessKey,Y,Z),this._.accessKeyMap[\"CTRL+\"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass(\"cke_dialog_tab_disabled\")&&!1!==this.fire(\"selectPage\",{page:a,currentPage:this._.currentTabId})){for(var b in this._.tabs){var c=this._.tabs[b][0],e=this._.tabs[b][1];b!=a&&(c.removeClass(\"cke_dialog_tab_selected\"),e.hide());e.setAttribute(\"aria-hidden\",b!=a)}var d=this._.tabs[a];d[0].addClass(\"cke_dialog_tab_selected\");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?\n(G(d[1]),d[1].show(),setTimeout(function(){G(d[1],1)},0)):d[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?\"add\":\"remove\")+\"Class\"](\"cke_single_page\")},hidePage:function(a){var b=this._.tabs[a]&&this._.tabs[a][0];b&&(1!=this._.pageCount&&b.isVisible())&&(a==this._.currentTabId&&this.selectPage(t.call(this)),b.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&\nthis._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},\nenableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if(\"undefined\"==typeof b)b=this._.focusList.length,this._.focusList.push(new H(this,a,b));else{this._.focusList.splice(b,0,new H(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}}};\nCKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){if(!this._.dialogDefinitions[a]||\"function\"==typeof b)this._.dialogDefinitions[a]=b},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(RegExp(\"(?:^|;)\"+b+\":\"+c+\"(?:$|;)\",\"i\")))},okButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:\"ok\",type:\"button\",label:a.lang.common.ok,\"class\":\"cke_dialog_ui_button_ok\",\nonClick:function(a){a=a.data.dialog;!1!==a.fire(\"ok\",{hide:!0}).hide&&a.hide()}},c,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),cancelButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:\"cancel\",type:\"button\",label:a.lang.common.cancel,\"class\":\"cke_dialog_ui_button_cancel\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"cancel\",{hide:!0}).hide&&a.hide()}},c,!0)};a.type=\"button\";a.override=\nfunction(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var W={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},z=function(a,\nb,c){for(var e=0,d;d=a[e];e++)if(d.id==b||c&&d[c]&&(d=z(d[c],b,c)))return d;return null},A=function(a,b,c,e,d){if(c){for(var g=0,f;f=a[g];g++){if(f.id==c)return a.splice(g,0,b),b;if(e&&f[e]&&(f=A(f[e],b,c,e,!0)))return f}if(d)return null}a.push(b);return b},B=function(a,b,c){for(var e=0,d;d=a[e];e++){if(d.id==b)return a.splice(e,1);if(c&&d[c]&&(d=B(d[c],b,c)))return d}return null},L=function(a,b){this.dialog=a;for(var c=b.contents,e=0,d;d=c[e];e++)c[e]=d&&new I(a,d);CKEDITOR.tools.extend(this,b)};\nL.prototype={getContents:function(a){return z(this.contents,a)},getButton:function(a){return z(this.buttons,a)},addContents:function(a,b){return A(this.contents,a,b)},addButton:function(a,b){return A(this.buttons,a,b)},removeContents:function(a){B(this.contents,a)},removeButton:function(a){B(this.buttons,a)}};I.prototype={get:function(a){return z(this.elements,a,\"children\")},add:function(a,b){return A(this.elements,a,b,\"children\")},remove:function(a){B(this.elements,a,\"children\")}};var F,w={},q,s=\n{},M=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);if((b=s[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(e?\"SHIFT+\":\"\")+d])&&b.length)b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()},N=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);if((b=s[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(e?\"SHIFT+\":\"\")+d])&&b.length)b=b[b.length-\n1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},O=function(a,b,c,e,d){(s[c]||(s[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:d||a.accessKeyUp,keydown:e||a.accessKeyDown})},X=function(a){for(var b in s){for(var c=s[b],e=c.length-1;0<=e;e--)(c[e].dialog==a||c[e].uiElement==a)&&c.splice(e,1);0===c.length&&delete s[b]}},Z=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},Y=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,e,d,g,\nf){if(!(4>arguments.length)){var h=(e.call?e(b):e)||\"div\",m=[\"<\",h,\" \"],k=(d&&d.call?d(b):d)||{},i=(g&&g.call?g(b):g)||{},o=(f&&f.call?f.call(this,a,b):f)||\"\",j=this.domId=i.id||CKEDITOR.tools.getNextId()+\"_uiElement\";this.id=b.id;b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(k.display=\"none\",this.notAllowed=!0);i.id=j;var n={};b.type&&(n[\"cke_dialog_ui_\"+b.type]=1);b.className&&(n[b.className]=1);b.disabled&&(n.cke_disabled=1);for(var l=i[\"class\"]&&i[\"class\"].split?i[\"class\"].split(\" \"):\n[],j=0;j<l.length;j++)l[j]&&(n[l[j]]=1);l=[];for(j in n)l.push(j);i[\"class\"]=l.join(\" \");b.title&&(i.title=b.title);n=(b.style||\"\").split(\";\");b.align&&(l=b.align,k[\"margin-left\"]=\"left\"==l?0:\"auto\",k[\"margin-right\"]=\"right\"==l?0:\"auto\");for(j in k)n.push(j+\":\"+k[j]);b.hidden&&n.push(\"display:none\");for(j=n.length-1;0<=j;j--)\"\"===n[j]&&n.splice(j,1);0<n.length&&(i.style=(i.style?i.style+\"; \":\"\")+n.join(\"; \"));for(j in i)m.push(j+'=\"'+CKEDITOR.tools.htmlEncode(i[j])+'\" ');m.push(\">\",o,\"</\",h,\">\");\nc.push(m.join(\"\"));(this._||(this._={})).dialog=a;\"boolean\"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});\"function\"==typeof b.isChanged&&(this.isChanged=b.isChanged);\"function\"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));\"function\"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));\nCKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&(this.accessKeyDown&&b.accessKey)&&O(this,a,\"CTRL+\"+b.accessKey);var p=this;a.on(\"load\",function(){var b=p.getInputElement();if(b){var c=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?\"cke_dialog_ui_focused\":\"\";b.on(\"focus\",function(){a._.tabBarMode=false;a._.hasFocus=true;p.fire(\"focus\");c&&this.addClass(c)});b.on(\"blur\",function(){p.fire(\"blur\");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,\nb);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on(\"focus\",function(){a._.currentFocusIndex=p.focusIndex}))}},hbox:function(a,b,c,e,d){if(!(4>arguments.length)){this._||(this._={});var g=this._.children=b,f=d&&d.widths||null,h=d&&d.height||null,m,k={role:\"presentation\"};d&&d.align&&(k.align=d.align);CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:\"hbox\"},e,\"table\",{},k,function(){var a=['<tbody><tr class=\"cke_dialog_ui_hbox\">'];for(m=0;m<c.length;m++){var b=\n\"cke_dialog_ui_hbox_child\",e=[];0===m&&(b=\"cke_dialog_ui_hbox_first\");m==c.length-1&&(b=\"cke_dialog_ui_hbox_last\");a.push('<td class=\"',b,'\" role=\"presentation\" ');f?f[m]&&e.push(\"width:\"+r(f[m])):e.push(\"width:\"+Math.floor(100/c.length)+\"%\");h&&e.push(\"height:\"+r(h));d&&void 0!=d.padding&&e.push(\"padding:\"+r(d.padding));CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&g[m].align)&&e.push(\"text-align:\"+g[m].align);0<e.length&&a.push('style=\"'+e.join(\"; \")+'\" ');a.push(\">\",c[m],\"</td>\")}a.push(\"</tr></tbody>\");\nreturn a.join(\"\")})}},vbox:function(a,b,c,e,d){if(!(3>arguments.length)){this._||(this._={});var g=this._.children=b,f=d&&d.width||null,h=d&&d.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:\"vbox\"},e,\"div\",null,{role:\"presentation\"},function(){var b=['<table role=\"presentation\" cellspacing=\"0\" border=\"0\" '];b.push('style=\"');d&&d.expand&&b.push(\"height:100%;\");b.push(\"width:\"+r(f||\"100%\"),\";\");CKEDITOR.env.webkit&&b.push(\"float:none;\");b.push('\"');b.push('align=\"',CKEDITOR.tools.htmlEncode(d&&\nd.align||(\"ltr\"==a.getParentEditor().lang.dir?\"left\":\"right\")),'\" ');b.push(\"><tbody>\");for(var e=0;e<c.length;e++){var i=[];b.push('<tr><td role=\"presentation\" ');f&&i.push(\"width:\"+r(f||\"100%\"));h?i.push(\"height:\"+r(h[e])):d&&d.expand&&i.push(\"height:\"+Math.floor(100/c.length)+\"%\");d&&void 0!=d.padding&&i.push(\"padding:\"+r(d.padding));CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&g[e].align)&&i.push(\"text-align:\"+g[e].align);0<i.length&&b.push('style=\"',i.join(\"; \"),'\" ');b.push(' class=\"cke_dialog_ui_vbox_child\">',\nc[e],\"</td></tr>\")}b.push(\"</tbody></table>\");return b.join(\"\")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire(\"change\",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=\nthis.getInputElement();(a=a.getParent())&&-1==a.$.className.search(\"cke_dialog_page_contents\"););if(!a)return this;a=a.getAttribute(\"name\");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,e=function(a,b,c,d){b.on(\"load\",function(){a.getInputElement().on(c,d,a)})},d;for(d in a)if(c=d.match(b))this.eventProcessors[d]?this.eventProcessors[d].call(this,\nthis._.dialog,a[d]):e(this,this._.dialog,c[1].toLowerCase(),a[d]);return this},eventProcessors:{onLoad:function(a,b){a.on(\"load\",b,this)},onShow:function(a,b){a.on(\"show\",b,this)},onHide:function(a,b){a.on(\"hide\",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute(\"disabled\",\"true\");a.addClass(\"cke_disabled\")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute(\"disabled\");\na.removeClass(\"cke_disabled\")},isEnabled:function(){return!this.getElement().hasClass(\"cke_disabled\")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!this.isEnabled()||!this.isVisible()?!1:!0}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?\nthis._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,c,e){for(var d=c.children,g,f=[],h=[],m=0;m<d.length&&(g=d[m]);m++){var k=[];f.push(k);h.push(CKEDITOR.dialog._.uiElementBuilders[g.type].build(a,g,k))}return new CKEDITOR.ui.dialog[c.type](a,h,f,e,c)}};CKEDITOR.dialog.addUIElement(\"hbox\",a);CKEDITOR.dialog.addUIElement(\"vbox\",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;\nCKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){a.openDialog(this.dialogName)},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\\d*$/,c=/^\\d*(?:\\.\\d+)?$/,e=/^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,d=/^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,g=/^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():\na[0],c=void 0,d=CKEDITOR.VALIDATE_AND,e=[],g;for(g=0;g<a.length;g++)if(\"function\"==typeof a[g])e.push(a[g]);else break;g<a.length&&\"string\"==typeof a[g]&&(c=a[g],g++);g<a.length&&\"number\"==typeof a[g]&&(d=a[g]);var j=d==CKEDITOR.VALIDATE_AND?!0:!1;for(g=0;g<e.length;g++)j=d==CKEDITOR.VALIDATE_AND?j&&e[g](b):j||e[g](b);return!j?c:!0}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return!a.test(c)?b:!0}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,\na)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return g.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on(\"instanceDestroyed\",\nfunction(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in w)w[c].remove();w={}}var a=a.editor._.storedDialogs,d;for(d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,e=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&J(this);if(\"function\"==typeof e)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,\nc),c.show();else{if(\"failed\"==e)throw K(this),Error('[CKEDITOR.dialog.openDialog] Dialog \"'+a+'\" failed when loading definition.');\"string\"==typeof e&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e),function(){\"function\"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]=\"failed\");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart(\"dialog\");return c}})})();\nCKEDITOR.plugins.add(\"dialog\",{requires:\"dialogui\",init:function(t){t.on(\"doubleclick\",function(u){u.data.dialog&&t.openDialog(u.data.dialog)},null,null,999)}});(function(){function v(b){function a(){var e=b.editable();e.on(p,function(b){(!CKEDITOR.env.ie||!n)&&u(b)});CKEDITOR.env.ie&&e.on(\"paste\",function(e){q||(g(),e.data.preventDefault(),u(e),h(\"paste\")||b.openDialog(\"paste\"))});CKEDITOR.env.ie&&(e.on(\"contextmenu\",i,null,null,0),e.on(\"beforepaste\",function(b){b.data&&(!b.data.$.ctrlKey&&!b.data.$.shiftKey)&&i()},null,null,0));e.on(\"beforecut\",function(){!n&&j(b)});var a;e.attachListener(CKEDITOR.env.ie?e:b.document.getDocumentElement(),\"mouseup\",function(){a=\nsetTimeout(function(){r()},0)});b.on(\"destroy\",function(){clearTimeout(a)});e.on(\"keyup\",r)}function c(e){return{type:e,canUndo:\"cut\"==e,startDisabled:!0,exec:function(){\"cut\"==this.type&&j();var e;var a=this.type;if(CKEDITOR.env.ie)e=h(a);else try{e=b.document.$.execCommand(a,!1,null)}catch(d){e=!1}e||alert(b.lang.clipboard[this.type+\"Error\"]);return e}}}function d(){return{canUndo:!1,async:!0,exec:function(b,a){var d=function(a,d){a&&f(a.type,a.dataValue,!!d);b.fire(\"afterCommandExec\",{name:\"paste\",\ncommand:c,returnValue:!!a})},c=this;\"string\"==typeof a?d({type:\"auto\",dataValue:a},1):b.getClipboardData(d)}}}function g(){q=1;setTimeout(function(){q=0},100)}function i(){n=1;setTimeout(function(){n=0},10)}function h(e){var a=b.document,d=a.getBody(),c=!1,j=function(){c=!0};d.on(e,j);(7<CKEDITOR.env.version?a.$:a.$.selection.createRange()).execCommand(e);d.removeListener(e,j);return c}function f(e,a,d){e={type:e};if(d&&!1===b.fire(\"beforePaste\",e)||!a)return!1;e.dataValue=a;return b.fire(\"paste\",\ne)}function j(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e=b.getSelection(),a,d,c;if(e.getType()==CKEDITOR.SELECTION_ELEMENT&&(a=e.getSelectedElement()))d=e.getRanges()[0],c=b.document.createText(\"\"),c.insertBefore(a),d.setStartBefore(c),d.setEndAfter(a),e.selectRanges([d]),setTimeout(function(){a.getParent()&&(c.remove(),e.selectElement(a))},0)}}function l(a,d){var c=b.document,j=b.editable(),l=function(b){b.cancel()},g;if(!c.getById(\"cke_pastebin\")){var i=b.getSelection(),s=i.createBookmarks();\nCKEDITOR.env.ie&&i.root.fire(\"selectionchange\");var k=new CKEDITOR.dom.element((CKEDITOR.env.webkit||j.is(\"body\"))&&!CKEDITOR.env.ie?\"body\":\"div\",c);k.setAttributes({id:\"cke_pastebin\",\"data-cke-temp\":\"1\"});var f=0,c=c.getWindow();CKEDITOR.env.webkit?(j.append(k),k.addClass(\"cke_editable\"),j.is(\"body\")||(f=\"static\"!=j.getComputedStyle(\"position\")?j:CKEDITOR.dom.element.get(j.$.offsetParent),f=f.getDocumentPosition().y)):j.getAscendant(CKEDITOR.env.ie?\"body\":\"html\",1).append(k);k.setStyles({position:\"absolute\",\ntop:c.getScrollPosition().y-f+10+\"px\",width:\"1px\",height:Math.max(1,c.getViewPaneSize().height-20)+\"px\",overflow:\"hidden\",margin:0,padding:0});CKEDITOR.env.safari&&k.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"text\"));(f=k.getParent().isReadOnly())?(k.setOpacity(0),k.setAttribute(\"contenteditable\",!0)):k.setStyle(\"ltr\"==b.config.contentsLangDirection?\"left\":\"right\",\"-1000px\");b.on(\"selectionChange\",l,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)g=j.once(\"blur\",l,null,null,-100);\nf&&k.focus();f=new CKEDITOR.dom.range(k);f.selectNodeContents(k);var h=f.select();CKEDITOR.env.ie&&(g=j.once(\"blur\",function(){b.lockSelection(h)}));var m=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){if(CKEDITOR.env.webkit)CKEDITOR.document.getBody().$.scrollTop=m;g&&g.removeListener();CKEDITOR.env.ie&&j.focus();i.selectBookmarks(s);k.remove();var a;if(CKEDITOR.env.webkit&&(a=k.getFirst())&&a.is&&a.hasClass(\"Apple-style-span\"))k=a;b.removeListener(\"selectionChange\",l);\nd(k.getHtml())},0)}}function s(){if(CKEDITOR.env.ie){b.focus();g();var a=b.focusManager;a.lock();if(b.editable().fire(p)&&!h(\"paste\"))return a.unlock(),!1;a.unlock()}else try{if(b.editable().fire(p)&&!b.document.$.execCommand(\"Paste\",!1,null))throw 0;}catch(d){return!1}return!0}function o(a){if(\"wysiwyg\"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=b.editable();g();!CKEDITOR.env.ie&&a.fire(\"beforepaste\");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire(\"saveSnapshot\"),\nsetTimeout(function(){b.fire(\"saveSnapshot\")},50)}}function u(a){var d={type:\"auto\"},c=b.fire(\"beforePaste\",d);l(a,function(b){b=b.replace(/<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig,\"\");c&&f(d.type,b,0,1)})}function r(){if(\"wysiwyg\"==b.mode){var a=m(\"paste\");b.getCommand(\"cut\").setState(m(\"cut\"));b.getCommand(\"copy\").setState(m(\"copy\"));b.getCommand(\"paste\").setState(a);b.fire(\"pasteState\",a)}}function m(a){if(t&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(\"paste\"==a)return CKEDITOR.TRISTATE_OFF;\nvar a=b.getSelection(),d=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==d.length&&d[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var n=0,q=0,t=0,p=CKEDITOR.env.ie?\"beforepaste\":\"paste\";(function(){b.on(\"key\",o);b.on(\"contentDom\",a);b.on(\"selectionChange\",function(b){t=b.data.selection.getRanges()[0].checkReadOnly();r()});b.contextMenu&&b.contextMenu.addListener(function(b,a){t=a.getRanges()[0].checkReadOnly();return{cut:m(\"cut\"),copy:m(\"copy\"),paste:m(\"paste\")}})})();\n(function(){function a(d,c,j,e,l){var g=b.lang.clipboard[c];b.addCommand(c,j);b.ui.addButton&&b.ui.addButton(d,{label:g,command:c,toolbar:\"clipboard,\"+e});b.addMenuItems&&b.addMenuItem(c,{label:g,command:c,group:\"clipboard\",order:l})}a(\"Cut\",\"cut\",c(\"cut\"),10,1);a(\"Copy\",\"copy\",c(\"copy\"),20,4);a(\"Paste\",\"paste\",d(),30,8)})();b.getClipboardData=function(a,d){function c(a){a.removeListener();a.cancel();d(a.data)}function j(a){a.removeListener();a.cancel();i=!0;d({type:f,dataValue:a.data})}function l(){this.customTitle=\na&&a.title}var g=!1,f=\"auto\",i=!1;d||(d=a,a=null);b.on(\"paste\",c,null,null,0);b.on(\"beforePaste\",function(a){a.removeListener();g=true;f=a.data.type},null,null,1E3);!1===s()&&(b.removeListener(\"paste\",c),g&&b.fire(\"pasteDialog\",l)?(b.on(\"pasteDialogCommit\",j),b.on(\"dialogHide\",function(a){a.removeListener();a.data.removeListener(\"pasteDialogCommit\",j);setTimeout(function(){i||d(null)},10)})):d(null))}}function w(b){if(CKEDITOR.env.webkit){if(!b.match(/^[^<]*$/g)&&!b.match(/^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi))return\"html\"}else if(CKEDITOR.env.ie){if(!b.match(/^([^<]|<br( ?\\/)?>)*$/gi)&&\n!b.match(/^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi))return\"html\"}else if(CKEDITOR.env.gecko){if(!b.match(/^([^<]|<br( ?\\/)?>)*$/gi))return\"html\"}else return\"html\";return\"htmlifiedtext\"}function x(b,a){function c(a){return CKEDITOR.tools.repeat(\"</p><p>\",~~(a/2))+(1==a%2?\"<br>\":\"\")}a=a.replace(/\\s+/g,\" \").replace(/> +</g,\"><\").replace(/<br ?\\/>/gi,\"<br>\");a=a.replace(/<\\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(a.match(/^[^<]$/))return a;CKEDITOR.env.webkit&&-1<a.indexOf(\"<div>\")&&(a=a.replace(/^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g,\n\"<br>\").replace(/^(<div>(<br>|)<\\/div>){2}(?!$)/g,\"<div></div>\"),a.match(/<div>(<br>|)<\\/div>/)&&(a=\"<p>\"+a.replace(/(<div>(<br>|)<\\/div>)+/g,function(a){return c(a.split(\"</div><div>\").length+1)})+\"</p>\"),a=a.replace(/<\\/div><div>/g,\"<br>\"),a=a.replace(/<\\/?div>/g,\"\"));CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(a=a.replace(/^<br><br>$/,\"<br>\")),-1<a.indexOf(\"<br><br>\")&&(a=\"<p>\"+a.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+\"</p>\"));return o(b,a)}function y(){var b=\nnew CKEDITOR.htmlParser.filter,a={blockquote:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,p:1,table:1,ul:1},c=CKEDITOR.tools.extend({br:0},CKEDITOR.dtd.$inline),d={p:1,br:1,\"cke:br\":1},g=CKEDITOR.dtd,i=CKEDITOR.tools.extend({area:1,basefont:1,embed:1,iframe:1,map:1,object:1,param:1},CKEDITOR.dtd.$nonBodyContent,CKEDITOR.dtd.$cdata),h=function(a){delete a.name;a.add(new CKEDITOR.htmlParser.text(\" \"))},f=function(a){for(var b=a,c;(b=b.next)&&b.name&&b.name.match(/^h\\d$/);){c=new CKEDITOR.htmlParser.element(\"cke:br\");\nc.isEmpty=!0;for(a.add(c);c=b.children.shift();)a.add(c)}};b.addRules({elements:{h1:f,h2:f,h3:f,h4:f,h5:f,h6:f,img:function(a){var a=CKEDITOR.tools.trim(a.attributes.alt||\"\"),b=\" \";a&&!a.match(/(^http|\\.(jpe?g|gif|png))/i)&&(b=\" [\"+a+\"] \");return new CKEDITOR.htmlParser.text(b)},td:h,th:h,$:function(b){var f=b.name,h;if(i[f])return!1;b.attributes={};if(\"br\"==f)return b;if(a[f])b.name=\"p\";else if(c[f])delete b.name;else if(g[f]){h=new CKEDITOR.htmlParser.element(\"cke:br\");h.isEmpty=!0;if(CKEDITOR.dtd.$empty[f])return h;\nb.add(h,0);h=h.clone();h.isEmpty=!0;b.add(h);delete b.name}d[b.name]||delete b.name;return b}}},{applyToAll:!0});return b}function z(b,a,c){var a=new CKEDITOR.htmlParser.fragment.fromHtml(a),d=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(d,c);var a=d.getHtml(),a=a.replace(/\\s*(<\\/?[a-z:]+ ?\\/?>)\\s*/g,\"$1\").replace(/(<cke:br \\/>){2,}/g,\"<cke:br />\").replace(/(<cke:br \\/>)(<\\/?p>|<br \\/>)/g,\"$2\").replace(/(<\\/?p>|<br \\/>)(<cke:br \\/>)/g,\"$1\").replace(/<(cke:)?br( \\/)?>/g,\"<br>\").replace(/<p><\\/p>/g,\n\"\"),g=0,a=a.replace(/<\\/?p>/g,function(a){if(\"<p>\"==a){if(1<++g)return\"</p><p>\"}else if(0<--g)return\"</p><p>\";return a}).replace(/<p><\\/p>/g,\"\");return o(b,a)}function o(b,a){b.enterMode==CKEDITOR.ENTER_BR?a=a.replace(/(<\\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat(\"<br>\",2*(a.length/7))}).replace(/<\\/?p>/g,\"\"):b.enterMode==CKEDITOR.ENTER_DIV&&(a=a.replace(/<(\\/)?p>/g,\"<$1div>\"));return a}CKEDITOR.plugins.add(\"clipboard\",{requires:\"dialog\",init:function(b){var a;v(b);CKEDITOR.dialog.add(\"paste\",\nCKEDITOR.getUrl(this.path+\"dialogs/paste.js\"));b.on(\"paste\",function(a){var b=a.data.dataValue,g=CKEDITOR.dtd.$block;-1<b.indexOf(\"Apple-\")&&(b=b.replace(/<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi,\" \"),\"html\"!=a.data.type&&(b=b.replace(/<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi,function(a,b){return b.replace(/\\t/g,\"&nbsp;&nbsp; &nbsp;\")})),-1<b.indexOf('<br class=\"Apple-interchange-newline\">')&&(a.data.startsWithEOL=1,a.data.preSniffing=\"html\",b=b.replace(/<br class=\"Apple-interchange-newline\">/,\n\"\")),b=b.replace(/(<[^>]+) class=\"Apple-[^\"]*\"/gi,\"$1\"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var i,h,f=new CKEDITOR.dom.element(\"div\");for(f.setHtml(b);1==f.getChildCount()&&(i=f.getFirst())&&i.type==CKEDITOR.NODE_ELEMENT&&(i.hasClass(\"cke_editable\")||i.hasClass(\"cke_contents\"));)f=h=i;h&&(b=h.getHtml().replace(/<br>$/i,\"\"))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\\r\\n)?<(\\w+)/g,function(b,d){if(d.toLowerCase()in g){a.data.preSniffing=\"html\";return\"<\"+d}return b}):CKEDITOR.env.webkit?\nb=b.replace(/<\\/(\\w+)><div><br><\\/div>$/,function(b,d){if(d in g){a.data.endsWithEOL=1;return\"</\"+d+\">\"}return b}):CKEDITOR.env.gecko&&(b=b.replace(/(\\s)<br>$/,\"$1\"));a.data.dataValue=b},null,null,3);b.on(\"paste\",function(c){var c=c.data,d=c.type,g=c.dataValue,i,h=b.config.clipboard_defaultContentType||\"html\";i=\"html\"==d||\"html\"==c.preSniffing?\"html\":w(g);\"htmlifiedtext\"==i?g=x(b.config,g):\"text\"==d&&\"html\"==i&&(g=z(b.config,g,a||(a=y(b))));c.startsWithEOL&&(g='<br data-cke-eol=\"1\">'+g);c.endsWithEOL&&\n(g+='<br data-cke-eol=\"1\">');\"auto\"==d&&(d=\"html\"==i||\"html\"==h?\"html\":\"text\");c.type=d;c.dataValue=g;delete c.preSniffing;delete c.startsWithEOL;delete c.endsWithEOL},null,null,6);b.on(\"paste\",function(a){a=a.data;b.insertHtml(a.dataValue,a.type);setTimeout(function(){b.fire(\"afterPaste\")},0)},null,null,1E3);b.on(\"pasteDialog\",function(a){setTimeout(function(){b.openDialog(\"paste\",a.data)},0)})}})})();(function(){CKEDITOR.plugins.add(\"panel\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL=\"panel\";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:\"\",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var f=CKEDITOR.addTemplate(\"panel\",\n'<div lang=\"{langCode}\" id=\"{id}\" dir={dir} class=\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\" style=\"z-index:{z-index}\" role=\"presentation\">{frame}</div>'),g=CKEDITOR.addTemplate(\"panel-frame\",'<iframe id=\"{id}\" class=\"cke_panel_frame\" role=\"presentation\" frameborder=\"0\" src=\"{src}\"></iframe>'),h=CKEDITOR.addTemplate(\"panel-frame-inner\",'<!DOCTYPE html><html class=\"cke_panel_container {env}\" dir=\"{dir}\" lang=\"{langCode}\"><head>{css}</head><body class=\"cke_{dir}\" style=\"margin:0;padding:0\" onload=\"{onload}\"></body></html>');\nCKEDITOR.ui.panel.prototype={render:function(a,b){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+\"_frame\"),b=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(h.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:\"window.parent.CKEDITOR.tools.callFunction(\"+\nb+\");\"},d)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on(\"keydown\",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute(\"dir\");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==(\"rtl\"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};var d={editorId:a.id,id:this.id,langCode:a.langCode,\ndir:a.lang.dir,cls:this.className,frame:\"\",env:CKEDITOR.env.cssClass,\"z-index\":a.config.baseFloatZIndex+1};if(this.isFramed){var e=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\":\"\";d.frame=g.output({id:this.id+\"_frame\",src:e})}e=f.output(d);b&&b.push(e);return e},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),\nb);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){var a=this._.blocks[a],b=this._.currentBlock,d=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+\"_frame\");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire(\"ariaWidget\",d);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=\nCKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement(\"div\",{attributes:{tabindex:-1,\"class\":\"cke_panel_block\"},styles:{display:\"none\"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||\"presentation\",\"aria-label\":this.attributes[\"aria-label\"],title:this.attributes.title||this.attributes[\"aria-label\"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag(\"a\").getItem(this._.focusIndex=\na),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))}},proto:{show:function(){this.element.setStyle(\"display\",\"\")},hide:function(){(!this.onHide||!0!==this.onHide.call(this))&&this.element.setStyle(\"display\",\"none\")},onKeyDown:function(a,b){var d=this.keys[a];switch(d){case \"next\":for(var e=this._.focusIndex,d=this.element.getElementsByTag(\"a\"),c;c=d.getItem(++e);)if(c.getAttribute(\"_cke_focus\")&&c.$.offsetWidth){this._.focusIndex=e;c.focus();break}return!c&&\n!b?(this._.focusIndex=-1,this.onKeyDown(a,1)):!1;case \"prev\":e=this._.focusIndex;for(d=this.element.getElementsByTag(\"a\");0<e&&(c=d.getItem(--e));){if(c.getAttribute(\"_cke_focus\")&&c.$.offsetWidth){this._.focusIndex=e;c.focus();break}c=null}return!c&&!b?(this._.focusIndex=d.count(),this.onKeyDown(a,1)):!1;case \"click\":case \"mouseup\":return e=this._.focusIndex,(c=0<=e&&this.element.getElementsByTag(\"a\").getItem(e))&&(c.$[d]?c.$[d]():c.$[\"on\"+d]()),!1}return!0}}})})();CKEDITOR.plugins.add(\"floatpanel\",{requires:\"panel\"});\n(function(){function r(a,b,c,i,f){var f=CKEDITOR.tools.genKey(b.getUniqueId(),c.getUniqueId(),a.lang.dir,a.uiColor||\"\",i.css||\"\",f||\"\"),h=g[f];h||(h=g[f]=new CKEDITOR.ui.panel(b,i),h.element=c.append(CKEDITOR.dom.element.createFromHtml(h.render(a),b)),h.element.setStyles({display:\"none\",position:\"absolute\"}));return h}var g={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(a,b,c,i){function f(){d.hide()}c.forceIFrame=1;c.toolbarRelated&&a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&\n(b=CKEDITOR.document.getById(\"cke_\"+a.name));var h=b.getDocument(),i=r(a,h,b,c,i||0),j=i.element,l=j.getFirst(),d=this;j.disableContextMenu();this.element=j;this._={editor:a,panel:i,parentElement:b,definition:c,document:h,iframe:l,children:[],dir:a.lang.dir};a.on(\"mode\",f);a.on(\"resize\",f);if(!CKEDITOR.env.iOS)h.getWindow().on(\"resize\",f)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},\nshowBlock:function(a,b,c,i,f,h){var j=this._.panel,l=j.showBlock(a);this.allowBlur(!1);a=this._.editor.editable();this._.returnFocus=a.hasFocus?a:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var d=this.element,a=this._.iframe,a=CKEDITOR.env.ie?a:new CKEDITOR.dom.window(a.$.contentWindow),g=d.getDocument(),o=this._.parentElement.getPositionedAncestor(),p=b.getDocumentPosition(g),g=o?o.getDocumentPosition(g):{x:0,y:0},m=\"rtl\"==this._.dir,e=p.x+(i||0)-g.x,k=p.y+(f||\n0)-g.y;if(m&&(1==c||4==c))e+=b.$.offsetWidth;else if(!m&&(2==c||3==c))e+=b.$.offsetWidth-1;if(3==c||4==c)k+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();d.setStyles({top:k+\"px\",left:0,display:\"\"});d.setOpacity(0);d.getFirst().removeStyle(\"width\");this._.editor.focusManager.add(a);this._.blurSet||(CKEDITOR.event.useCapture=!0,a.on(\"blur\",function(a){function q(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&(this.visible&&!this._.activeChild)&&\n(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(q,0,this)):q.call(this))},this),a.on(\"focus\",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(a.on(\"touchstart\",function(){clearTimeout(this._.hideTimeout)},this),a.on(\"touchend\",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);j.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&this.onEscape(a)===false)return false},\nthis);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){d.removeStyle(\"width\");if(l.autoSize){var a=l.element.getDocument(),a=(CKEDITOR.env.webkit?l.element:a.getBody()).$.scrollWidth;CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&a>0)&&(a=a+((d.$.offsetWidth||0)-(d.$.clientWidth||0)+3));d.setStyle(\"width\",a+10+\"px\");a=l.element.$.scrollHeight;CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&a>0)&&(a=a+((d.$.offsetHeight||0)-(d.$.clientHeight||0)+3));d.setStyle(\"height\",a+\"px\");j._.currentBlock.element.setStyle(\"display\",\n\"none\").removeStyle(\"display\")}else d.removeStyle(\"height\");m&&(e=e-d.$.offsetWidth);d.setStyle(\"left\",e+\"px\");var b=j.element.getWindow(),a=d.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,f=a.height||a.bottom-a.top,i=m?a.right:b.width-a.left,g=m?b.width-a.right:a.left;m?i<c&&(e=g>c?e+c:b.width>c?e-a.left:e-a.right+b.width):i<c&&(e=g>c?e-c:b.width>c?e-a.right+b.width:e-a.left);c=a.top;b.height-a.top<f&&(k=c>f?k-f:b.height>f?k-a.bottom+b.height:k-a.top);if(CKEDITOR.env.ie){b=\na=new CKEDITOR.dom.element(d.$.offsetParent);b.getName()==\"html\"&&(b=b.getDocument().getBody());b.getComputedStyle(\"direction\")==\"rtl\"&&(e=CKEDITOR.env.ie8Compat?e-d.getDocument().getDocumentElement().$.scrollLeft*2:e-(a.$.scrollWidth-a.$.clientWidth))}var a=d.getFirst(),n;(n=a.getCustomData(\"activePanel\"))&&n.onHide&&n.onHide.call(this,1);a.setCustomData(\"activePanel\",this);d.setStyles({top:k+\"px\",left:e+\"px\"});d.setOpacity(1);h&&h()},this);j.isLoaded?a():j.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=\nCKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();l.element.focus();if(CKEDITOR.env.webkit)CKEDITOR.document.getBody().$.scrollTop=a;this.allowBlur(true);this._.editor.fire(\"panelShow\",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},\nblur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is(\"a\")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle(\"display\",\"none\");this.visible=0;this.element.getFirst().removeCustomData(\"activePanel\");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;\nthis._.editor.fire(\"panelHide\",this)}},allowBlur:function(a){var b=this._.panel;void 0!=a&&(b.allowBlur=a);return b.allowBlur},showAsChild:function(a,b,c,g,f,h){this._.activeChild==a&&a._.panel._.offsetParentId==c.getId()||(this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(b,c,g,f,h),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=\n\"\"},100))},hideChild:function(a){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),a&&this.focus())}}});CKEDITOR.on(\"instanceDestroyed\",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),b;for(b in g){var c=g[b];a?c.destroy():c.element.hide()}a&&(g={})})})();CKEDITOR.plugins.add(\"menu\",{requires:\"floatpanel\",beforeInit:function(g){for(var h=g.config.menu_groups.split(\",\"),m=g._.menuGroups={},l=g._.menuItems={},a=0;a<h.length;a++)m[h[a]]=a+1;g.addMenuGroup=function(b,a){m[b]=a||100};g.addMenuItem=function(a,c){m[c.group]&&(l[a]=new CKEDITOR.menuItem(this,a,c))};g.addMenuItems=function(a){for(var c in a)this.addMenuItem(c,a[c])};g.getMenuItem=function(a){return l[a]};g.removeMenuItem=function(a){delete l[a]}}});\n(function(){function g(a){a.sort(function(a,c){return a.group<c.group?-1:a.group>c.group?1:a.order<c.order?-1:a.order>c.order?1:0})}var h='<span class=\"cke_menuitem\"><a id=\"{id}\" class=\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href=\"{href}\" title=\"{title}\" tabindex=\"-1\"_cke_focus=1 hidefocus=\"true\" role=\"{role}\" aria-haspopup=\"{hasPopup}\" aria-disabled=\"{disabled}\" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(h+=' onkeypress=\"return false;\"');CKEDITOR.env.gecko&&\n(h+=' onblur=\"this.style.cssText = this.style.cssText;\"');var h=h+(' onmouseover=\"CKEDITOR.tools.callFunction({hoverFn},{index});\" onmouseout=\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" '+(CKEDITOR.env.ie?'onclick=\"return false;\" onmouseup':\"onclick\")+'=\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\">'),m=CKEDITOR.addTemplate(\"menuItem\",h+'<span class=\"cke_menubutton_inner\"><span class=\"cke_menubutton_icon\"><span class=\"cke_button_icon cke_button__{iconName}_icon\" style=\"{iconStyle}\"></span></span><span class=\"cke_menubutton_label\">{label}</span>{arrowHtml}</span></a></span>'),\nl=CKEDITOR.addTemplate(\"menuArrow\",'<span class=\"cke_menuarrow\"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath(\"editor\")],level:this._.level-1,block:{}}),k=c.block.attributes=c.attributes||{};!k.role&&(k.role=\"menu\");this._.panelDefinition=c},_:{onShow:function(){var a=\nthis.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),k=this._.listeners;this.removeAll();for(var e=0;e<k.length;e++){var j=k[e](b,a,c);if(j)for(var i in j){var f=this.editor.getMenuItem(i);if(f&&(!f.command||this.editor.getCommand(f.command).state))f.state=j[i],this.add(f)}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},\nonHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var k in c){var e=this.editor.getMenuItem(k);e&&(e.state=c[k],b.add(e))}var j=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+(\"\"+a));setTimeout(function(){b.show(j,\n2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(a,b,c,k){if(!this.parent&&(this._.onShow(),!this.items.length))return;var b=b||(\"rtl\"==this.editor.lang.dir?2:1),e=this.items,j=this.editor,i=this._.panel,f=this._.element;if(!i){i=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);i.onEscape=CKEDITOR.tools.bind(function(a){if(!1===\nthis._.onEscape(a))return!1},this);i.onShow=function(){i._.panel.getHolderElement().getParent().addClass(\"cke cke_reset_all\")};i.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);f=i.addBlock(this.id,this._.panelDefinition.block);f.autoSize=!0;var d=f.keys;d[40]=\"next\";d[9]=\"next\";d[38]=\"prev\";d[CKEDITOR.SHIFT+9]=\"prev\";d[\"rtl\"==j.lang.dir?37:39]=CKEDITOR.env.ie?\"mouseup\":\"click\";d[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(d[13]=\"mouseup\");f=this._.element=\nf.element;d=f.getDocument();d.getBody().setStyle(\"overflow\",\"hidden\");d.getElementsByTag(\"html\").getItem(0).setStyle(\"overflow\",\"hidden\");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,j.config.menu_subMenuDelay||400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=\nthis.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}g(e);for(var d=j.elementPath(),d=['<div class=\"cke_menu'+(d&&d.direction()!=j.lang.dir?\" cke_mixed_dir_content\":\"\")+'\" role=\"presentation\">'],h=e.length,m=h&&e[0].group,l=0;l<h;l++){var n=e[l];m!=n.group&&(d.push('<div class=\"cke_menuseparator\" role=\"separator\"></div>'),m=n.group);n.render(this,l,d)}d.push(\"</div>\");f.setHtml(d.join(\"\"));CKEDITOR.ui.fire(\"ready\",\nthis);this.parent?this.parent._.panel.showAsChild(i,this.id,a,b,c,k):i.showBlock(this.id,a,b,c,k);j.fire(\"menuShow\",[i])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:\"cke_menubutton__\"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,b,c){var h=a.id+(\"\"+\nb),e=\"undefined\"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,j=\"\",i=e==CKEDITOR.TRISTATE_ON?\"on\":e==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(j=' aria-checked=\"'+(e==CKEDITOR.TRISTATE_ON?\"true\":\"false\")+'\"');var f=this.getItems,d=\"&#\"+(\"rtl\"==this.editor.lang.dir?\"9668\":\"9658\")+\";\",g=this.name;this.icon&&!/\\./.test(this.icon)&&(g=this.icon);a={id:h,name:this.name,iconName:g,label:this.label,cls:this.className||\"\",state:i,hasPopup:f?\"true\":\n\"false\",disabled:e==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:\"javascript:void('\"+(this.label||\"\").replace(\"'\")+\"')\",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:b,iconStyle:CKEDITOR.skin.getIconStyle(g,\"rtl\"==this.editor.lang.dir,g==this.icon?null:this.icon,this.iconOffset),arrowHtml:f?l.output({label:d}):\"\",role:this.role?this.role:\"menuitem\",ariaChecked:j};m.output(a,c)}}})})();CKEDITOR.config.menu_groups=\"clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div\";CKEDITOR.plugins.add(\"contextmenu\",{requires:\"menu\",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,e){a.on(\"contextmenu\",function(a){var a=a.data,c=CKEDITOR.env.webkit?f:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!e||!c){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var c=this.editor,\nb=(new CKEDITOR.dom.elementPath(a.getTarget(),c.editable())).contains(function(a){return a.hasAttribute(\"contenteditable\")},!0);b&&\"false\"==b.getAttribute(\"contenteditable\")&&c.getSelection().fake(b)}var b=a.getTarget().getDocument(),d=a.getTarget().getDocument().getDocumentElement(),c=!b.equals(CKEDITOR.document),b=b.getWindow().getScrollPosition(),g=c?a.$.clientX:a.$.pageX||b.x+a.$.clientX,h=c?a.$.clientY:a.$.pageY||b.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(d,null,g,h)},CKEDITOR.env.ie?\n200:0,this)}},this);if(CKEDITOR.env.webkit){var f,d=function(){f=0};a.on(\"keydown\",function(a){f=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on(\"keyup\",d);a.on(\"contextmenu\",d)}},open:function(a,e,f,d){this.editor.focus();a=a||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);this.show(a,e,f,d)}}})},beforeInit:function(a){var e=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on(\"contentDom\",function(){e.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});\na.addCommand(\"contextMenu\",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,\"contextMenu\");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,\"contextMenu\")}});CKEDITOR.plugins.add(\"resize\",{init:function(b){var f,g,n,o,a=b.config,q=b.ui.spaceId(\"resizer\"),h=b.element?b.element.getDirection(1):\"ltr\";!a.resize_dir&&(a.resize_dir=\"vertical\");void 0==a.resize_maxWidth&&(a.resize_maxWidth=3E3);void 0==a.resize_maxHeight&&(a.resize_maxHeight=3E3);void 0==a.resize_minWidth&&(a.resize_minWidth=750);void 0==a.resize_minHeight&&(a.resize_minHeight=250);if(!1!==a.resize_enabled){var c=null,i=(\"both\"==a.resize_dir||\"horizontal\"==a.resize_dir)&&a.resize_minWidth!=a.resize_maxWidth,\nl=(\"both\"==a.resize_dir||\"vertical\"==a.resize_dir)&&a.resize_minHeight!=a.resize_maxHeight,j=function(d){var e=f,m=g,c=e+(d.data.$.screenX-n)*(\"rtl\"==h?-1:1),d=m+(d.data.$.screenY-o);i&&(e=Math.max(a.resize_minWidth,Math.min(c,a.resize_maxWidth)));l&&(m=Math.max(a.resize_minHeight,Math.min(d,a.resize_maxHeight)));b.resize(i?e:null,m)},k=function(){CKEDITOR.document.removeListener(\"mousemove\",j);CKEDITOR.document.removeListener(\"mouseup\",k);b.document&&(b.document.removeListener(\"mousemove\",j),b.document.removeListener(\"mouseup\",\nk))},p=CKEDITOR.tools.addFunction(function(d){c||(c=b.getResizable());f=c.$.offsetWidth||0;g=c.$.offsetHeight||0;n=d.screenX;o=d.screenY;a.resize_minWidth>f&&(a.resize_minWidth=f);a.resize_minHeight>g&&(a.resize_minHeight=g);CKEDITOR.document.on(\"mousemove\",j);CKEDITOR.document.on(\"mouseup\",k);b.document&&(b.document.on(\"mousemove\",j),b.document.on(\"mouseup\",k));d.preventDefault&&d.preventDefault()});b.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(p)});b.on(\"uiSpace\",function(a){if(\"bottom\"==\na.data.space){var e=\"\";i&&!l&&(e=\" cke_resizer_horizontal\");!i&&l&&(e=\" cke_resizer_vertical\");var c='<span id=\"'+q+'\" class=\"cke_resizer'+e+\" cke_resizer_\"+h+'\" title=\"'+CKEDITOR.tools.htmlEncode(b.lang.common.resize)+'\" onmousedown=\"CKEDITOR.tools.callFunction('+p+', event)\">'+(\"ltr\"==h?\"\":\"\")+\"</span>\";\"ltr\"==h&&\"ltr\"==e?a.data.html+=c:a.data.html=c+a.data.html}},b,null,100);b.on(\"maximize\",function(a){b.ui.space(\"resizer\")[a.data==CKEDITOR.TRISTATE_ON?\"hide\":\"show\"]()})}}});(function(){var c='<a id=\"{id}\" class=\"cke_button cke_button__{name} cke_button_{state} {cls}\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href=\\\"javascript:void('{titleJs}')\\\"\")+' title=\"{title}\" tabindex=\"-1\" hidefocus=\"true\" role=\"button\" aria-labelledby=\"{id}_label\" aria-haspopup=\"{hasArrow}\" aria-disabled=\"{ariaDisabled}\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress=\"return false;\"');CKEDITOR.env.gecko&&(c+=' onblur=\"this.style.cssText = this.style.cssText;\"');var c=c+(' onkeydown=\"return CKEDITOR.tools.callFunction({keydownFn},event);\" onfocus=\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+\n(CKEDITOR.env.ie?'onclick=\"return false;\" onmouseup':\"onclick\")+'=\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"><span class=\"cke_button_icon cke_button__{iconName}_icon\" style=\"{style}\"'),c=c+'>&nbsp;</span><span id=\"{id}_label\" class=\"cke_button_label cke_button__{name}_label\" aria-hidden=\"false\">{label}</span>{arrowHtml}</a>',m=CKEDITOR.addTemplate(\"buttonArrow\",'<span class=\"cke_button_arrow\">'+(CKEDITOR.env.hc?\"&#9660;\":\"\")+\"</span>\"),n=CKEDITOR.addTemplate(\"button\",c);CKEDITOR.plugins.add(\"button\",\n{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON=\"button\";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,b){var c=CKEDITOR.env,i=this._.id=CKEDITOR.tools.getNextId(),e=\"\",f=this.command,k;this._.editor=a;var d={id:i,button:this,\neditor:a,focus:function(){CKEDITOR.document.getById(i).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},o=CKEDITOR.tools.addFunction(function(a){if(d.onkey)return a=new CKEDITOR.dom.event(a),!1!==d.onkey(d,a.getKeystroke())}),p=CKEDITOR.tools.addFunction(function(a){var b;d.onfocus&&(b=!1!==d.onfocus(d,new CKEDITOR.dom.event(a)));return b}),l=0;d.clickFn=k=CKEDITOR.tools.addFunction(function(){l&&(a.unlockSelection(1),l=0);d.execute();c.iOS&&a.focus()});\nif(this.modes){var j={},g=function(){var b=a.mode;b&&(b=this.modes[b]?void 0!=j[b]?j[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b,this.setState(b),this.refresh&&this.refresh())};a.on(\"beforeModeUnload\",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(j[a.mode]=this._.state)},this);a.on(\"activeFilterChange\",g,this);a.on(\"mode\",g,this);!this.readOnly&&a.on(\"readOnly\",g,this)}else if(f&&(f=a.getCommand(f)))f.on(\"state\",function(){this.setState(f.state)},\nthis),e+=f.state==CKEDITOR.TRISTATE_ON?\"on\":f.state==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";if(this.directional)a.on(\"contentDirChanged\",function(b){var c=CKEDITOR.document.getById(this._.id),d=c.getFirst(),b=b.data;b!=a.lang.dir?c.addClass(\"cke_\"+b):c.removeClass(\"cke_ltr\").removeClass(\"cke_rtl\");d.setAttribute(\"style\",CKEDITOR.skin.getIconStyle(h,\"rtl\"==b,this.icon,this.iconOffset))},this);f||(e+=\"off\");var h=g=this.name||this.command;this.icon&&!/\\./.test(this.icon)&&(h=this.icon,this.icon=\nnull);e={id:i,name:g,iconName:h,label:this.label,cls:this.className||\"\",state:e,ariaDisabled:\"disabled\"==e?\"true\":\"false\",title:this.title,titleJs:c.gecko&&!c.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),hasArrow:this.hasArrow?\"true\":\"false\",keydownFn:o,focusFn:p,clickFn:k,style:CKEDITOR.skin.getIconStyle(h,\"rtl\"==a.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?m.output():\"\"};n.output(e,b);if(this.onRender)this.onRender();return d},setState:function(a){if(this._.state==a)return!1;this._.state=\na;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,\"cke_button\"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\"),this.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+\"_label\").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute(\"aria-pressed\",!0):b.removeAttribute(\"aria-pressed\"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;\nvar b=this;!this.allowedContent&&(!this.requiredContent&&this.command)&&(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}})();(function(){function w(a){function d(){for(var b=g(),e=CKEDITOR.tools.clone(a.config.toolbarGroups)||n(a),f=0;f<e.length;f++){var k=e[f];if(\"/\"!=k){\"string\"==typeof k&&(k=e[f]={name:k});var i,d=k.groups;if(d)for(var h=0;h<d.length;h++)i=d[h],(i=b[i])&&c(k,i);(i=b[k.name])&&c(k,i)}}return e}function g(){var b={},c,f,e;for(c in a.ui.items)f=a.ui.items[c],e=f.toolbar||\"others\",e=e.split(\",\"),f=e[0],e=parseInt(e[1]||-1,10),b[f]||(b[f]=[]),b[f].push({name:c,order:e});for(f in b)b[f]=b[f].sort(function(b,\na){return b.order==a.order?0:0>a.order?-1:0>b.order?1:b.order<a.order?-1:1});return b}function c(c,e){if(e.length){c.items?c.items.push(a.ui.create(\"-\")):c.items=[];for(var f;f=e.shift();)if(f=\"string\"==typeof f?f:f.name,!b||-1==CKEDITOR.tools.indexOf(b,f))(f=a.ui.create(f))&&a.addFeature(f)&&c.items.push(f)}}function h(b){var a=[],e,d,h;for(e=0;e<b.length;++e)d=b[e],h={},\"/\"==d?a.push(d):CKEDITOR.tools.isArray(d)?(c(h,CKEDITOR.tools.clone(d)),a.push(h)):d.items&&(c(h,CKEDITOR.tools.clone(d.items)),\nh.name=d.name,a.push(h));return a}var b=a.config.removeButtons,b=b&&b.split(\",\"),e=a.config.toolbar;\"string\"==typeof e&&(e=a.config[\"toolbar_\"+e]);return a.toolbar=e?h(e):d()}function n(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:\"document\",groups:[\"mode\",\"document\",\"doctools\"]},{name:\"clipboard\",groups:[\"clipboard\",\"undo\"]},{name:\"editing\",groups:[\"find\",\"selection\",\"spellchecker\"]},{name:\"forms\"},\"/\",{name:\"basicstyles\",groups:[\"basicstyles\",\"cleanup\"]},{name:\"paragraph\",groups:[\"list\",\n\"indent\",\"blocks\",\"align\",\"bidi\"]},{name:\"links\"},{name:\"insert\"},\"/\",{name:\"styles\"},{name:\"colors\"},{name:\"tools\"},{name:\"others\"},{name:\"about\"}])}var u=function(){this.toolbars=[];this.focusCommandExecuted=!1};u.prototype.focus=function(){for(var a=0,d;d=this.toolbars[a++];)for(var g=0,c;c=d.items[g++];)if(c.focus){c.focus();return}};var x={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},\n100):a.toolbox.focus())}};CKEDITOR.plugins.add(\"toolbar\",{requires:\"button\",init:function(a){var d,g=function(c,h){var b,e=\"rtl\"==a.lang.dir,j=a.config.toolbarGroupCycling,o=e?37:39,e=e?39:37,j=void 0===j||j;switch(h){case 9:case CKEDITOR.SHIFT+9:for(;!b||!b.items.length;)if(b=9==h?(b?b.next:c.toolbar.next)||a.toolbox.toolbars[0]:(b?b.previous:c.toolbar.previous)||a.toolbox.toolbars[a.toolbox.toolbars.length-1],b.items.length)for(c=b.items[d?b.items.length-1:0];c&&!c.focus;)(c=d?c.previous:c.next)||\n(b=0);c&&c.focus();return!1;case o:b=c;do b=b.next,!b&&j&&(b=c.toolbar.items[0]);while(b&&!b.focus);b?b.focus():g(c,9);return!1;case 40:return c.button&&c.button.hasArrow?(a.once(\"panelShow\",function(b){b.data._.panel._.currentBlock.onKeyDown(40)}),c.execute()):g(c,40==h?o:e),!1;case e:case 38:b=c;do b=b.previous,!b&&j&&(b=c.toolbar.items[c.toolbar.items.length-1]);while(b&&!b.focus);b?b.focus():(d=1,g(c,CKEDITOR.SHIFT+9),d=0);return!1;case 27:return a.focus(),!1;case 13:case 32:return c.execute(),\n!1}return!0};a.on(\"uiSpace\",function(c){if(c.data.space==a.config.toolbarLocation){c.removeListener();a.toolbox=new u;var d=CKEDITOR.tools.getNextId(),b=['<span id=\"',d,'\" class=\"cke_voice_label\">',a.lang.toolbar.toolbars,\"</span>\",'<span id=\"'+a.ui.spaceId(\"toolbox\")+'\" class=\"cke_toolbox\" role=\"group\" aria-labelledby=\"',d,'\" onmousedown=\"return false;\">'],d=!1!==a.config.toolbarStartupExpanded,e,j;a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&b.push('<span class=\"cke_toolbox_main\"'+\n(d?\">\":' style=\"display:none\">'));for(var o=a.toolbox.toolbars,f=w(a),k=0;k<f.length;k++){var i,l=0,r,m=f[k],s;if(m)if(e&&(b.push(\"</span>\"),j=e=0),\"/\"===m)b.push('<span class=\"cke_toolbar_break\"></span>');else{s=m.items||m;for(var t=0;t<s.length;t++){var p=s[t],n;if(p)if(p.type==CKEDITOR.UI_SEPARATOR)j=e&&p;else{n=!1!==p.canGroup;if(!l){i=CKEDITOR.tools.getNextId();l={id:i,items:[]};r=m.name&&(a.lang.toolbar.toolbarGroups[m.name]||m.name);b.push('<span id=\"',i,'\" class=\"cke_toolbar\"',r?' aria-labelledby=\"'+\ni+'_label\"':\"\",' role=\"toolbar\">');r&&b.push('<span id=\"',i,'_label\" class=\"cke_voice_label\">',r,\"</span>\");b.push('<span class=\"cke_toolbar_start\"></span>');var q=o.push(l)-1;0<q&&(l.previous=o[q-1],l.previous.next=l)}n?e||(b.push('<span class=\"cke_toolgroup\" role=\"presentation\">'),e=1):e&&(b.push(\"</span>\"),e=0);i=function(c){c=c.render(a,b);q=l.items.push(c)-1;if(q>0){c.previous=l.items[q-1];c.previous.next=c}c.toolbar=l;c.onkey=g;c.onfocus=function(){a.toolbox.focusCommandExecuted||a.focus()}};\nj&&(i(j),j=0);i(p)}}e&&(b.push(\"</span>\"),j=e=0);l&&b.push('<span class=\"cke_toolbar_end\"></span></span>')}}a.config.toolbarCanCollapse&&b.push(\"</span>\");if(a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var v=CKEDITOR.tools.addFunction(function(){a.execCommand(\"toolbarCollapse\")});a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(v)});a.addCommand(\"toolbarCollapse\",{readOnly:1,exec:function(b){var a=b.ui.space(\"toolbar_collapser\"),c=a.getPrevious(),e=b.ui.space(\"contents\"),\nd=c.getParent(),f=parseInt(e.$.style.height,10),h=d.$.offsetHeight,g=a.hasClass(\"cke_toolbox_collapser_min\");g?(c.show(),a.removeClass(\"cke_toolbox_collapser_min\"),a.setAttribute(\"title\",b.lang.toolbar.toolbarCollapse)):(c.hide(),a.addClass(\"cke_toolbox_collapser_min\"),a.setAttribute(\"title\",b.lang.toolbar.toolbarExpand));a.getFirst().setText(g?\"\":\"\");e.setStyle(\"height\",f-(d.$.offsetHeight-h)+\"px\");b.fire(\"resize\")},modes:{wysiwyg:1,source:1}});a.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?\n189:109),\"toolbarCollapse\");b.push('<a title=\"'+(d?a.lang.toolbar.toolbarCollapse:a.lang.toolbar.toolbarExpand)+'\" id=\"'+a.ui.spaceId(\"toolbar_collapser\")+'\" tabIndex=\"-1\" class=\"cke_toolbox_collapser');d||b.push(\" cke_toolbox_collapser_min\");b.push('\" onclick=\"CKEDITOR.tools.callFunction('+v+')\">','<span class=\"cke_arrow\">&#9650;</span>',\"</a>\")}b.push(\"</span>\");c.data.html+=b.join(\"\")}});a.on(\"destroy\",function(){if(this.toolbox){var a,d=0,b,e,g;for(a=this.toolbox.toolbars;d<a.length;d++){e=a[d].items;\nfor(b=0;b<e.length;b++)g=e[b],g.clickFn&&CKEDITOR.tools.removeFunction(g.clickFn),g.keyDownFn&&CKEDITOR.tools.removeFunction(g.keyDownFn)}}});a.on(\"uiReady\",function(){var c=a.ui.space(\"toolbox\");c&&a.focusManager.add(c,1)});a.addCommand(\"toolbarFocus\",x);a.setKeystroke(CKEDITOR.ALT+121,\"toolbarFocus\");a.ui.add(\"-\",CKEDITOR.UI_SEPARATOR,{});a.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,d){d.push('<span class=\"cke_toolbar_separator\" role=\"separator\"></span>');return{}}}}})}});\nCKEDITOR.ui.prototype.addToolbarGroup=function(a,d,g){var c=n(this.editor),h=0===d,b={name:a};if(g){if(g=CKEDITOR.tools.search(c,function(a){return a.name==g})){!g.groups&&(g.groups=[]);if(d&&(d=CKEDITOR.tools.indexOf(g.groups,d),0<=d)){g.groups.splice(d+1,0,a);return}h?g.groups.splice(0,0,a):g.groups.push(a);return}d=null}d&&(d=CKEDITOR.tools.indexOf(c,function(a){return a.name==d}));h?c.splice(0,0,a):\"number\"==typeof d?c.splice(d+1,0,b):c.push(a)}})();CKEDITOR.UI_SEPARATOR=\"separator\";\nCKEDITOR.config.toolbarLocation=\"top\";(function(){function m(b,d,a){a=b.config.forceEnterMode||a;\"wysiwyg\"==b.mode&&(d||(d=b.activeEnterMode),b.elementPath().isContextFor(\"p\")||(d=CKEDITOR.ENTER_BR,a=1),b.fire(\"saveSnapshot\"),d==CKEDITOR.ENTER_BR?p(b,d,null,a):q(b,d,null,a),b.fire(\"saveSnapshot\"))}function r(b){for(var b=b.getSelection().getRanges(!0),d=b.length-1;0<d;d--)b[d].deleteContents();return b[0]}function u(b){var d=b.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\")},\n!0);if(b.root.equals(d))return b;d=new CKEDITOR.dom.range(d);d.moveToRange(b);return d}CKEDITOR.plugins.add(\"enterkey\",{init:function(b){b.addCommand(\"enter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){m(b)}});b.addCommand(\"shiftEnter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){m(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,\"enter\"],[CKEDITOR.SHIFT+13,\"shiftEnter\"]])}});var v=CKEDITOR.dom.walker.whitespaces(),w=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(b,\nd,a,h){if(a=a||r(b)){var a=u(a),f=a.document,i=a.checkStartOfBlock(),k=a.checkEndOfBlock(),j=b.elementPath(a.startContainer),c=j.block,l=d==CKEDITOR.ENTER_DIV?\"div\":\"p\",e;if(i&&k){if(c&&(c.is(\"li\")||c.getParent().is(\"li\"))){c.is(\"li\")||(c=c.getParent());a=c.getParent();e=a.getParent();var h=!c.hasPrevious(),n=!c.hasNext(),l=b.getSelection(),g=l.createBookmarks(),i=c.getDirection(1),k=c.getAttribute(\"class\"),o=c.getAttribute(\"style\"),m=e.getDirection(1)!=i,b=b.enterMode!=CKEDITOR.ENTER_BR||m||o||k;\nif(e.is(\"li\"))if(h||n)c[h?\"insertBefore\":\"insertAfter\"](e);else c.breakParent(e);else{if(b)if(j.block.is(\"li\")?(e=f.createElement(d==CKEDITOR.ENTER_P?\"p\":\"div\"),m&&e.setAttribute(\"dir\",i),o&&e.setAttribute(\"style\",o),k&&e.setAttribute(\"class\",k),c.moveChildren(e)):e=j.block,h||n)e[h?\"insertBefore\":\"insertAfter\"](a);else c.breakParent(a),e.insertAfter(a);else if(c.appendBogus(!0),h||n)for(;f=c[h?\"getFirst\":\"getLast\"]();)f[h?\"insertBefore\":\"insertAfter\"](a);else for(c.breakParent(a);f=c.getLast();)f.insertAfter(a);\nc.remove()}l.selectBookmarks(g);return}if(c&&c.getParent().is(\"blockquote\")){c.breakParent(c.getParent());c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove();c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove();a.moveToElementEditStart(c);a.select();return}}else if(c&&c.is(\"pre\")&&!k){p(b,d,a,h);return}if(i=a.splitBlock(l)){d=i.previousBlock;c=i.nextBlock;j=i.wasStartOfBlock;b=i.wasEndOfBlock;if(c)g=c.getParent(),g.is(\"li\")&&(c.breakParent(g),\nc.move(c.getNext(),1));else if(d&&(g=d.getParent())&&g.is(\"li\"))d.breakParent(g),g=d.getNext(),a.moveToElementEditStart(g),d.move(d.getPrevious());if(!j&&!b)c.is(\"li\")&&(e=a.clone(),e.selectNodeContents(c),e=new CKEDITOR.dom.walker(e),e.evaluator=function(a){return!(w(a)||v(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(g=e.next())&&(g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"ul\",\"ol\"))&&(CKEDITOR.env.needsBrFiller?f.createElement(\"br\"):f.createText(\"\")).insertBefore(g)),\nc&&a.moveToElementEditStart(c);else{if(d){if(d.is(\"li\")||!s.test(d.getName())&&!d.is(\"pre\"))e=d.clone()}else c&&(e=c.clone());e?h&&!e.is(\"li\")&&e.renameNode(l):g&&g.is(\"li\")?e=g:(e=f.createElement(l),d&&(n=d.getDirection())&&e.setAttribute(\"dir\",n));if(f=i.elementPath){h=0;for(l=f.elements.length;h<l;h++){g=f.elements[h];if(g.equals(f.block)||g.equals(f.blockLimit))break;CKEDITOR.dtd.$removeEmpty[g.getName()]&&(g=g.clone(),e.moveChildren(g),e.append(g))}}e.appendBogus();e.getParent()||a.insertNode(e);\ne.is(\"li\")&&e.removeAttribute(\"value\");if(CKEDITOR.env.ie&&j&&(!b||!d.getChildCount()))a.moveToElementEditStart(b?d:e),a.select();a.moveToElementEditStart(j&&!b?c:e)}a.select();a.scrollIntoView()}}},enterBr:function(b,d,a,h){if(a=a||r(b)){var f=a.document,i=a.checkEndOfBlock(),k=new CKEDITOR.dom.elementPath(b.getSelection().getStartElement()),j=k.block,c=j&&k.block.getName();!h&&\"li\"==c?q(b,d,a,h):(!h&&i&&s.test(c)?(i=j.getDirection())?(f=f.createElement(\"div\"),f.setAttribute(\"dir\",i),f.insertAfter(j),\na.setStart(f,0)):(f.createElement(\"br\").insertAfter(j),CKEDITOR.env.gecko&&f.createText(\"\").insertAfter(j),a.setStartAt(j.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(b=\"pre\"==c&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?f.createText(\"\\r\"):f.createElement(\"br\"),a.deleteContents(),a.insertNode(b),CKEDITOR.env.needsBrFiller?(f.createText(\"\").insertAfter(b),i&&(j||k.blockLimit).appendBogus(),b.getNext().$.nodeValue=\"\",a.setStartAt(b.getNext(),CKEDITOR.POSITION_AFTER_START)):\na.setStartAt(b,CKEDITOR.POSITION_AFTER_END)),a.collapse(!0),a.select(),a.scrollIntoView())}}};var t=CKEDITOR.plugins.enterkey,p=t.enterBr,q=t.enterBlock,s=/^h[1-6]$/})();(function(){function j(a,b){var d={},e=[],f={nbsp:\"\",shy:\"\",gt:\">\",lt:\"<\",amp:\"&\",apos:\"'\",quot:'\"'},a=a.replace(/\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,h){var c=b?\"&\"+h+\";\":f[h];d[c]=b?f[h]:\"&\"+h+\";\";e.push(c);return\"\"});if(!b&&a){var a=a.split(\",\"),c=document.createElement(\"div\"),g;c.innerHTML=\"&\"+a.join(\";&\")+\";\";g=c.innerHTML;c=null;for(c=0;c<g.length;c++){var i=g.charAt(c);d[i]=\"&\"+a[c]+\";\";e.push(i)}}d.regex=e.join(b?\"|\":\"\");return d}CKEDITOR.plugins.add(\"entities\",{afterInit:function(a){var b=\na.config;if(a=(a=a.dataProcessor)&&a.htmlFilter){var d=[];!1!==b.basicEntities&&d.push(\"nbsp,gt,lt,amp\");b.entities&&(d.length&&d.push(\"quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro\"),\nb.entities_latin&&d.push(\"Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml\"),b.entities_greek&&d.push(\"Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv\"),\nb.entities_additional&&d.push(b.entities_additional));var e=j(d.join(\",\")),f=e.regex?\"[\"+e.regex+\"]\":\"a^\";delete e.regex;b.entities&&b.entities_processNumerical&&(f=\"[^ -~]|\"+f);var f=RegExp(f,\"g\"),c=function(a){return b.entities_processNumerical==\"force\"||!e[a]?\"&#\"+a.charCodeAt(0)+\";\":e[a]},g=j(\"nbsp,gt,lt,amp,shy\",!0),i=RegExp(g.regex,\"g\"),k=function(a){return g[a]};a.addRules({text:function(a){return a.replace(i,k).replace(f,c)}},{applyToAll:!0,excludeNestedEditable:!0})}}})})();\nCKEDITOR.config.basicEntities=!0;CKEDITOR.config.entities=!0;CKEDITOR.config.entities_latin=!0;CKEDITOR.config.entities_greek=!0;CKEDITOR.config.entities_additional=\"#39\";CKEDITOR.plugins.add(\"popup\");\nCKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,a,b,d){a=a||\"80%\";b=b||\"70%\";\"string\"==typeof a&&(1<a.length&&\"%\"==a.substr(a.length-1,1))&&(a=parseInt(window.screen.width*parseInt(a,10)/100,10));\"string\"==typeof b&&(1<b.length&&\"%\"==b.substr(b.length-1,1))&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>a&&(a=640);420>b&&(b=420);var f=parseInt((window.screen.height-b)/2,10),g=parseInt((window.screen.width-a)/2,10),d=(d||\"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes\")+\",width=\"+\na+\",height=\"+b+\",top=\"+f+\",left=\"+g,c=window.open(\"\",null,d,!0);if(!c)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(\" chrome/\")&&(c.moveTo(g,f),c.resizeTo(a,b)),c.focus(),c.location.href=e}catch(h){window.open(e,null,d,!0)}return!0}});(function(){function g(a,c){var d=[];if(c)for(var b in c)d.push(b+\"=\"+encodeURIComponent(c[b]));else return a;return a+(-1!=a.indexOf(\"?\")?\"&\":\"?\")+d.join(\"&\")}function i(a){a+=\"\";return a.charAt(0).toUpperCase()+a.substr(1)}function k(){var a=this.getDialog(),c=a.getParentEditor();c._.filebrowserSe=this;var d=c.config[\"filebrowser\"+i(a.getName())+\"WindowWidth\"]||c.config.filebrowserWindowWidth||\"80%\",a=c.config[\"filebrowser\"+i(a.getName())+\"WindowHeight\"]||c.config.filebrowserWindowHeight||\"70%\",\nb=this.filebrowser.params||{};b.CKEditor=c.name;b.CKEditorFuncNum=c._.filebrowserFn;b.langCode||(b.langCode=c.langCode);b=g(this.filebrowser.url,b);c.popup(b,d,a,c.config.filebrowserWindowFeatures||c.config.fileBrowserWindowFeatures)}function l(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return!a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement().$.value||!a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getAction()?!1:!0}function m(a,c,d){var b=d.params||{};\nb.CKEditor=a.name;b.CKEditorFuncNum=a._.filebrowserFn;b.langCode||(b.langCode=a.langCode);c.action=g(d.url,b);c.filebrowser=d}function j(a,c,d,b){if(b&&b.length)for(var e,g=b.length;g--;)if(e=b[g],(\"hbox\"==e.type||\"vbox\"==e.type||\"fieldset\"==e.type)&&j(a,c,d,e.children),e.filebrowser)if(\"string\"==typeof e.filebrowser&&(e.filebrowser={action:\"fileButton\"==e.type?\"QuickUpload\":\"Browse\",target:e.filebrowser}),\"Browse\"==e.filebrowser.action){var f=e.filebrowser.url;void 0===f&&(f=a.config[\"filebrowser\"+\ni(c)+\"BrowseUrl\"],void 0===f&&(f=a.config.filebrowserBrowseUrl));f&&(e.onClick=k,e.filebrowser.url=f,e.hidden=!1)}else if(\"QuickUpload\"==e.filebrowser.action&&e[\"for\"]&&(f=e.filebrowser.url,void 0===f&&(f=a.config[\"filebrowser\"+i(c)+\"UploadUrl\"],void 0===f&&(f=a.config.filebrowserUploadUrl)),f)){var h=e.onClick;e.onClick=function(a){var b=a.sender;return h&&h.call(b,a)===false?false:l.call(b,a)};e.filebrowser.url=f;e.hidden=!1;m(a,d.getContents(e[\"for\"][0]).get(e[\"for\"][1]),e.filebrowser)}}function h(a,\nc,d){if(-1!==d.indexOf(\";\")){for(var d=d.split(\";\"),b=0;b<d.length;b++)if(h(a,c,d[b]))return!0;return!1}return(a=a.getContents(c).get(d).filebrowser)&&a.url}function n(a,c){var d=this._.filebrowserSe.getDialog(),b=this._.filebrowserSe[\"for\"],e=this._.filebrowserSe.filebrowser.onSelect;b&&d.getContentElement(b[0],b[1]).reset();if(!(\"function\"==typeof c&&!1===c.call(this._.filebrowserSe))&&!(e&&!1===e.call(this._.filebrowserSe,a,c))&&(\"string\"==typeof c&&c&&alert(c),a&&(b=this._.filebrowserSe,d=b.getDialog(),\nb=b.filebrowser.target||null)))if(b=b.split(\":\"),e=d.getContentElement(b[0],b[1]))e.setValue(a),d.selectPage(b[0])}CKEDITOR.plugins.add(\"filebrowser\",{requires:\"popup\",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(n,a);a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on(\"dialogDefinition\",function(a){if(a.editor.plugins.filebrowser)for(var c=a.data.definition,d,b=0;b<c.contents.length;++b)if(d=c.contents[b])j(a.editor,a.data.name,c,d.elements),\nd.hidden&&d.filebrowser&&(d.hidden=!h(c,d.id,d.filebrowser))})})();(function(){var b={canUndo:!1,exec:function(a){var b=a.document.createElement(\"hr\");a.insertElement(b)},allowedContent:\"hr\",requiredContent:\"hr\"};CKEDITOR.plugins.add(\"horizontalrule\",{init:function(a){a.blockless||(a.addCommand(\"horizontalrule\",b),a.ui.addButton&&a.ui.addButton(\"HorizontalRule\",{label:a.lang.horizontalrule.toolbar,command:\"horizontalrule\",toolbar:\"insert,40\"}))}})})();CKEDITOR.plugins.add(\"htmlwriter\",{init:function(b){var a=new CKEDITOR.htmlWriter;a.forceSimpleAmpersand=b.config.forceSimpleAmpersand;a.indentationChars=b.config.dataIndentationChars||\"\\t\";b.dataProcessor.writer=a}});\nCKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars=\"\\t\";this.selfClosingEnd=\" />\";this.lineBreakChars=\"\\n\";this.sortAttributes=1;this._.indent=0;this._.indentation=\"\";this._.inPre=0;this._.rules={};var b=CKEDITOR.dtd,a;for(a in CKEDITOR.tools.extend({},b.$nonBodyContent,b.$block,b.$listItem,b.$tableContent))this.setRules(a,{indent:!b[a][\"#\"],breakBeforeOpen:1,breakBeforeClose:!b[a][\"#\"],breakAfterClose:1,needsSpace:a in\nb.$block&&!(a in{li:1,dt:1,dd:1})});this.setRules(\"br\",{breakAfterOpen:1});this.setRules(\"title\",{indent:0,breakAfterOpen:0});this.setRules(\"style\",{indent:0,breakBeforeClose:1});this.setRules(\"pre\",{breakAfterOpen:1,indent:0})},proto:{openTag:function(b){var a=this._.rules[b];this._.afterCloser&&(a&&a.needsSpace&&this._.needsSpace)&&this._.output.push(\"\\n\");this._.indent?this.indentation():a&&a.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push(\"<\",b);this._.afterCloser=0},\nopenTagClose:function(b,a){var c=this._.rules[b];a?(this._.output.push(this.selfClosingEnd),c&&c.breakAfterClose&&(this._.needsSpace=c.needsSpace)):(this._.output.push(\">\"),c&&c.indent&&(this._.indentation+=this.indentationChars));c&&c.breakAfterOpen&&this.lineBreak();\"pre\"==b&&(this._.inPre=1)},attribute:function(b,a){\"string\"==typeof a&&(this.forceSimpleAmpersand&&(a=a.replace(/&amp;/g,\"&\")),a=CKEDITOR.tools.htmlEncodeAttr(a));this._.output.push(\" \",b,'=\"',a,'\"')},closeTag:function(b){var a=this._.rules[b];\na&&a.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():a&&a.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push(\"</\",b,\">\");\"pre\"==b&&(this._.inPre=0);a&&a.breakAfterClose&&(this.lineBreak(),this._.needsSpace=a.needsSpace);this._.afterCloser=1},text:function(b){this._.indent&&(this.indentation(),!this._.inPre&&(b=CKEDITOR.tools.ltrim(b)));this._.output.push(b)},comment:function(b){this._.indent&&this.indentation();\nthis._.output.push(\"<\\!--\",b,\"--\\>\")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation=\"\";this._.afterCloser=0;this._.inPre=0},setRules:function(b,a){var c=this._.rules[b];c?CKEDITOR.tools.extend(c,a,!0):this._.rules[b]=a}}});(function(){function k(a){var d=this.editor,b=a.document,c=b.body,e=b.getElementById(\"cke_actscrpt\");e&&e.parentNode.removeChild(e);(e=b.getElementById(\"cke_shimscrpt\"))&&e.parentNode.removeChild(e);(e=b.getElementById(\"cke_basetagscrpt\"))&&e.parentNode.removeChild(e);c.contentEditable=!0;CKEDITOR.env.ie&&(c.hideFocus=!0,c.disabled=!0,c.removeAttribute(\"disabled\"));delete this._.isLoadingData;this.$=c;b=new CKEDITOR.dom.document(b);this.setup();this.fixInitialSelection();CKEDITOR.env.ie&&(b.getDocumentElement().addClass(b.$.compatMode),\nd.config.enterMode!=CKEDITOR.ENTER_P&&this.attachListener(b,\"selectionchange\",function(){var a=b.getBody(),c=d.getSelection(),e=c&&c.getRanges()[0];e&&(a.getHtml().match(/^<p>(?:&nbsp;|<br>)<\\/p>$/i)&&e.startContainer.equals(a))&&setTimeout(function(){e=d.getSelection().getRanges()[0];if(!e.startContainer.equals(\"body\")){a.getFirst().remove(1);e.moveToElementEditEnd(a);e.select()}},0)}));if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)b.getDocumentElement().on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&\nsetTimeout(function(){d.editable().focus()})});l(d);try{d.document.$.execCommand(\"2D-position\",!1,!0)}catch(g){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&\"CSS1Compat\"==d.document.$.compatMode)&&this.attachListener(this,\"keydown\",function(a){var b=a.data.getKeystroke();if(b==33||b==34)if(CKEDITOR.env.ie)setTimeout(function(){d.getSelection().scrollIntoView()},0);else if(d.window.$.innerHeight>this.$.offsetHeight){var c=d.createRange();c[b==33?\"moveToElementEditStart\":\"moveToElementEditEnd\"](this);c.select();\na.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(b,\"blur\",function(){try{b.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(b,\"touchend\",function(){a.focus()});c=d.document.getElementsByTag(\"title\").getItem(0);c.data(\"cke-title\",c.getText());CKEDITOR.env.ie&&(d.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){if(this.status==\"unloaded\")this.status=\"ready\";d.fire(\"contentDom\");if(this._.isPendingFocus){d.focus();this._.isPendingFocus=false}setTimeout(function(){d.fire(\"dataReady\")},\n0);CKEDITOR.env.ie&&setTimeout(function(){if(d.document){var a=d.document.$.body;a.runtimeStyle.marginBottom=\"0px\";a.runtimeStyle.marginBottom=\"\"}},1E3)},0,this)}function l(a){function d(){var c;a.editable().attachListener(a,\"selectionChange\",function(){var d=a.getSelection().getSelectedElement();d&&(c&&(c.detachEvent(\"onresizestart\",b),c=null),d.$.attachEvent(\"onresizestart\",b),c=d.$)})}function b(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var c=a.document.$;c.execCommand(\"enableObjectResizing\",\n!1,!a.config.disableObjectResizing);c.execCommand(\"enableInlineTableEditing\",!1,!a.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&(11>CKEDITOR.env.version&&a.config.disableObjectResizing)&&d(a)}function m(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push(\"html.CSS1Compat [contenteditable=false]{min-height:0 !important}\");var d=[],b;for(b in CKEDITOR.dtd.$removeEmpty)d.push(\"html.CSS1Compat \"+b+\"[contenteditable=false]\");a.push(d.join(\",\")+\"{display:inline-block}\")}else CKEDITOR.env.gecko&&\n(a.push(\"html{height:100% !important}\"),a.push(\"img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"));a.push(\"html{cursor:text;*cursor:auto}\");a.push(\"img,input,textarea{cursor:default}\");return a.join(\"\\n\")}CKEDITOR.plugins.add(\"wysiwygarea\",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:\"html head title; style [media,type]; body (*)[id]; meta link [*]\",requiredContent:\"body\"});a.addMode(\"wysiwyg\",function(d){function b(b){b&&b.removeListener();a.editable(new j(a,\ne.$.contentWindow.document.body));a.setData(a.getData(1),d)}var c=\"document.open();\"+(CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\")+\"document.close();\",c=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(c)+\"}())\":\"\",e=CKEDITOR.dom.element.createFromHtml('<iframe src=\"'+c+'\" frameBorder=\"0\"></iframe>');e.setStyles({width:\"100%\",height:\"100%\"});e.addClass(\"cke_wysiwyg_frame cke_reset\");var g=a.ui.space(\"contents\");g.append(e);if(c=CKEDITOR.env.ie||\nCKEDITOR.env.gecko)e.on(\"load\",b);var f=a.title,h=a.fire(\"ariaEditorHelpLabel\",{}).label;f&&(CKEDITOR.env.ie&&h&&(f+=\", \"+h),e.setAttribute(\"title\",f));if(h){var f=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id=\"'+f+'\" class=\"cke_voice_label\">'+h+\"</span>\");g.append(i,1);e.setAttribute(\"aria-describedby\",f)}a.on(\"beforeModeUnload\",function(a){a.removeListener();i&&i.remove()});e.setAttributes({tabIndex:a.tabIndex,allowTransparency:\"true\"});!c&&b();CKEDITOR.env.webkit&&\n(c=function(){g.setStyle(\"width\",\"100%\");e.hide();e.setSize(\"width\",g.getSize(\"width\"));g.removeStyle(\"width\");e.show()},e.setCustomData(\"onResize\",c),CKEDITOR.document.getWindow().on(\"resize\",c));a.fire(\"ariaWidget\",e)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var d=this.config,b=d.contentsCss;CKEDITOR.tools.isArray(b)||(d.contentsCss=b?[b]:[]);d.contentsCss.push(a)};var j=CKEDITOR.tools.createClass({$:function(a){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(a){CKEDITOR.tools.setTimeout(k,\n0,this,a)},this);this._.docTitle=this.getWindow().getFrame().getAttribute(\"title\")},base:CKEDITOR.editable,proto:{setData:function(a,d){var b=this.editor;if(d)this.setHtml(a),this.fixInitialSelection(),b.fire(\"dataReady\");else{this._.isLoadingData=!0;b._.dataStore={id:1};var c=b.config,e=c.fullPage,g=c.docType,f=CKEDITOR.tools.buildStyleHtml(m()).replace(/<style>/,'<style data-cke-temp=\"1\">');e||(f+=CKEDITOR.tools.buildStyleHtml(b.config.contentsCss));var h=c.baseHref?'<base href=\"'+c.baseHref+'\" data-cke-temp=\"1\" />':\n\"\";e&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){b.docType=g=a;return\"\"}).replace(/<\\?xml\\s[^\\?]*\\?>/i,function(a){b.xmlDeclaration=a;return\"\"}));a=b.dataProcessor.toHtml(a);e?(/<body[\\s|>]/.test(a)||(a=\"<body>\"+a),/<html[\\s|>]/.test(a)||(a=\"<html>\"+a+\"</html>\"),/<head[\\s|>]/.test(a)?/<title[\\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,\"$&<title></title>\")):a=a.replace(/<html[^>]*>/,\"$&<head><title></title></head>\"),h&&(a=a.replace(/<head[^>]*?>/,\"$&\"+h)),a=a.replace(/<\\/head\\s*>/,f+\"$&\"),a=g+a):a=\nc.docType+'<html dir=\"'+c.contentsLangDirection+'\" lang=\"'+(c.contentsLanguage||b.langCode)+'\"><head><title>'+this._.docTitle+\"</title>\"+h+f+\"</head><body\"+(c.bodyId?' id=\"'+c.bodyId+'\"':\"\")+(c.bodyClass?' class=\"'+c.bodyClass+'\"':\"\")+\">\"+a+\"</body></html>\";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'<body contenteditable=\"true\" '),2E4>CKEDITOR.env.version&&(a=a.replace(/<body[^>]*>/,\"$&<\\!-- cke-content-start --\\>\")));c='<script id=\"cke_actscrpt\" type=\"text/javascript\"'+(CKEDITOR.env.ie?' defer=\"defer\" ':\n\"\")+\">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(\"+this._.frameLoadedHandler+\",window);wasLoaded=1;}\"+(CKEDITOR.env.ie?\"onload();\":'document.addEventListener(\"DOMContentLoaded\", onload, false );')+\"<\\/script>\";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(c+='<script id=\"cke_shimscrpt\">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\\/script>');h&&(CKEDITOR.env.ie&&10>CKEDITOR.env.version)&&(c+='<script id=\"cke_basetagscrpt\">var baseTag = document.querySelector( \"base\" );baseTag.href = baseTag.href;<\\/script>');\na=a.replace(/(?=\\s*<\\/(:?head)>)/,c);this.clearCustomData();this.clearListeners();b.fire(\"contentDomUnload\");var i=this.getDocument();try{i.write(a)}catch(j){setTimeout(function(){i.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();var a=this.editor,d=a.config,b=d.fullPage,c=b&&a.docType,e=b&&a.xmlDeclaration,g=this.getDocument(),b=b?g.getDocumentElement().getOuterHtml():g.getBody().getHtml();CKEDITOR.env.gecko&&d.enterMode!=CKEDITOR.ENTER_BR&&(b=b.replace(/<br>(?=\\s*(:?$|<\\/body>))/,\n\"\"));b=a.dataProcessor.toDataFormat(b);e&&(b=e+\"\\n\"+b);c&&(b=c+\"\\n\"+b);return b},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:j.baseProto.focus.call(this)},detach:function(){var a=this.editor,d=a.document,a=a.window.getFrame();j.baseProto.detach.call(this);this.clearCustomData();d.getDocumentElement().clearCustomData();a.clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);(d=a.removeCustomData(\"onResize\"))&&d.removeListener();a.remove()}}})})();\nCKEDITOR.config.disableObjectResizing=!1;CKEDITOR.config.disableNativeTableHandles=!0;CKEDITOR.config.disableNativeSpellChecker=!0;CKEDITOR.config.contentsCss=CKEDITOR.getUrl(\"contents.css\");(function(){function e(b,a){a||(a=b.getSelection().getSelectedElement());if(a&&a.is(\"img\")&&!a.data(\"cke-realelement\")&&!a.isReadOnly())return a}function f(b){var a=b.getStyle(\"float\");if(\"inherit\"==a||\"none\"==a)a=0;a||(a=b.getAttribute(\"align\"));return a}CKEDITOR.plugins.add(\"image\",{requires:\"dialog\",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add(\"image\",this.path+\"dialogs/image.js\");var a=\"img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}\";\nCKEDITOR.dialog.isTabEnabled(b,\"image\",\"advanced\")&&(a=\"img[alt,dir,id,lang,longdesc,!src,title]{*}(*)\");b.addCommand(\"image\",new CKEDITOR.dialogCommand(\"image\",{allowedContent:a,requiredContent:\"img[alt,src]\",contentTransformations:[[\"img{width}: sizeToStyle\",\"img[width]: sizeToAttribute\"],[\"img{float}: alignmentToStyle\",\"img[align]: alignmentToAttribute\"]]}));b.ui.addButton&&b.ui.addButton(\"Image\",{label:b.lang.common.image,command:\"image\",toolbar:\"insert,10\"});b.on(\"doubleclick\",function(b){var a=\nb.data.element;a.is(\"img\")&&(!a.data(\"cke-realelement\")&&!a.isReadOnly())&&(b.data.dialog=\"image\")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:\"image\",group:\"image\"}});b.contextMenu&&b.contextMenu.addListener(function(a){if(e(b,a))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function a(a){var d=b.getCommand(\"justify\"+a);if(d){if(\"left\"==a||\"right\"==a)d.on(\"exec\",function(d){var c=e(b),g;c&&(g=f(c),g==a?(c.removeStyle(\"float\"),a==f(c)&&c.removeAttribute(\"align\")):\nc.setStyle(\"float\",a),d.cancel())});d.on(\"refresh\",function(d){var c=e(b);c&&(c=f(c),this.setState(c==a?CKEDITOR.TRISTATE_ON:\"right\"==a||\"left\"==a?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),d.cancel())})}}b.plugins.image2||(a(\"left\"),a(\"right\"),a(\"center\"),a(\"block\"))}})})();CKEDITOR.config.image_removeLinkByEmptyURL=!0;(function(){function k(a,b){var e,f;b.on(\"refresh\",function(a){var b=[i],c;for(c in a.data.states)b.push(a.data.states[c]);this.setState(CKEDITOR.tools.search(b,m)?m:i)},b,null,100);b.on(\"exec\",function(b){e=a.getSelection();f=e.createBookmarks(1);b.data||(b.data={});b.data.done=!1},b,null,0);b.on(\"exec\",function(){a.forceNextSelectionCheck();e.selectBookmarks(f)},b,null,100)}var i=CKEDITOR.TRISTATE_DISABLED,m=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indent\",{init:function(a){var b=CKEDITOR.plugins.indent.genericDefinition;\nk(a,a.addCommand(\"indent\",new b(!0)));k(a,a.addCommand(\"outdent\",new b));a.ui.addButton&&(a.ui.addButton(\"Indent\",{label:a.lang.indent.indent,command:\"indent\",directional:!0,toolbar:\"indent,20\"}),a.ui.addButton(\"Outdent\",{label:a.lang.indent.outdent,command:\"outdent\",directional:!0,toolbar:\"indent,10\"}));a.on(\"dirChanged\",function(b){var f=a.createRange(),j=b.data.node;f.setStartBefore(j);f.setEndAfter(j);for(var l=new CKEDITOR.dom.walker(f),c;c=l.next();)if(c.type==CKEDITOR.NODE_ELEMENT)if(!c.equals(j)&&\nc.getDirection()){f.setStartAfter(c);l=new CKEDITOR.dom.walker(f)}else{var d=a.config.indentClasses;if(d)for(var g=b.data.dir==\"ltr\"?[\"_rtl\",\"\"]:[\"\",\"_rtl\"],h=0;h<d.length;h++)if(c.hasClass(d[h]+g[0])){c.removeClass(d[h]+g[0]);c.addClass(d[h]+g[1])}d=c.getStyle(\"margin-right\");g=c.getStyle(\"margin-left\");d?c.setStyle(\"margin-left\",d):c.removeStyle(\"margin-left\");g?c.setStyle(\"margin-right\",g):c.removeStyle(\"margin-right\")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=\n!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,b,e){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?\"indent\":\"outdent\";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on(\"pluginsLoaded\",function(){for(var a in b)(function(a,b){var e=a.getCommand(b.relatedGlobal),c;for(c in b.jobs)e.on(\"exec\",function(d){d.data.done||(a.fire(\"lockSnapshot\"),b.execJob(a,c)&&(d.data.done=\n!0),a.fire(\"unlockSnapshot\"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,c),e.on(\"refresh\",function(d){d.data.states||(d.data.states={});d.data.states[b.name+\"@\"+c]=b.refreshJob(a,c,d.data.path)},this,null,c);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:\"p\",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var e=this.jobs[b];if(e.state!=i)return e.exec.call(this,a)},refreshJob:function(a,\nb,e){b=this.jobs[b];b.state=a.activeFilter.checkFeature(this)?b.refresh.call(this,a,e):i;return b.state},getContext:function(a){return a.contains(this.context)}}})();(function(){function s(c){function f(b){for(var e=d.startContainer,a=d.endContainer;e&&!e.getParent().equals(b);)e=e.getParent();for(;a&&!a.getParent().equals(b);)a=a.getParent();if(!e||!a)return!1;for(var g=e,e=[],i=!1;!i;)g.equals(a)&&(i=!0),e.push(g),g=g.getNext();if(1>e.length)return!1;g=b.getParents(!0);for(a=0;a<g.length;a++)if(g[a].getName&&m[g[a].getName()]){b=g[a];break}for(var g=j.isIndent?1:-1,a=e[0],e=e[e.length-1],i=CKEDITOR.plugins.list.listToArray(b,n),l=i[e.getCustomData(\"listarray_index\")].indent,\na=a.getCustomData(\"listarray_index\");a<=e.getCustomData(\"listarray_index\");a++)if(i[a].indent+=g,0<g){var h=i[a].parent;i[a].parent=new CKEDITOR.dom.element(h.getName(),h.getDocument())}for(a=e.getCustomData(\"listarray_index\")+1;a<i.length&&i[a].indent>l;a++)i[a].indent+=g;e=CKEDITOR.plugins.list.arrayToList(i,n,null,c.config.enterMode,b.getDirection());if(!j.isIndent){var f;if((f=b.getParent())&&f.is(\"li\"))for(var g=e.listNode.getChildren(),o=[],k,a=g.count()-1;0<=a;a--)(k=g.getItem(a))&&(k.is&&\nk.is(\"li\"))&&o.push(k)}e&&e.listNode.replace(b);if(o&&o.length)for(a=0;a<o.length;a++){for(k=b=o[a];(k=k.getNext())&&k.is&&k.getName()in m;)CKEDITOR.env.needsNbspFiller&&!b.getFirst(t)&&b.append(d.document.createText(\"\")),b.append(k);b.insertAfter(f)}e&&c.fire(\"contentDomInvalidated\");return!0}for(var j=this,n=this.database,m=this.context,l=c.getSelection(),l=(l&&l.getRanges()).createIterator(),d;d=l.getNextRange();){for(var b=d.getCommonAncestor();b&&!(b.type==CKEDITOR.NODE_ELEMENT&&m[b.getName()]);)b=\nb.getParent();b||(b=d.startPath().contains(m))&&d.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);if(!b){var h=d.getEnclosedNode();h&&(h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in m)&&(d.setStartAt(h,CKEDITOR.POSITION_AFTER_START),d.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),b=h)}b&&(d.startContainer.type==CKEDITOR.NODE_ELEMENT&&d.startContainer.getName()in m)&&(h=new CKEDITOR.dom.walker(d),h.evaluator=p,d.startContainer=h.next());b&&(d.endContainer.type==CKEDITOR.NODE_ELEMENT&&d.endContainer.getName()in m)&&\n(h=new CKEDITOR.dom.walker(d),h.evaluator=p,d.endContainer=h.previous());if(b)return f(b)}return 0}function p(c){return c.type==CKEDITOR.NODE_ELEMENT&&c.is(\"li\")}function t(c){return u(c)&&v(c)}var u=CKEDITOR.dom.walker.whitespaces(!0),v=CKEDITOR.dom.walker.bookmark(!1,!0),q=CKEDITOR.TRISTATE_DISABLED,r=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indentlist\",{requires:\"indent\",init:function(c){function f(c){j.specificDefinition.apply(this,arguments);this.requiredContent=[\"ul\",\"ol\"];c.on(\"key\",function(f){if(\"wysiwyg\"==\nc.mode&&f.data.keyCode==this.indentKey){var l=this.getContext(c.elementPath());if(l&&(!this.isIndent||!CKEDITOR.plugins.indentList.firstItemInPath(this.context,c.elementPath(),l)))c.execCommand(this.relatedGlobal),f.cancel()}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(c,f){var d=this.getContext(f),b=CKEDITOR.plugins.indentList.firstItemInPath(this.context,f,d);return!d||!this.isIndent||b?q:r}:function(c,f){return!this.getContext(f)||this.isIndent?q:r},exec:CKEDITOR.tools.bind(s,\nthis)}}var j=CKEDITOR.plugins.indent;j.registerCommands(c,{indentlist:new f(c,\"indentlist\",!0),outdentlist:new f(c,\"outdentlist\")});CKEDITOR.tools.extend(f.prototype,j.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(c,f,j){var n=f.contains(p);j||(j=f.contains(c));return j&&n&&n.equals(j.getFirst(p))}})();(function(){function g(a,b){var c=j.exec(a),d=j.exec(b);if(c){if(!c[2]&&\"px\"==d[2])return d[1];if(\"px\"==c[2]&&!d[2])return d[1]+\"px\"}return b}var i=CKEDITOR.htmlParser.cssStyle,h=CKEDITOR.tools.cssLength,j=/^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i,k={elements:{$:function(a){var b=a.attributes;if((b=(b=(b=b&&b[\"data-cke-realelement\"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(b)))&&b.children[0])&&a.attributes[\"data-cke-resizable\"]){var c=(new i(a)).rules,a=b.attributes,d=c.width,c=\nc.height;d&&(a.width=g(a.width,d));c&&(a.height=g(a.height,c))}return b}}};CKEDITOR.plugins.add(\"fakeobjects\",{init:function(a){a.filter.allow(\"img[!data-cke-realelement,src,alt,title](*){*}\",\"fakeobjects\")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(k,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,b,c,d){var e=this.lang.fakeobjects,e=e[c]||e.unknown,b={\"class\":b,\"data-cke-realelement\":encodeURIComponent(a.getOuterHtml()),\"data-cke-real-node-type\":a.type,\nalt:e,title:e,align:a.getAttribute(\"align\")||\"\"};CKEDITOR.env.hc||(b.src=CKEDITOR.tools.transparentImageData);c&&(b[\"data-cke-real-element-type\"]=c);d&&(b[\"data-cke-resizable\"]=d,c=new i,d=a.getAttribute(\"width\"),a=a.getAttribute(\"height\"),d&&(c.rules.width=h(d)),a&&(c.rules.height=h(a)),c.populate(b));return this.document.createElement(\"img\",{attributes:b})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,b,c,d){var e=this.lang.fakeobjects,e=e[c]||e.unknown,f;f=new CKEDITOR.htmlParser.basicWriter;\na.writeHtml(f);f=f.getHtml();b={\"class\":b,\"data-cke-realelement\":encodeURIComponent(f),\"data-cke-real-node-type\":a.type,alt:e,title:e,align:a.attributes.align||\"\"};CKEDITOR.env.hc||(b.src=CKEDITOR.tools.transparentImageData);c&&(b[\"data-cke-real-element-type\"]=c);d&&(b[\"data-cke-resizable\"]=d,d=a.attributes,a=new i,c=d.width,d=d.height,void 0!=c&&(a.rules.width=h(c)),void 0!=d&&(a.rules.height=h(d)),a.populate(b));return new CKEDITOR.htmlParser.element(\"img\",b)};CKEDITOR.editor.prototype.restoreRealElement=\nfunction(a){if(a.data(\"cke-real-node-type\")!=CKEDITOR.NODE_ELEMENT)return null;var b=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(a.data(\"cke-realelement\")),this.document);if(a.data(\"cke-resizable\")){var c=a.getStyle(\"width\"),a=a.getStyle(\"height\");c&&b.setAttribute(\"width\",g(b.getAttribute(\"width\"),c));a&&b.setAttribute(\"height\",g(b.getAttribute(\"height\"),a))}return b}})();(function(){function m(c){return c.replace(/'/g,\"\\\\$&\")}function n(c){for(var b,a=c.length,f=[],e=0;e<a;e++)b=c.charCodeAt(e),f.push(b);return\"String.fromCharCode(\"+f.join(\",\")+\")\"}function o(c,b){var a=c.plugins.link,f=a.compiledProtectionFunction.params,e,d;d=[a.compiledProtectionFunction.name,\"(\"];for(var g=0;g<f.length;g++)a=f[g].toLowerCase(),e=b[a],0<g&&d.push(\",\"),d.push(\"'\",e?m(encodeURIComponent(b[a])):\"\",\"'\");d.push(\")\");return d.join(\"\")}function l(c){var c=c.config.emailProtection||\"\",\nb;c&&\"encode\"!=c&&(b={},c.replace(/^([^(]+)\\(([^)]+)\\)$/,function(a,c,e){b.name=c;b.params=[];e.replace(/[^,\\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add(\"link\",{requires:\"dialog,fakeobjects\",onLoad:function(){function c(b){return a.replace(/%1/g,\"rtl\"==b?\"right\":\"left\").replace(/%2/g,\"cke_contents_\"+b)}var b=\"background:url(\"+CKEDITOR.getUrl(this.path+\"images\"+(CKEDITOR.env.hidpi?\"/hidpi\":\"\")+\"/anchor.png\")+\") no-repeat %1 center;border:1px dotted #00f;background-size:16px;\",\na=\".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{\"+b+\"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{\"+b+\"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}\";CKEDITOR.addCss(c(\"ltr\")+c(\"rtl\"))},init:function(c){var b=\"a[!href]\";CKEDITOR.dialog.isTabEnabled(c,\"link\",\"advanced\")&&(b=b.replace(\"]\",\",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)\"));CKEDITOR.dialog.isTabEnabled(c,\"link\",\"target\")&&(b=b.replace(\"]\",\n\",target,onclick]\"));c.addCommand(\"link\",new CKEDITOR.dialogCommand(\"link\",{allowedContent:b,requiredContent:\"a[href]\"}));c.addCommand(\"anchor\",new CKEDITOR.dialogCommand(\"anchor\",{allowedContent:\"a[!name,id]\",requiredContent:\"a[name]\"}));c.addCommand(\"unlink\",new CKEDITOR.unlinkCommand);c.addCommand(\"removeAnchor\",new CKEDITOR.removeAnchorCommand);c.setKeystroke(CKEDITOR.CTRL+76,\"link\");c.ui.addButton&&(c.ui.addButton(\"Link\",{label:c.lang.link.toolbar,command:\"link\",toolbar:\"links,10\"}),c.ui.addButton(\"Unlink\",\n{label:c.lang.link.unlink,command:\"unlink\",toolbar:\"links,20\"}),c.ui.addButton(\"Anchor\",{label:c.lang.link.anchor.toolbar,command:\"anchor\",toolbar:\"links,30\"}));CKEDITOR.dialog.add(\"link\",this.path+\"dialogs/link.js\");CKEDITOR.dialog.add(\"anchor\",this.path+\"dialogs/anchor.js\");c.on(\"doubleclick\",function(a){var b=CKEDITOR.plugins.link.getSelectedLink(c)||a.data.element;if(!b.isReadOnly())if(b.is(\"a\")){a.data.dialog=b.getAttribute(\"name\")&&(!b.getAttribute(\"href\")||!b.getChildCount())?\"anchor\":\"link\";\na.data.link=b}else if(CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,b))a.data.dialog=\"anchor\"},null,null,0);c.on(\"doubleclick\",function(a){a.data.dialog in{link:1,anchor:1}&&a.data.link&&c.getSelection().selectElement(a.data.link)},null,null,20);c.addMenuItems&&c.addMenuItems({anchor:{label:c.lang.link.anchor.menu,command:\"anchor\",group:\"anchor\",order:1},removeAnchor:{label:c.lang.link.anchor.remove,command:\"removeAnchor\",group:\"anchor\",order:5},link:{label:c.lang.link.menu,command:\"link\",group:\"link\",\norder:1},unlink:{label:c.lang.link.unlink,command:\"unlink\",group:\"link\",order:5}});c.contextMenu&&c.contextMenu.addListener(function(a){if(!a||a.isReadOnly())return null;a=CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,a);if(!a&&!(a=CKEDITOR.plugins.link.getSelectedLink(c)))return null;var b={};a.getAttribute(\"href\")&&a.getChildCount()&&(b={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});if(a&&a.hasAttribute(\"name\"))b.anchor=b.removeAnchor=CKEDITOR.TRISTATE_OFF;return b});this.compiledProtectionFunction=\nl(c)},afterInit:function(c){c.dataProcessor.dataFilter.addRules({elements:{a:function(a){return!a.attributes.name?null:!a.children.length?c.createFakeParserElement(a,\"cke_anchor\",\"anchor\"):null}}});var b=c._.elementsPath&&c._.elementsPath.filters;b&&b.push(function(a,b){if(\"a\"==b&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,a)||a.getAttribute(\"name\")&&(!a.getAttribute(\"href\")||!a.getChildCount())))return\"anchor\"})}});var p=/^javascript:/,q=/^mailto:([^?]+)(?:\\?(.+))?$/,r=/subject=([^;?:@&=$,\\/]*)/,\ns=/body=([^;?:@&=$,\\/]*)/,t=/^#(.*)$/,u=/^((?:http|https|ftp|news):\\/\\/)?(.*)$/,v=/^(_(?:self|top|parent|blank))$/,w=/^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,x=/^javascript:([^(]+)\\(([^)]+)\\)$/,y=/\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,z=/(?:^|,)([^=]+)=(\\d+|yes|no)/gi,j={id:\"advId\",dir:\"advLangDir\",accessKey:\"advAccessKey\",name:\"advName\",lang:\"advLangCode\",tabindex:\"advTabIndex\",title:\"advTitle\",\ntype:\"advContentType\",\"class\":\"advCSSClasses\",charset:\"advCharset\",style:\"advStyles\",rel:\"advRel\"};CKEDITOR.plugins.link={getSelectedLink:function(c){var b=c.getSelection(),a=b.getSelectedElement();return a&&a.is(\"a\")?a:(b=b.getRanges()[0])?(b.shrink(CKEDITOR.SHRINK_TEXT),c.elementPath(b.getCommonAncestor()).contains(\"a\",1)):null},getEditorAnchors:function(c){for(var b=c.editable(),a=b.isInline()&&!c.plugins.divarea?c.document:b,b=a.getElementsByTag(\"a\"),a=a.getElementsByTag(\"img\"),f=[],e=0,d;d=b.getItem(e++);)if(d.data(\"cke-saved-name\")||\nd.hasAttribute(\"name\"))f.push({name:d.data(\"cke-saved-name\")||d.getAttribute(\"name\"),id:d.getAttribute(\"id\")});for(e=0;d=a.getItem(e++);)(d=this.tryRestoreFakeAnchor(c,d))&&f.push({name:d.getAttribute(\"name\"),id:d.getAttribute(\"id\")});return f},fakeAnchor:!0,tryRestoreFakeAnchor:function(c,b){if(b&&b.data(\"cke-real-element-type\")&&\"anchor\"==b.data(\"cke-real-element-type\")){var a=c.restoreRealElement(b);if(a.data(\"cke-saved-name\"))return a}},parseLinkAttributes:function(c,b){var a=b&&(b.data(\"cke-saved-href\")||\nb.getAttribute(\"href\"))||\"\",f=c.plugins.link.compiledProtectionFunction,e=c.config.emailProtection,d,g={};a.match(p)&&(\"encode\"==e?a=a.replace(w,function(a,b,c){return\"mailto:\"+String.fromCharCode.apply(String,b.split(\",\"))+(c&&c.replace(/\\\\'/g,\"'\"))}):e&&a.replace(x,function(a,b,c){if(b==f.name){g.type=\"email\";for(var a=g.email={},b=/(^')|('$)/g,c=c.match(/[^,\\s]+/g),d=c.length,e,h,i=0;i<d;i++)e=decodeURIComponent,h=c[i].replace(b,\"\").replace(/\\\\'/g,\"'\"),h=e(h),e=f.params[i].toLowerCase(),a[e]=h;\na.address=[a.name,a.domain].join(\"@\")}}));if(!g.type)if(e=a.match(t))g.type=\"anchor\",g.anchor={},g.anchor.name=g.anchor.id=e[1];else if(e=a.match(q)){d=a.match(r);a=a.match(s);g.type=\"email\";var i=g.email={};i.address=e[1];d&&(i.subject=decodeURIComponent(d[1]));a&&(i.body=decodeURIComponent(a[1]))}else if(a&&(d=a.match(u)))g.type=\"url\",g.url={},g.url.protocol=d[1],g.url.url=d[2];if(b){if(a=b.getAttribute(\"target\"))g.target={type:a.match(v)?a:\"frame\",name:a};else if(a=(a=b.data(\"cke-pa-onclick\")||\nb.getAttribute(\"onclick\"))&&a.match(y))for(g.target={type:\"popup\",name:a[1]};e=z.exec(a[2]);)(\"yes\"==e[2]||\"1\"==e[2])&&!(e[1]in{height:1,width:1,top:1,left:1})?g.target[e[1]]=!0:isFinite(e[2])&&(g.target[e[1]]=e[2]);var a={},h;for(h in j)(e=b.getAttribute(h))&&(a[j[h]]=e);if(h=b.data(\"cke-saved-name\")||a.advName)a.advName=h;CKEDITOR.tools.isEmpty(a)||(g.advanced=a)}return g},getLinkAttributes:function(c,b){var a=c.config.emailProtection||\"\",f={};switch(b.type){case \"url\":var a=b.url&&void 0!=b.url.protocol?\nb.url.protocol:\"http://\",e=b.url&&CKEDITOR.tools.trim(b.url.url)||\"\";f[\"data-cke-saved-href\"]=0===e.indexOf(\"/\")?e:a+e;break;case \"anchor\":a=b.anchor&&b.anchor.id;f[\"data-cke-saved-href\"]=\"#\"+(b.anchor&&b.anchor.name||a||\"\");break;case \"email\":var d=b.email,e=d.address;switch(a){case \"\":case \"encode\":var g=encodeURIComponent(d.subject||\"\"),i=encodeURIComponent(d.body||\"\"),d=[];g&&d.push(\"subject=\"+g);i&&d.push(\"body=\"+i);d=d.length?\"?\"+d.join(\"&\"):\"\";\"encode\"==a?(a=[\"javascript:void(location.href='mailto:'+\",\nn(e)],d&&a.push(\"+'\",m(d),\"'\"),a.push(\")\")):a=[\"mailto:\",e,d];break;default:a=e.split(\"@\",2),d.name=a[0],d.domain=a[1],a=[\"javascript:\",o(c,d)]}f[\"data-cke-saved-href\"]=a.join(\"\")}if(b.target)if(\"popup\"==b.target.type){for(var a=[\"window.open(this.href, '\",b.target.name||\"\",\"', '\"],h=\"resizable status location toolbar menubar fullscreen scrollbars dependent\".split(\" \"),e=h.length,g=function(a){b.target[a]&&h.push(a+\"=\"+b.target[a])},d=0;d<e;d++)h[d]+=b.target[h[d]]?\"=yes\":\"=no\";g(\"width\");g(\"left\");\ng(\"height\");g(\"top\");a.push(h.join(\",\"),\"'); return false;\");f[\"data-cke-pa-onclick\"]=a.join(\"\")}else\"notSet\"!=b.target.type&&b.target.name&&(f.target=b.target.name);if(b.advanced){for(var k in j)(a=b.advanced[j[k]])&&(f[k]=a);f.name&&(f[\"data-cke-saved-name\"]=f.name)}f[\"data-cke-saved-href\"]&&(f.href=f[\"data-cke-saved-href\"]);k=CKEDITOR.tools.extend({target:1,onclick:1,\"data-cke-pa-onclick\":1,\"data-cke-saved-name\":1},j);for(var l in f)delete k[l];return{set:f,removed:CKEDITOR.tools.objectKeys(k)}}};\nCKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(c){var b=new CKEDITOR.style({element:\"a\",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});c.removeStyle(b)},refresh:function(c,b){var a=b.lastElement&&b.lastElement.getAscendant(\"a\",!0);a&&\"a\"==a.getName()&&a.getAttribute(\"href\")&&a.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:\"a[href]\"};CKEDITOR.removeAnchorCommand=\nfunction(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(c){var b=c.getSelection(),a=b.createBookmarks(),f;if(b&&(f=b.getSelectedElement())&&(!f.getChildCount()?CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,f):f.is(\"a\")))f.remove(1);else if(f=CKEDITOR.plugins.link.getSelectedLink(c))f.hasAttribute(\"href\")?(f.removeAttributes({name:1,\"data-cke-saved-name\":1}),f.removeClass(\"cke_anchor\")):f.remove(1);b.selectBookmarks(a)},requiredContent:\"a[name]\"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,\nlinkShowTargetTab:!0})})();(function(){function E(c,j,e){function b(b){if((d=a[b?\"getFirst\":\"getLast\"]())&&(!d.is||!d.isBlockBoundary())&&(m=j.root[b?\"getPrevious\":\"getNext\"](CKEDITOR.dom.walker.invisible(!0)))&&(!m.is||!m.isBlockBoundary({br:1})))c.document.createElement(\"br\")[b?\"insertBefore\":\"insertAfter\"](d)}for(var k=CKEDITOR.plugins.list.listToArray(j.root,e),g=[],h=0;h<j.contents.length;h++){var f=j.contents[h];if((f=f.getAscendant(\"li\",!0))&&!f.getCustomData(\"list_item_processed\"))g.push(f),CKEDITOR.dom.element.setMarker(e,\nf,\"list_item_processed\",!0)}f=null;for(h=0;h<g.length;h++)f=g[h].getCustomData(\"listarray_index\"),k[f].indent=-1;for(h=f+1;h<k.length;h++)if(k[h].indent>k[h-1].indent+1){g=k[h-1].indent+1-k[h].indent;for(f=k[h].indent;k[h]&&k[h].indent>=f;)k[h].indent+=g,h++;h--}var a=CKEDITOR.plugins.list.arrayToList(k,e,null,c.config.enterMode,j.root.getAttribute(\"dir\")).listNode,d,m;b(!0);b();a.replace(j.root);c.fire(\"contentDomInvalidated\")}function x(c,j){this.name=c;this.context=this.type=j;this.allowedContent=\nj+\" li\";this.requiredContent=j}function A(c,j,e,b){for(var k,g;k=c[b?\"getLast\":\"getFirst\"](F);)(g=k.getDirection(1))!==j.getDirection(1)&&k.setAttribute(\"dir\",g),k.remove(),e?k[b?\"insertBefore\":\"insertAfter\"](e):j.append(k,b)}function B(c){var j;(j=function(e){var b=c[e?\"getPrevious\":\"getNext\"](q);b&&(b.type==CKEDITOR.NODE_ELEMENT&&b.is(c.getName()))&&(A(c,b,null,!e),c.remove(),c=b)})();j(1)}function C(c){return c.type==CKEDITOR.NODE_ELEMENT&&(c.getName()in CKEDITOR.dtd.$block||c.getName()in CKEDITOR.dtd.$listItem)&&\nCKEDITOR.dtd[c.getName()][\"#\"]}function y(c,j,e){c.fire(\"saveSnapshot\");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var b=e.extractContents();j.trim(!1,!0);var k=j.createBookmark(),g=new CKEDITOR.dom.elementPath(j.startContainer),h=g.block,g=g.lastElement.getAscendant(\"li\",1)||h,f=new CKEDITOR.dom.elementPath(e.startContainer),a=f.contains(CKEDITOR.dtd.$listItem),f=f.contains(CKEDITOR.dtd.$list);h?(h=h.getBogus())&&h.remove():f&&(h=f.getPrevious(q))&&v(h)&&h.remove();(h=b.getLast())&&(h.type==\nCKEDITOR.NODE_ELEMENT&&h.is(\"br\"))&&h.remove();(h=j.startContainer.getChild(j.startOffset))?b.insertBefore(h):j.startContainer.append(b);if(a&&(b=w(a)))g.contains(a)?(A(b,a.getParent(),a),b.remove()):g.append(b);for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){f=e.startPath();b=f.block;if(!b)break;b.is(\"li\")&&(g=b.getParent(),b.equals(g.getLast(q))&&b.equals(g.getFirst(q))&&(b=g));e.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove()}e=e.clone();b=c.editable();e.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);\ne=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return q(a)&&!v(a)};(e=e.next())&&(e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list)&&B(e);j.moveToBookmark(k);j.select();c.fire(\"saveSnapshot\")}function w(c){return(c=c.getLast(q))&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in r?c:null}var r={ol:1,ul:1},G=CKEDITOR.dom.walker.whitespaces(),D=CKEDITOR.dom.walker.bookmark(),q=function(c){return!(G(c)||D(c))},v=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(c,\nj,e,b,k){if(!r[c.getName()])return[];b||(b=0);e||(e=[]);for(var g=0,h=c.getChildCount();g<h;g++){var f=c.getChild(g);f.type==CKEDITOR.NODE_ELEMENT&&f.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(f,j,e,b+1);if(\"li\"==f.$.nodeName.toLowerCase()){var a={parent:c,indent:b,element:f,contents:[]};k?a.grandparent=k:(a.grandparent=c.getParent(),a.grandparent&&\"li\"==a.grandparent.$.nodeName.toLowerCase()&&(a.grandparent=a.grandparent.getParent()));j&&CKEDITOR.dom.element.setMarker(j,f,\n\"listarray_index\",e.length);e.push(a);for(var d=0,m=f.getChildCount(),i;d<m;d++)i=f.getChild(d),i.type==CKEDITOR.NODE_ELEMENT&&r[i.getName()]?CKEDITOR.plugins.list.listToArray(i,j,e,b+1,a.grandparent):a.contents.push(i)}}return e},arrayToList:function(c,j,e,b,k){e||(e=0);if(!c||c.length<e+1)return null;for(var g,h=c[e].parent.getDocument(),f=new CKEDITOR.dom.documentFragment(h),a=null,d=e,m=Math.max(c[e].indent,0),i=null,n,l,p=b==CKEDITOR.ENTER_P?\"p\":\"div\";;){var o=c[d];g=o.grandparent;n=o.element.getDirection(1);\nif(o.indent==m){if(!a||c[d].parent.getName()!=a.getName())a=c[d].parent.clone(!1,1),k&&a.setAttribute(\"dir\",k),f.append(a);i=a.append(o.element.clone(0,1));n!=a.getDirection(1)&&i.setAttribute(\"dir\",n);for(g=0;g<o.contents.length;g++)i.append(o.contents[g].clone(1,1));d++}else if(o.indent==Math.max(m,0)+1)o=c[d-1].element.getDirection(1),d=CKEDITOR.plugins.list.arrayToList(c,null,d,b,o!=n?n:null),!i.getChildCount()&&(CKEDITOR.env.needsNbspFiller&&!(7<h.$.documentMode))&&i.append(h.createText(\"\")),\ni.append(d.listNode),d=d.nextIndex;else if(-1==o.indent&&!e&&g){r[g.getName()]?(i=o.element.clone(!1,!0),n!=g.getDirection(1)&&i.setAttribute(\"dir\",n)):i=new CKEDITOR.dom.documentFragment(h);var a=g.getDirection(1)!=n,u=o.element,z=u.getAttribute(\"class\"),v=u.getAttribute(\"style\"),w=i.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(b!=CKEDITOR.ENTER_BR||a||v||z),s,x=o.contents.length,t;for(g=0;g<x;g++)if(s=o.contents[g],D(s)&&1<x)w?t=s.clone(1,1):i.append(s.clone(1,1));else if(s.type==CKEDITOR.NODE_ELEMENT&&\ns.isBlockBoundary()){a&&!s.getDirection()&&s.setAttribute(\"dir\",n);l=s;var y=u.getAttribute(\"style\");y&&l.setAttribute(\"style\",y.replace(/([^;])$/,\"$1;\")+(l.getAttribute(\"style\")||\"\"));z&&s.addClass(z);l=null;t&&(i.append(t),t=null);i.append(s.clone(1,1))}else w?(l||(l=h.createElement(p),i.append(l),a&&l.setAttribute(\"dir\",n)),v&&l.setAttribute(\"style\",v),z&&l.setAttribute(\"class\",z),t&&(l.append(t),t=null),l.append(s.clone(1,1))):i.append(s.clone(1,1));t&&((l||i).append(t),t=null);i.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&\nd!=c.length-1&&(CKEDITOR.env.needsBrFiller&&(n=i.getLast())&&(n.type==CKEDITOR.NODE_ELEMENT&&n.is(\"br\"))&&n.remove(),n=i.getLast(q),(!n||!(n.type==CKEDITOR.NODE_ELEMENT&&n.is(CKEDITOR.dtd.$block)))&&i.append(h.createElement(\"br\")));n=i.$.nodeName.toLowerCase();(\"div\"==n||\"p\"==n)&&i.appendBogus();f.append(i);a=null;d++}else return null;l=null;if(c.length<=d||Math.max(c[d].indent,0)<m)break}if(j)for(c=f.getFirst();c;){if(c.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(j,c),c.getName()in\nCKEDITOR.dtd.$listItem&&(e=c,h=k=b=void 0,b=e.getDirection()))){for(k=e.getParent();k&&!(h=k.getDirection());)k=k.getParent();b==h&&e.removeAttribute(\"dir\")}c=c.getNextSourceNode()}return{listNode:f,nextIndex:d}}};var H=/^h[1-6]$/,F=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);x.prototype={exec:function(c){this.refresh(c,c.elementPath());var j=c.config,e=c.getSelection(),b=e&&e.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var k=c.editable();if(k.getFirst(q)){var g=1==b.length&&b[0];(j=\ng&&g.getEnclosedNode())&&(j.is&&this.type==j.getName())&&this.setState(CKEDITOR.TRISTATE_ON)}else j.enterMode==CKEDITOR.ENTER_BR?k.appendBogus():b[0].fixBlock(1,j.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),e.selectRanges(b)}for(var j=e.createBookmarks(!0),k=[],h={},b=b.createIterator(),f=0;(g=b.getNextRange())&&++f;){var a=g.getBoundaryNodes(),d=a.startNode,m=a.endNode;d.type==CKEDITOR.NODE_ELEMENT&&\"td\"==d.getName()&&g.setStartAt(a.startNode,CKEDITOR.POSITION_AFTER_START);m.type==CKEDITOR.NODE_ELEMENT&&\n\"td\"==m.getName()&&g.setEndAt(a.endNode,CKEDITOR.POSITION_BEFORE_END);g=g.createIterator();for(g.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;a=g.getNextParagraph();)if(!a.getCustomData(\"list_block\")){CKEDITOR.dom.element.setMarker(h,a,\"list_block\",1);for(var i=c.elementPath(a),d=i.elements,m=0,i=i.blockLimit,n,l=d.length-1;0<=l&&(n=d[l]);l--)if(r[n.getName()]&&i.contains(n)){i.removeCustomData(\"list_group_object_\"+f);(d=n.getCustomData(\"list_group_object\"))?d.contents.push(a):(d={root:n,contents:[a]},\nk.push(d),CKEDITOR.dom.element.setMarker(h,n,\"list_group_object\",d));m=1;break}m||(m=i,m.getCustomData(\"list_group_object_\"+f)?m.getCustomData(\"list_group_object_\"+f).contents.push(a):(d={root:m,contents:[a]},CKEDITOR.dom.element.setMarker(h,m,\"list_group_object_\"+f,d),k.push(d)))}}for(n=[];0<k.length;)if(d=k.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(r[d.root.getName()]){b=c;f=d;d=h;g=n;m=CKEDITOR.plugins.list.listToArray(f.root,d);i=[];for(a=0;a<f.contents.length;a++)if(l=f.contents[a],(l=l.getAscendant(\"li\",\n!0))&&!l.getCustomData(\"list_item_processed\"))i.push(l),CKEDITOR.dom.element.setMarker(d,l,\"list_item_processed\",!0);for(var l=f.root.getDocument(),p=void 0,o=void 0,a=0;a<i.length;a++){var u=i[a].getCustomData(\"listarray_index\"),p=m[u].parent;p.is(this.type)||(o=l.createElement(this.type),p.copyAttributes(o,{start:1,type:1}),o.removeStyle(\"list-style-type\"),m[u].parent=o)}d=CKEDITOR.plugins.list.arrayToList(m,d,null,b.config.enterMode);m=void 0;i=d.listNode.getChildCount();for(a=0;a<i&&(m=d.listNode.getChild(a));a++)m.getName()==\nthis.type&&g.push(m);d.listNode.replace(f.root);b.fire(\"contentDomInvalidated\")}else{m=c;a=d;g=n;i=a.contents;b=a.root.getDocument();f=[];1==i.length&&i[0].equals(a.root)&&(d=b.createElement(\"div\"),i[0].moveChildren&&i[0].moveChildren(d),i[0].append(d),i[0]=d);a=a.contents[0].getParent();for(l=0;l<i.length;l++)a=a.getCommonAncestor(i[l].getParent());p=m.config.useComputedState;m=d=void 0;p=void 0===p||p;for(l=0;l<i.length;l++)for(o=i[l];u=o.getParent();){if(u.equals(a)){f.push(o);!m&&o.getDirection()&&\n(m=1);o=o.getDirection(p);null!==d&&(d=d&&d!=o?null:o);break}o=u}if(!(1>f.length)){i=f[f.length-1].getNext();l=b.createElement(this.type);g.push(l);for(p=g=void 0;f.length;)g=f.shift(),p=b.createElement(\"li\"),g.is(\"pre\")||H.test(g.getName())||\"false\"==g.getAttribute(\"contenteditable\")?g.appendTo(p):(g.copyAttributes(p),d&&g.getDirection()&&(p.removeStyle(\"direction\"),p.removeAttribute(\"dir\")),g.moveChildren(p),g.remove()),p.appendTo(l);d&&m&&l.setAttribute(\"dir\",d);i?l.insertBefore(i):l.appendTo(a)}}else this.state==\nCKEDITOR.TRISTATE_ON&&r[d.root.getName()]&&E.call(this,c,d,h);for(l=0;l<n.length;l++)B(n[l]);CKEDITOR.dom.element.clearAllMarkers(h);e.selectBookmarks(j);c.focus()},refresh:function(c,j){var e=j.contains(r,1),b=j.blockLimit||j.root;e&&b.contains(e)?this.setState(e.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"list\",{requires:\"indentlist\",init:function(c){c.blockless||(c.addCommand(\"numberedlist\",new x(\"numberedlist\",\"ol\")),c.addCommand(\"bulletedlist\",\nnew x(\"bulletedlist\",\"ul\")),c.ui.addButton&&(c.ui.addButton(\"NumberedList\",{label:c.lang.list.numberedlist,command:\"numberedlist\",directional:!0,toolbar:\"list,10\"}),c.ui.addButton(\"BulletedList\",{label:c.lang.list.bulletedlist,command:\"bulletedlist\",directional:!0,toolbar:\"list,20\"})),c.on(\"key\",function(j){var e=j.data.domEvent.getKey();if(c.mode==\"wysiwyg\"&&e in{8:1,46:1}){var b=c.getSelection().getRanges()[0],k=b&&b.startPath();if(b&&b.collapsed){var g=e==8,h=c.editable(),f=new CKEDITOR.dom.walker(b.clone());\nf.evaluator=function(a){return q(a)&&!v(a)};f.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))};e=b.clone();if(g){var a,d;if((a=k.contains(r))&&b.checkBoundaryOfElement(a,CKEDITOR.START)&&(a=a.getParent())&&a.is(\"li\")&&(a=w(a))){d=a;a=a.getPrevious(q);e.moveToPosition(a&&v(a)?a:d,CKEDITOR.POSITION_BEFORE_START)}else{f.range.setStartAt(h,CKEDITOR.POSITION_AFTER_START);f.range.setEnd(b.startContainer,b.startOffset);if((a=f.previous())&&a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in\nr||a.is(\"li\"))){if(!a.is(\"li\")){f.range.selectNodeContents(a);f.reset();f.evaluator=C;a=f.previous()}d=a;e.moveToElementEditEnd(d)}}if(d){y(c,e,b);j.cancel()}else if((e=k.contains(r))&&b.checkBoundaryOfElement(e,CKEDITOR.START)){d=e.getFirst(q);if(b.checkBoundaryOfElement(d,CKEDITOR.START)){a=e.getPrevious(q);if(w(d)){if(a){b.moveToElementEditEnd(a);b.select()}}else c.execCommand(\"outdent\");j.cancel()}}}else if(d=k.contains(\"li\")){f.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);h=(k=d.getLast(q))&&\nC(k)?k:d;d=0;if((a=f.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in r&&a.equals(k)){d=1;a=f.next()}else b.checkBoundaryOfElement(h,CKEDITOR.END)&&(d=1);if(d&&a){b=b.clone();b.moveToElementEditStart(a);y(c,e,b);j.cancel()}}else{f.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);if((a=f.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(r)){a=a.getFirst(q);if(k.block&&b.checkStartOfBlock()&&b.checkEndOfBlock()){k.block.remove();b.moveToElementEditStart(a);b.select()}else if(w(a)){b.moveToElementEditStart(a);\nb.select()}else{b=b.clone();b.moveToElementEditStart(a);y(c,e,b)}j.cancel()}}setTimeout(function(){c.selectionChange(1)})}}}))}})})();(function(){function Q(a,c,d){return m(c)&&m(d)&&d.equals(c.getNext(function(a){return!(z(a)||A(a)||p(a))}))}function u(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function J(a){var c=a.element;if(c&&m(c)&&(c=c.getAscendant(a.triggers,!0))&&a.editable.contains(c)){var d=K(c);if(\"true\"==d.getAttribute(\"contenteditable\"))return c;if(d.is(a.triggers))return d}return null}function ga(a,c,d){o(a,c);o(a,d);a=c.size.bottom;d=d.size.top;return a&&d?0|(a+d)/2:a||d}function r(a,c,d){return c=\nc[d?\"getPrevious\":\"getNext\"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!z(b)||m(b)&&!p(b)&&!v(a,b)})}function K(a,c){if(a.data(\"cke-editable\"))return null;for(c||(a=a.getParent());a&&!a.data(\"cke-editable\");){if(a.hasAttribute(\"contenteditable\"))return a;a=a.getParent()}return null}function ha(a){var c=a.doc,d=B('<span contenteditable=\"false\" style=\"'+L+\"position:absolute;border-top:1px dashed \"+a.boxColor+'\"></span>',c),b=CKEDITOR.getUrl(this.path+\"images/\"+(n.hidpi?\"hidpi/\":\"\")+\"icon\"+(a.rtl?\n\"-rtl\":\"\")+\".png\");q(d,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[q(B('<span title=\"'+a.editor.lang.magicline.title+'\" contenteditable=\"false\">&#8629;</span>',c),{base:L+\"height:17px;width:17px;\"+(a.rtl?\"left\":\"right\")+\":17px;background:url(\"+b+\") center no-repeat \"+a.boxColor+\";cursor:pointer;\"+(n.hc?\"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;\":\"\")+(n.hidpi?\"background-size: 9px 10px;\":\"\"),looks:[\"top:-8px;\"+\nCKEDITOR.tools.cssVendorPrefix(\"border-radius\",\"2px\",1),\"top:-17px;\"+CKEDITOR.tools.cssVendorPrefix(\"border-radius\",\"2px 2px 0px 0px\",1),\"top:-1px;\"+CKEDITOR.tools.cssVendorPrefix(\"border-radius\",\"0px 0px 2px 2px\",1)]}),q(B(R,c),{base:S+\"left:0px;border-left-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 0 8px 8px;top:-8px\",\"border-width:8px 0 0 8px;top:-8px\",\"border-width:0 0 8px 8px;top:0px\"]}),q(B(R,c),{base:S+\"right:0px;border-right-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 8px 8px 0;top:-8px\",\n\"border-width:8px 8px 0 0;top:-8px\",\"border-width:0 8px 8px 0;top:0px\"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){o(a,this);var b=a.holdDistance,c=this.size;return c&&a.mouse.y>c.top-b&&a.mouse.y<c.bottom+b&&a.mouse.x>c.left-b&&a.mouse.x<c.right+b?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,i=d.upper,h=d.lower,j=i||h,l=j.getParent(),k={};this.trigger=d;i&&o(a,i,!0);h&&o(a,h,!0);o(a,l,!0);a.inInlineMode&&C(a,!0);l.equals(c)?(k.left=\nb.scroll.x,k.right=-b.scroll.x,k.width=\"\"):(k.left=j.size.left-j.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),k.width=j.size.outerWidth+j.size.margin.left+j.size.margin.right+b.scroll.x,k.right=\"\");i&&h?k.top=i.size.margin.bottom===h.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<h.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-h.size.margin.top:i?h||(k.top=i.size.bottom+i.size.margin.bottom):\nk.top=h.size.top-h.size.margin.top;d.is(x)||k.top>b.scroll.y-15&&k.top<b.scroll.y+5?(k.top=a.inInlineMode?0:b.scroll.y,this.look(x)):d.is(y)||k.top>b.pane.bottom-5&&k.top<b.pane.bottom+15?(k.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(y)):(a.inInlineMode&&(k.top-=b.editable.top+b.editable.border.top),this.look(s));a.inInlineMode&&(k.top--,k.top+=b.editable.scroll.top,k.left+=b.editable.scroll.left);for(var T in k)k[T]=CKEDITOR.tools.cssLength(k[T]);\nthis.setStyles(k)},look:function(a){if(this.oldLook!=a){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute(\"style\",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new M(\"span\",a.doc)});for(c=d.lineChildren.length;c--;)d.lineChildren[c].appendTo(d);d.look(s);d.appendTo(d.wrap);d.unselectable();d.lineChildren[0].on(\"mouseup\",function(b){d.detach();N(a,function(b){var c=a.line.trigger;b[c.is(D)?\"insertBefore\":\"insertAfter\"](c.is(D)?c.lower:c.upper)},!0);a.editor.focus();!n.ie&&\na.enterMode!=CKEDITOR.ENTER_BR&&a.hotNode.scrollIntoView();b.data.preventDefault(!0)});d.on(\"mousedown\",function(a){a.data.preventDefault(!0)});a.line=d}function N(a,c,d){var b=new CKEDITOR.dom.range(a.doc),e=a.editor,f;n.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(E):(f=(f=K(a.element,!0))&&f.data(\"cke-enter-mode\")||a.enterMode,f=new M(F[f],a.doc),f.is(\"br\")||a.doc.createText(E).appendTo(f));d&&e.fire(\"saveSnapshot\");c(f);b.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([b]);\na.hotNode=f;d&&e.fire(\"saveSnapshot\")}function U(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(b){var d=n.ie&&9>n.version?\" \":E,f=a.hotNode&&a.hotNode.getText()==d&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;N(a,function(d){f&&a.hotNode&&a.hotNode.remove();d[c?\"insertAfter\":\"insertBefore\"](b);d.setAttributes({\"data-cke-magicline-hot\":1,\"data-cke-magicline-dir\":!!c});a.lastCmdDirection=!!c});!n.ie&&a.enterMode!=CKEDITOR.ENTER_BR&&a.hotNode.scrollIntoView();a.line.detach()}\nreturn function(b){var b=b.getSelection().getStartElement(),e,b=b.getAscendant(V,1);if(!W(a,b)&&b&&!b.equals(a.editable)&&!b.contains(a.editable)){if((e=K(b))&&\"false\"==e.getAttribute(\"contenteditable\"))b=e;a.element=b;e=r(a,b,!c);var f;m(e)&&e.is(a.triggers)&&e.is(ia)&&(!r(a,e,!c)||(f=r(a,e,!c))&&m(f)&&f.is(a.triggers))?d(e):(f=J(a,b),m(f)&&(r(a,f,!c)?(b=r(a,f,!c))&&(m(b)&&b.is(a.triggers))&&d(f):d(f)))}}}()}}function v(a,c){if(!c||!(c.type==CKEDITOR.NODE_ELEMENT&&c.$))return!1;var d=a.line;return d.wrap.equals(c)||\nd.wrap.contains(c)}function m(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.$}function p(a){if(!m(a))return!1;var c;if(!(c=X(a)))m(a)?(c={left:1,right:1,center:1},c=!(!c[a.getComputedStyle(\"float\")]&&!c[a.getAttribute(\"align\")])):c=!1;return c}function X(a){return!!{absolute:1,fixed:1}[a.getComputedStyle(\"position\")]}function G(a,c){return m(c)?c.is(a.triggers):null}function W(a,c){if(!c)return!1;for(var d=c.getParents(1),b=d.length;b--;)for(var e=a.tabuList.length;e--;)if(d[b].hasAttribute(a.tabuList[e]))return!0;\nreturn!1}function ja(a,c,d){c=c[d?\"getLast\":\"getFirst\"](function(b){return a.isRelevant(b)&&!b.is(ka)});if(!c)return!1;o(a,c);return d?c.size.top>a.mouse.y:c.size.bottom<a.mouse.y}function Y(a){var c=a.editable,d=a.mouse,b=a.view,e=a.triggerOffset;C(a);var f=d.y>(a.inInlineMode?b.editable.top+b.editable.height/2:Math.min(b.editable.height,b.pane.height)/2),c=c[f?\"getLast\":\"getFirst\"](function(a){return!(z(a)||A(a))});if(!c)return null;v(a,c)&&(c=a.line.wrap[f?\"getPrevious\":\"getNext\"](function(a){return!(z(a)||\nA(a))}));if(!m(c)||p(c)||!G(a,c))return null;o(a,c);return!f&&0<=c.size.top&&0<d.y&&d.y<c.size.top+e?(a=a.inInlineMode||0===b.scroll.y?x:s,new u([null,c,D,H,a])):f&&c.size.bottom<=b.pane.height&&d.y>c.size.bottom-e&&d.y<b.pane.height?(a=a.inInlineMode||c.size.bottom>b.pane.height-e&&c.size.bottom<b.pane.height?y:s,new u([c,null,Z,H,a])):null}function $(a){var c=a.mouse,d=a.view,b=a.triggerOffset,e=J(a);if(!e)return null;o(a,e);var b=Math.min(b,0|e.size.outerHeight/2),f=[],g,i;if(c.y>e.size.top-1&&\nc.y<e.size.top+b)i=!1;else if(c.y>e.size.bottom-b&&c.y<e.size.bottom+1)i=!0;else return null;if(p(e)||ja(a,e,i)||e.getParent().is(aa))return null;var h=r(a,e,!i);if(h){if(h&&h.type==CKEDITOR.NODE_TEXT)return null;if(m(h)){if(p(h)||!G(a,h)||h.getParent().is(aa))return null;f=[h,e][i?\"reverse\":\"concat\"]().concat([O,H])}}else e.equals(a.editable[i?\"getLast\":\"getFirst\"](a.isRelevant))?(C(a),i&&c.y>e.size.bottom-b&&c.y<d.pane.height&&e.size.bottom>d.pane.height-b&&e.size.bottom<d.pane.height?g=y:0<c.y&&\nc.y<e.size.top+b&&(g=x)):g=s,f=[null,e][i?\"reverse\":\"concat\"]().concat([i?Z:D,H,g,e.equals(a.editable[i?\"getLast\":\"getFirst\"](a.isRelevant))?i?y:x:s]);return 0 in f?new u(f):null}function P(a,c,d,b){for(var e=function(){var b=n.ie?c.$.currentStyle:a.win.$.getComputedStyle(c.$,\"\");return n.ie?function(a){return b[CKEDITOR.tools.cssStyleToDomStyle(a)]}:function(a){return b.getPropertyValue(a)}}(),f=c.getDocumentPosition(),g={},i={},h={},j={},l=t.length;l--;)g[t[l]]=parseInt(e(\"border-\"+t[l]+\"-width\"),\n10)||0,h[t[l]]=parseInt(e(\"padding-\"+t[l]),10)||0,i[t[l]]=parseInt(e(\"margin-\"+t[l]),10)||0;(!d||b)&&I(a,b);j.top=f.y-(d?0:a.view.scroll.y);j.left=f.x-(d?0:a.view.scroll.x);j.outerWidth=c.$.offsetWidth;j.outerHeight=c.$.offsetHeight;j.height=j.outerHeight-(h.top+h.bottom+g.top+g.bottom);j.width=j.outerWidth-(h.left+h.right+g.left+g.right);j.bottom=j.top+j.outerHeight;j.right=j.left+j.outerWidth;a.inInlineMode&&(j.scroll={top:c.$.scrollTop,left:c.$.scrollLeft});return q({border:g,padding:h,margin:i,\nignoreScroll:d},j,!0)}function o(a,c,d){if(!m(c))return c.size=null;if(c.size){if(c.size.ignoreScroll==d&&c.size.date>new Date-ba)return null}else c.size={};return q(c.size,P(a,c,d),{date:+new Date},!0)}function C(a,c){a.view.editable=P(a,a.editable,c,!0)}function I(a,c){a.view||(a.view={});var d=a.view;if(c||!(d&&d.date>new Date-ba)){var b=a.win,d=b.getScrollPosition(),b=b.getViewPaneSize();q(a.view,{scroll:{x:d.x,y:d.y,width:a.doc.$.documentElement.scrollWidth-b.width,height:a.doc.$.documentElement.scrollHeight-\nb.height},pane:{width:b.width,height:b.height,bottom:b.height+d.y},date:+new Date},!0)}}function la(a,c,d,b){for(var e=b,f=b,g=0,i=!1,h=!1,j=a.view.pane.height,l=a.mouse;l.y+g<j&&0<l.y-g;){i||(i=c(e,b));h||(h=c(f,b));!i&&0<l.y-g&&(e=d(a,{x:l.x,y:l.y-g}));!h&&l.y+g<j&&(f=d(a,{x:l.x,y:l.y+g}));if(i&&h)break;g+=2}return new u([e,f,null,null])}CKEDITOR.plugins.add(\"magicline\",{init:function(a){var c=a.config,d=c.magicline_triggerOffset||30,b={editor:a,enterMode:c.enterMode,triggerOffset:d,holdDistance:0|\nd*(c.magicline_holdDistance||0.5),boxColor:c.magicline_color||\"#ff0000\",rtl:\"rtl\"==c.contentsLangDirection,tabuList:[\"data-cke-hidden-sel\"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?V:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},e,f,g;b.isRelevant=function(a){return m(a)&&!v(b,a)&&!p(a)};a.on(\"contentDom\",function(){var d=a.editable(),h=a.document,j=a.window;q(b,{editable:d,inInlineMode:d.isInline(),doc:h,win:j,hotNode:null},!0);b.boundary=b.inInlineMode?b.editable:\nb.doc.getDocumentElement();d.is(w.$inline)||(b.inInlineMode&&!X(d)&&d.setStyles({position:\"relative\",top:null,left:null}),ha.call(this,b),I(b),d.attachListener(a,\"beforeUndoImage\",function(){b.line.detach()}),d.attachListener(a,\"beforeGetData\",function(){b.line.wrap.getParent()&&(b.line.detach(),a.once(\"getData\",function(){b.line.attach()},null,null,1E3))},null,null,0),d.attachListener(b.inInlineMode?h:h.getWindow().getFrame(),\"mouseout\",function(c){if(\"wysiwyg\"==a.mode)if(b.inInlineMode){var d=c.data.$.clientX,\nc=c.data.$.clientY;I(b);C(b,!0);var e=b.view.editable,f=b.view.scroll;if(!(d>e.left-f.x&&d<e.right-f.x)||!(c>e.top-f.y&&c<e.bottom-f.y))clearTimeout(g),g=null,b.line.detach()}else clearTimeout(g),g=null,b.line.detach()}),d.attachListener(d,\"keyup\",function(){b.hiddenMode=0}),d.attachListener(d,\"keydown\",function(c){if(\"wysiwyg\"==a.mode)switch(c=c.data.getKeystroke(),a.getSelection().getStartElement(),c){case 2228240:case 16:b.hiddenMode=1,b.line.detach()}}),d.attachListener(b.inInlineMode?d:h,\"mousemove\",\nfunction(c){f=!0;if(!(\"wysiwyg\"!=a.mode||a.readOnly||g)){var d={x:c.data.$.clientX,y:c.data.$.clientY};g=setTimeout(function(){b.mouse=d;g=b.trigger=null;I(b);if(f&&!b.hiddenMode&&a.focusManager.hasFocus&&!b.line.mouseNear()&&(b.element=ca(b,!0)))(b.trigger=Y(b)||$(b)||da(b))&&!W(b,b.trigger.upper||b.trigger.lower)?b.line.attach().place():(b.trigger=null,b.line.detach()),f=!1},30)}}),d.attachListener(j,\"scroll\",function(){\"wysiwyg\"==a.mode&&(b.line.detach(),n.webkit&&(b.hiddenMode=1,clearTimeout(e),\ne=setTimeout(function(){b.mouseDown||(b.hiddenMode=0)},50)))}),d.attachListener(ea?h:j,\"mousedown\",function(){\"wysiwyg\"==a.mode&&(b.line.detach(),b.hiddenMode=1,b.mouseDown=1)}),d.attachListener(ea?h:j,\"mouseup\",function(){b.hiddenMode=0;b.mouseDown=0}),a.addCommand(\"accessPreviousSpace\",U(b)),a.addCommand(\"accessNextSpace\",U(b,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,\"accessPreviousSpace\"],[c.magicline_keystrokeNext,\"accessNextSpace\"]]),a.on(\"loadSnapshot\",function(){var c,d,e,f;for(f in{p:1,\nbr:1,div:1}){c=a.document.getElementsByTag(f);for(e=c.count();e--;)if((d=c.getItem(e)).data(\"cke-magicline-hot\")){b.hotNode=d;b.lastCmdDirection=\"true\"===d.data(\"cke-magicline-dir\")?!0:!1;return}}}),this.backdoor={accessFocusSpace:N,boxTrigger:u,isLine:v,getAscendantTrigger:J,getNonEmptyNeighbour:r,getSize:P,that:b,triggerEdge:$,triggerEditable:Y,triggerExpand:da})},this)}});var q=CKEDITOR.tools.extend,M=CKEDITOR.dom.element,B=M.createFromHtml,n=CKEDITOR.env,ea=CKEDITOR.env.ie&&9>CKEDITOR.env.version,\nw=CKEDITOR.dtd,F={},D=128,Z=64,O=32,H=16,fa=8,x=4,y=2,s=1,E=\"\",aa=w.$listItem,ka=w.$tableContent,ia=q({},w.$nonEditable,w.$empty),V=w.$block,ba=100,L=\"width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;\",S=L+\"border-color:transparent;display:block;border-style:solid;\",R=\"<span>\"+E+\"</span>\";F[CKEDITOR.ENTER_BR]=\"br\";F[CKEDITOR.ENTER_P]=\"p\";F[CKEDITOR.ENTER_DIV]=\"div\";u.prototype={set:function(a,c,d){this.properties=a+\nc+(d||s);return this},is:function(a){return(this.properties&a)==a}};var ca=function(){function a(a,d){var b=a.$.elementFromPoint(d.x,d.y);return b&&b.nodeType?new CKEDITOR.dom.element(b):null}return function(c,d,b){if(!c.mouse)return null;var e=c.doc,f=c.line.wrap,b=b||c.mouse,g=a(e,b);d&&v(c,g)&&(f.hide(),g=a(e,b),f.show());return!g||!(g.type==CKEDITOR.NODE_ELEMENT&&g.$)||n.ie&&9>n.version&&!c.boundary.equals(g)&&!c.boundary.contains(g)?null:g}}(),z=CKEDITOR.dom.walker.whitespaces(),A=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),\nda=function(){function a(a){var b=a.element,e,f,g;if(!m(b)||b.contains(a.editable)||b.isReadOnly())return null;g=la(a,function(a,b){return!b.equals(a)},function(a,b){return ca(a,!0,b)},b);e=g.upper;f=g.lower;if(Q(a,e,f))return g.set(O,fa);if(e&&b.contains(e))for(;!e.getParent().equals(b);)e=e.getParent();else e=b.getFirst(function(b){return c(a,b)});if(f&&b.contains(f))for(;!f.getParent().equals(b);)f=f.getParent();else f=b.getLast(function(b){return c(a,b)});if(!e||!f)return null;o(a,e);o(a,f);if(!(a.mouse.y>\ne.size.top&&a.mouse.y<f.size.bottom))return null;for(var b=Number.MAX_VALUE,i,h,j,l;f&&!f.equals(e)&&(h=e.getNext(a.isRelevant));)i=Math.abs(ga(a,e,h)-a.mouse.y),i<b&&(b=i,j=e,l=h),e=h,o(a,e);if(!j||!l||!(a.mouse.y>j.size.top&&a.mouse.y<l.size.bottom))return null;g.upper=j;g.lower=l;return g.set(O,fa)}function c(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||A(b)||p(b)||v(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is(\"br\"))}return function(c){var b=a(c),e;if(e=b){e=b.upper;var f=b.lower;e=!e||!f||p(f)||\np(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:G(c,e)&&G(c,f)&&Q(c,e,f)?!0:!1}return e?b:null}}(),t=[\"top\",\"left\",\"right\",\"bottom\"]})();CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51;CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52;(function(){function l(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())return[];for(var e=[],f=[\"style\",\"className\"],b=0;b<f.length;b++){var d=a.$.elements.namedItem(f[b]);d&&(d=new CKEDITOR.dom.element(d),e.push([d,d.nextSibling]),d.remove())}return e}function o(a,e){if(a&&!(a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())&&0<e.length)for(var f=e.length-1;0<=f;f--){var b=e[f][0],d=e[f][1];d?b.insertBefore(d):b.appendTo(a)}}function n(a,e){var f=l(a),b={},d=a.$;e||(b[\"class\"]=d.className||\n\"\",d.className=\"\");b.inline=d.style.cssText||\"\";e||(d.style.cssText=\"position: static; overflow: visible\");o(f);return b}function p(a,e){var f=l(a),b=a.$;\"class\"in e&&(b.className=e[\"class\"]);\"inline\"in e&&(b.style.cssText=e.inline);o(f)}function q(a){if(!a.editable().isInline()){var e=CKEDITOR.instances,f;for(f in e){var b=e[f];\"wysiwyg\"==b.mode&&!b.readOnly&&(b=b.document.getBody(),b.setAttribute(\"contentEditable\",!1),b.setAttribute(\"contentEditable\",!0))}a.editable().hasFocus&&(a.toolbox.focus(),\na.focus())}}CKEDITOR.plugins.add(\"maximize\",{init:function(a){function e(){var b=d.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var f=a.lang,b=CKEDITOR.document,d=b.getWindow(),j,k,m,l=CKEDITOR.TRISTATE_OFF;a.addCommand(\"maximize\",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}),g=a.ui.space(\"contents\");\nif(\"wysiwyg\"==a.mode){var c=a.getSelection();j=c&&c.getRanges();k=d.getScrollPosition()}else{var i=a.editable().$;j=!CKEDITOR.env.ie&&[i.selectionStart,i.selectionEnd];k=[i.scrollLeft,i.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){d.on(\"resize\",e);m=d.getScrollPosition();for(c=a.container;c=c.getParent();)c.setCustomData(\"maximize_saved_styles\",n(c)),c.setStyle(\"z-index\",a.config.baseFloatZIndex-5);g.setCustomData(\"maximize_saved_styles\",n(g,!0));h.setCustomData(\"maximize_saved_styles\",n(h,!0));\ng={overflow:CKEDITOR.env.webkit?\"\":\"hidden\",width:0,height:0};b.getDocumentElement().setStyles(g);!CKEDITOR.env.gecko&&b.getDocumentElement().setStyle(\"position\",\"fixed\");(!CKEDITOR.env.gecko||!CKEDITOR.env.quirks)&&b.getBody().setStyles(g);CKEDITOR.env.ie?setTimeout(function(){d.$.scrollTo(0,0)},0):d.$.scrollTo(0,0);h.setStyle(\"position\",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?\"fixed\":\"absolute\");h.$.offsetLeft;h.setStyles({\"z-index\":a.config.baseFloatZIndex-5,left:\"0px\",top:\"0px\"});h.addClass(\"cke_maximized\");\ne();g=h.getDocumentPosition();h.setStyles({left:-1*g.x+\"px\",top:-1*g.y+\"px\"});CKEDITOR.env.gecko&&q(a)}else if(this.state==CKEDITOR.TRISTATE_ON){d.removeListener(\"resize\",e);g=[g,h];for(c=0;c<g.length;c++)p(g[c],g[c].getCustomData(\"maximize_saved_styles\")),g[c].removeCustomData(\"maximize_saved_styles\");for(c=a.container;c=c.getParent();)p(c,c.getCustomData(\"maximize_saved_styles\")),c.removeCustomData(\"maximize_saved_styles\");CKEDITOR.env.ie?setTimeout(function(){d.$.scrollTo(m.x,m.y)},0):d.$.scrollTo(m.x,\nm.y);h.removeClass(\"cke_maximized\");CKEDITOR.env.webkit&&(h.setStyle(\"display\",\"inline\"),setTimeout(function(){h.setStyle(\"display\",\"block\")},0));a.fire(\"resize\")}this.toggleState();if(c=this.uiItems[0])g=this.state==CKEDITOR.TRISTATE_OFF?f.maximize.maximize:f.maximize.minimize,c=CKEDITOR.document.getById(c._.id),c.getChild(1).setHtml(g),c.setAttribute(\"title\",g),c.setAttribute(\"href\",'javascript:void(\"'+g+'\");');\"wysiwyg\"==a.mode?j?(CKEDITOR.env.gecko&&q(a),a.getSelection().selectRanges(j),(i=a.getSelection().getStartElement())&&\ni.scrollIntoView(!0)):d.$.scrollTo(k.x,k.y):(j&&(i.selectionStart=j[0],i.selectionEnd=j[1]),i.scrollLeft=k[0],i.scrollTop=k[1]);j=k=null;l=this.state;a.fire(\"maximize\",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"Maximize\",{label:f.maximize.maximize,command:\"maximize\",toolbar:\"tools,10\"});a.on(\"mode\",function(){var b=a.getCommand(\"maximize\");b.setState(b.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:l)},null,null,100)}}})})();(function(){var c={canUndo:!1,async:!0,exec:function(a){a.getClipboardData({title:a.lang.pastetext.title},function(b){b&&a.fire(\"paste\",{type:\"text\",dataValue:b.dataValue});a.fire(\"afterCommandExec\",{name:\"pastetext\",command:c,returnValue:!!b})})}};CKEDITOR.plugins.add(\"pastetext\",{requires:\"clipboard\",init:function(a){a.addCommand(\"pastetext\",c);a.ui.addButton&&a.ui.addButton(\"PasteText\",{label:a.lang.pastetext.button,command:\"pastetext\",toolbar:\"clipboard,40\"});if(a.config.forcePasteAsPlainText)a.on(\"beforePaste\",\nfunction(a){\"html\"!=a.data.type&&(a.data.type=\"text\")});a.on(\"pasteState\",function(b){a.getCommand(\"pastetext\").setState(b.data)})}})})();(function(){function h(a,d,f){var b=CKEDITOR.cleanWord;b?f():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||d+\"filter/default.js\"),CKEDITOR.scriptLoader.load(a,f,null,!0));return!b}function i(a){a.data.type=\"html\"}CKEDITOR.plugins.add(\"pastefromword\",{requires:\"clipboard\",init:function(a){var d=0,f=this.path;a.addCommand(\"pastefromword\",{canUndo:!1,async:!0,exec:function(a){var e=this;d=1;a.once(\"beforePaste\",i);a.getClipboardData({title:a.lang.pastefromword.title},function(c){c&&a.fire(\"paste\",\n{type:\"html\",dataValue:c.dataValue});a.fire(\"afterCommandExec\",{name:\"pastefromword\",command:e,returnValue:!!c})})}});a.ui.addButton&&a.ui.addButton(\"PasteFromWord\",{label:a.lang.pastefromword.toolbar,command:\"pastefromword\",toolbar:\"clipboard,50\"});a.on(\"pasteState\",function(b){a.getCommand(\"pastefromword\").setState(b.data)});a.on(\"paste\",function(b){var e=b.data,c=e.dataValue;if(c&&(d||/(class=\\\"?Mso|style=\\\"[^\\\"]*\\bmso\\-|w:WordDocument)/.test(c))){var g=h(a,f,function(){if(g)a.fire(\"paste\",e);\nelse if(!a.config.pasteFromWordPromptCleanup||d||confirm(a.lang.pastefromword.confirmCleanup))e.dataValue=CKEDITOR.cleanWord(c,a)});g&&b.cancel()}},null,null,3)}})})();CKEDITOR.plugins.add(\"removeformat\",{init:function(a){a.addCommand(\"removeFormat\",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton(\"RemoveFormat\",{label:a.lang.removeformat.toolbar,command:\"removeFormat\",toolbar:\"cleanup,10\"})}});\nCKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var h=a._.removeFormatRegex||(a._.removeFormatRegex=RegExp(\"^(?:\"+a.config.removeFormatTags.replace(/,/g,\"|\")+\")$\",\"i\")),e=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(\",\")),f=CKEDITOR.plugins.removeformat.filter,k=a.getSelection().getRanges(),l=k.createIterator(),m=function(a){return a.type==CKEDITOR.NODE_ELEMENT},c;c=l.getNextRange();){c.collapsed||c.enlarge(CKEDITOR.ENLARGE_ELEMENT);\nvar j=c.createBookmark(),b=j.startNode,d=j.endNode,i=function(b){for(var c=a.elementPath(b),e=c.elements,d=1,g;(g=e[d])&&!g.equals(c.block)&&!g.equals(c.blockLimit);d++)h.test(g.getName())&&f(a,g)&&b.breakParent(g)};i(b);if(d){i(d);for(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);b&&!b.equals(d);)if(b.isReadOnly()){if(b.getPosition(d)&CKEDITOR.POSITION_CONTAINS)break;b=b.getNext(m)}else i=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),!(\"img\"==b.getName()&&b.data(\"cke-realelement\"))&&f(a,b)&&(h.test(b.getName())?\nb.remove(1):(b.removeAttributes(e),a.fire(\"removeFormatCleanup\",b))),b=i}c.moveToBookmark(j)}a.forceNextSelectionCheck();a.getSelection().selectRanges(k)}}},filter:function(a,h){for(var e=a._.removeFormatFilters||[],f=0;f<e.length;f++)if(!1===e[f](h))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)};CKEDITOR.config.removeFormatTags=\"b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var\";\nCKEDITOR.config.removeFormatAttributes=\"class,style,lang,width,height,align,hspace,valign\";(function(){var f={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?\"attachClass\":\"removeClass\";a.editable()[b](\"cke_show_borders\")}}};CKEDITOR.plugins.add(\"showborders\",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[\".%1 table.%2,\",\".%1 table.%2 td, .%1 table.%2 th\",\"{\",\"border : #d3d3d3 1px dotted\",\"}\"]:\".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}\".split(\";\")).join(\"\").replace(/%2/g,\n\"cke_show_border\").replace(/%1/g,\"cke_show_borders \");CKEDITOR.addCss(a)},init:function(a){var b=a.addCommand(\"showborders\",f);b.canUndo=!1;!1!==a.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);a.on(\"mode\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(a)},null,null,100);a.on(\"contentDom\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(a)});a.on(\"removeFormatCleanup\",function(d){d=d.data;a.getCommand(\"showborders\").state==CKEDITOR.TRISTATE_ON&&(d.is(\"table\")&&(!d.hasAttribute(\"border\")||\n0>=parseInt(d.getAttribute(\"border\"),10)))&&d.addClass(\"cke_show_border\")})},afterInit:function(a){var b=a.dataProcessor,a=b&&b.dataFilter,b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){var a=a.attributes,b=a[\"class\"],c=parseInt(a.border,10);if((!c||0>=c)&&(!b||-1==b.indexOf(\"cke_show_border\")))a[\"class\"]=(b||\"\")+\" cke_show_border\"}}});b&&b.addRules({elements:{table:function(a){var a=a.attributes,b=a[\"class\"];b&&(a[\"class\"]=b.replace(\"cke_show_border\",\"\").replace(/\\s{2}/,\" \").replace(/^\\s+|\\s+$/,\n\"\"))}}})}});CKEDITOR.on(\"dialogDefinition\",function(a){var b=a.data.name;if(\"table\"==b||\"tableProperties\"==b)if(a=a.data.definition,b=a.getContents(\"info\").get(\"txtBorder\"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,c){a.apply(this,arguments);var e=parseInt(this.getValue(),10);c[!e||0>=e?\"addClass\":\"removeClass\"](\"cke_show_border\")}}),a=(a=a.getContents(\"advanced\"))&&a.get(\"advCSSClasses\"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,\narguments);this.setValue(this.getValue().replace(/cke_show_border/,\"\"))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,c){a.apply(this,arguments);parseInt(c.getAttribute(\"border\"),10)||c.addClass(\"cke_show_border\")}})})})();(function(){CKEDITOR.plugins.add(\"sourcearea\",{init:function(a){function d(){var a=e&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle(\"height\",this.getParent().$.clientHeight+\"px\");this.setStyle(\"width\",this.getParent().$.clientWidth+\"px\");this.show();a&&this.focus()}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var f=CKEDITOR.plugins.sourcearea;a.addMode(\"source\",function(e){var b=a.ui.space(\"contents\").getDocument().createElement(\"textarea\");b.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?\n\"99%\":\"100%\",height:\"100%\",resize:\"none\",outline:\"none\",\"text-align\":\"left\"},CKEDITOR.tools.cssVendorPrefix(\"tab-size\",a.config.sourceAreaTabSize||4)));b.setAttribute(\"dir\",\"ltr\");b.addClass(\"cke_source cke_reset cke_enable_context_menu\");a.ui.space(\"contents\").append(b);b=a.editable(new c(a,b));b.setData(a.getData(1));CKEDITOR.env.ie&&(b.attachListener(a,\"resize\",d,b),b.attachListener(CKEDITOR.document.getWindow(),\"resize\",d,b),CKEDITOR.tools.setTimeout(d,0,b));a.fire(\"ariaWidget\",this);e()});a.addCommand(\"source\",\nf.commands.source);a.ui.addButton&&a.ui.addButton(\"Source\",{label:a.lang.sourcearea.toolbar,command:\"source\",toolbar:\"mode,10\"});a.on(\"mode\",function(){a.getCommand(\"source\").setState(\"source\"==a.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var c=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(){return this.getValue()},insertHtml:function(){},\ninsertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?\"set\":\"remove\")+\"Attribute\"](\"readOnly\",\"readonly\")},detach:function(){c.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})})();CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(c){\"wysiwyg\"==c.mode&&c.fire(\"saveSnapshot\");c.getCommand(\"source\").setState(CKEDITOR.TRISTATE_DISABLED);c.setMode(\"source\"==c.mode?\"wysiwyg\":\"source\")},canUndo:!1}}};CKEDITOR.plugins.add(\"specialchar\",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,\"fr-ca\":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},requires:\"dialog\",init:function(a){var c=this;CKEDITOR.dialog.add(\"specialchar\",this.path+\"dialogs/specialchar.js\");a.addCommand(\"specialchar\",{exec:function(){var b=a.langCode,b=c.availableLangs[b]?\nb:c.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c.path+\"dialogs/lang/\"+b+\".js\"),function(){CKEDITOR.tools.extend(a.lang.specialchar,c.langEntries[b]);a.openDialog(\"specialchar\")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"SpecialChar\",{label:a.lang.specialchar.toolbar,command:\"specialchar\",toolbar:\"insert,50\"})}});CKEDITOR.config.specialChars=\"! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;\".split(\" \");(function(){function i(c){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(d){if(d.editable().hasFocus){var e=d.getSelection(),b;if(b=(new CKEDITOR.dom.elementPath(e.getCommonAncestor(),e.root)).contains({td:1,th:1},1)){var e=d.createRange(),a=CKEDITOR.tools.tryThese(function(){var a=b.getParent().$.cells[b.$.cellIndex+(c?-1:1)];a.parentNode.parentNode;return a},function(){var a=b.getParent(),a=a.getAscendant(\"table\").$.rows[a.$.rowIndex+(c?-1:1)];return a.cells[c?a.cells.length-1:\n0]});if(!a&&!c){for(var f=b.getAscendant(\"table\").$,a=b.getParent().$.cells,f=new CKEDITOR.dom.element(f.insertRow(-1),d.document),g=0,h=a.length;g<h;g++)f.append((new CKEDITOR.dom.element(a[g],d.document)).clone(!1,!1)).appendBogus();e.moveToElementEditStart(f)}else if(a)a=new CKEDITOR.dom.element(a),e.moveToElementEditStart(a),(!e.checkStartOfBlock()||!e.checkEndOfBlock())&&e.selectNodeContents(a);else return!0;e.select(!0);return!0}}return!1}}}var h={editorFocus:!1,modes:{wysiwyg:1,source:1}},\ng={exec:function(c){c.container.focusNext(!0,c.tabIndex)}},f={exec:function(c){c.container.focusPrevious(!0,c.tabIndex)}};CKEDITOR.plugins.add(\"tab\",{init:function(c){for(var d=!1!==c.config.enableTabKeyTools,e=c.config.tabSpaces||0,b=\"\";e--;)b+=\"\";if(b)c.on(\"key\",function(a){9==a.data.keyCode&&(c.insertHtml(b),a.cancel())});if(d)c.on(\"key\",function(a){(9==a.data.keyCode&&c.execCommand(\"selectNextCell\")||a.data.keyCode==CKEDITOR.SHIFT+9&&c.execCommand(\"selectPreviousCell\"))&&a.cancel()});c.addCommand(\"blur\",\nCKEDITOR.tools.extend(g,h));c.addCommand(\"blurBack\",CKEDITOR.tools.extend(f,h));c.addCommand(\"selectNextCell\",i());c.addCommand(\"selectPreviousCell\",i(!0))}})})();\nCKEDITOR.dom.element.prototype.focusNext=function(i,h){var g=void 0===h?this.getTabIndex():h,f,c,d,e,b,a;if(0>=g)for(b=this.getNextSourceNode(i,CKEDITOR.NODE_ELEMENT);b;){if(b.isVisible()&&0===b.getTabIndex()){d=b;break}b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(b=this.getDocument().getBody().getFirst();b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&b.equals(this)){if(c=!0,i){if(!(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(b)&&\n(f=1);if(b.isVisible()&&!(0>(a=b.getTabIndex()))){if(f&&a==g){d=b;break}a>g&&(!d||!e||a<e)?(d=b,e=a):!d&&0===a&&(d=b,e=a)}}d&&d.focus()};\nCKEDITOR.dom.element.prototype.focusPrevious=function(i,h){for(var g=void 0===h?this.getTabIndex():h,f,c,d,e=0,b,a=this.getDocument().getBody().getLast();a=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&a.equals(this)){if(c=!0,i){if(!(a=a.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(a)&&(f=1);if(a.isVisible()&&!(0>(b=a.getTabIndex())))if(0>=g){if(f&&0===b){d=a;break}b>e&&(d=a,e=b)}else{if(f&&b==g){d=a;break}if(b<g&&(!d||b>e))d=a,e=b}}d&&d.focus()};CKEDITOR.plugins.add(\"table\",{requires:\"dialog\",init:function(a){function e(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,f){this.setState(f.contains(\"table\",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var c=a.lang.table;a.addCommand(\"table\",new CKEDITOR.dialogCommand(\"table\",{context:\"table\",allowedContent:\"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];\"+(a.plugins.dialogadvtab?\n\"table\"+a.plugins.dialogadvtab.allowedContent():\"\"),requiredContent:\"table\",contentTransformations:[[\"table{width}: sizeToStyle\",\"table[width]: sizeToAttribute\"]]}));a.addCommand(\"tableProperties\",new CKEDITOR.dialogCommand(\"tableProperties\",e()));a.addCommand(\"tableDelete\",e({exec:function(a){var b=a.elementPath().contains(\"table\",1);if(b){var d=b.getParent(),c=a.editable();1==d.getChildCount()&&(!d.is(\"td\",\"th\")&&!d.equals(c))&&(b=d);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);\nb.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton(\"Table\",{label:c.toolbar,command:\"table\",toolbar:\"insert,30\"});CKEDITOR.dialog.add(\"table\",this.path+\"dialogs/table.js\");CKEDITOR.dialog.add(\"tableProperties\",this.path+\"dialogs/table.js\");a.addMenuItems&&a.addMenuItems({table:{label:c.menu,command:\"tableProperties\",group:\"table\",order:5},tabledelete:{label:c.deleteTable,command:\"tableDelete\",group:\"table\",order:1}});a.on(\"doubleclick\",function(a){a.data.element.is(\"table\")&&(a.data.dialog=\n\"tableProperties\")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}});(function(){function p(e){function d(a){!(0<b.length)&&(a.type==CKEDITOR.NODE_ELEMENT&&y.test(a.getName())&&!a.getCustomData(\"selected_cell\"))&&(CKEDITOR.dom.element.setMarker(c,a,\"selected_cell\",!0),b.push(a))}for(var e=e.getRanges(),b=[],c={},a=0;a<e.length;a++){var f=e[a];if(f.collapsed)f=f.getCommonAncestor(),(f=f.getAscendant(\"td\",!0)||f.getAscendant(\"th\",!0))&&b.push(f);else{var f=new CKEDITOR.dom.walker(f),g;for(f.guard=d;g=f.next();)if(g.type!=CKEDITOR.NODE_ELEMENT||!g.is(CKEDITOR.dtd.table))if((g=\ng.getAscendant(\"td\",!0)||g.getAscendant(\"th\",!0))&&!g.getCustomData(\"selected_cell\"))CKEDITOR.dom.element.setMarker(c,g,\"selected_cell\",!0),b.push(g)}}CKEDITOR.dom.element.clearAllMarkers(c);return b}function o(e,d){for(var b=p(e),c=b[0],a=c.getAscendant(\"table\"),c=c.getDocument(),f=b[0].getParent(),g=f.$.rowIndex,b=b[b.length-1],h=b.getParent().$.rowIndex+b.$.rowSpan-1,b=new CKEDITOR.dom.element(a.$.rows[h]),g=d?g:h,f=d?f:b,b=CKEDITOR.tools.buildTableMap(a),a=b[g],g=d?b[g-1]:b[g+1],b=b[0].length,\nc=c.createElement(\"tr\"),h=0;a[h]&&h<b;h++){var i;1<a[h].rowSpan&&g&&a[h]==g[h]?(i=a[h],i.rowSpan+=1):(i=(new CKEDITOR.dom.element(a[h])).clone(),i.removeAttribute(\"rowSpan\"),i.appendBogus(),c.append(i),i=i.$);h+=i.colSpan-1}d?c.insertBefore(f):c.insertAfter(f)}function q(e){if(e instanceof CKEDITOR.dom.selection){for(var d=p(e),b=d[0].getAscendant(\"table\"),c=CKEDITOR.tools.buildTableMap(b),e=d[0].getParent().$.rowIndex,d=d[d.length-1],a=d.getParent().$.rowIndex+d.$.rowSpan-1,d=[],f=e;f<=a;f++){for(var g=\nc[f],h=new CKEDITOR.dom.element(b.$.rows[f]),i=0;i<g.length;i++){var j=new CKEDITOR.dom.element(g[i]),l=j.getParent().$.rowIndex;1==j.$.rowSpan?j.remove():(j.$.rowSpan-=1,l==f&&(l=c[f+1],l[i-1]?j.insertAfter(new CKEDITOR.dom.element(l[i-1])):(new CKEDITOR.dom.element(b.$.rows[f+1])).append(j,1)));i+=j.$.colSpan-1}d.push(h)}c=b.$.rows;b=new CKEDITOR.dom.element(c[a+1]||(0<e?c[e-1]:null)||b.$.parentNode);for(f=d.length;0<=f;f--)q(d[f]);return b}e instanceof CKEDITOR.dom.element&&(b=e.getAscendant(\"table\"),\n1==b.$.rows.length?b.remove():e.remove());return null}function r(e,d){for(var b=d?Infinity:0,c=0;c<e.length;c++){var a;a=e[c];for(var f=d,g=a.getParent().$.cells,h=0,i=0;i<g.length;i++){var j=g[i],h=h+(f?1:j.colSpan);if(j==a.$)break}a=h-1;if(d?a<b:a>b)b=a}return b}function k(e,d){for(var b=p(e),c=b[0].getAscendant(\"table\"),a=r(b,1),b=r(b),a=d?a:b,f=CKEDITOR.tools.buildTableMap(c),c=[],b=[],g=f.length,h=0;h<g;h++)c.push(f[h][a]),b.push(d?f[h][a-1]:f[h][a+1]);for(h=0;h<g;h++)c[h]&&(1<c[h].colSpan&&\nb[h]==c[h]?(a=c[h],a.colSpan+=1):(a=(new CKEDITOR.dom.element(c[h])).clone(),a.removeAttribute(\"colSpan\"),a.appendBogus(),a[d?\"insertBefore\":\"insertAfter\"].call(a,new CKEDITOR.dom.element(c[h])),a=a.$),h+=a.rowSpan-1)}function u(e,d){var b=e.getStartElement();if(b=b.getAscendant(\"td\",1)||b.getAscendant(\"th\",1)){var c=b.clone();c.appendBogus();d?c.insertBefore(b):c.insertAfter(b)}}function t(e){if(e instanceof CKEDITOR.dom.selection){var e=p(e),d=e[0]&&e[0].getAscendant(\"table\"),b;a:{var c=0;b=e.length-\n1;for(var a={},f,g;f=e[c++];)CKEDITOR.dom.element.setMarker(a,f,\"delete_cell\",!0);for(c=0;f=e[c++];)if((g=f.getPrevious())&&!g.getCustomData(\"delete_cell\")||(g=f.getNext())&&!g.getCustomData(\"delete_cell\")){CKEDITOR.dom.element.clearAllMarkers(a);b=g;break a}CKEDITOR.dom.element.clearAllMarkers(a);g=e[0].getParent();(g=g.getPrevious())?b=g.getLast():(g=e[b].getParent(),b=(g=g.getNext())?g.getChild(0):null)}for(g=e.length-1;0<=g;g--)t(e[g]);b?m(b,!0):d&&d.remove()}else e instanceof CKEDITOR.dom.element&&\n(d=e.getParent(),1==d.getChildCount()?d.remove():e.remove())}function m(e,d){var b=e.getDocument(),c=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(c.focus(),b.focus());b=new CKEDITOR.dom.range(b);if(!b[\"moveToElementEdit\"+(d?\"End\":\"Start\")](e))b.selectNodeContents(e),b.collapse(d?!1:!0);b.select(!0)}function v(e,d,b){e=e[d];if(\"undefined\"==typeof b)return e;for(d=0;e&&d<e.length;d++){if(b.is&&e[d]==b.$)return d;if(d==b)return new CKEDITOR.dom.element(e[d])}return b.is?-1:null}function s(e,\nd,b){var c=p(e),a;if((d?1!=c.length:2>c.length)||(a=e.getCommonAncestor())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))return!1;var f,e=c[0];a=e.getAscendant(\"table\");var g=CKEDITOR.tools.buildTableMap(a),h=g.length,i=g[0].length,j=e.getParent().$.rowIndex,l=v(g,j,e);if(d){var n;try{var m=parseInt(e.getAttribute(\"rowspan\"),10)||1;f=parseInt(e.getAttribute(\"colspan\"),10)||1;n=g[\"up\"==d?j-m:\"down\"==d?j+m:j][\"left\"==d?l-f:\"right\"==d?l+f:l]}catch(z){return!1}if(!n||e.$==n)return!1;c[\"up\"==d||\"left\"==\nd?\"unshift\":\"push\"](new CKEDITOR.dom.element(n))}for(var d=e.getDocument(),o=j,m=n=0,q=!b&&new CKEDITOR.dom.documentFragment(d),s=0,d=0;d<c.length;d++){f=c[d];var k=f.getParent(),t=f.getFirst(),r=f.$.colSpan,u=f.$.rowSpan,k=k.$.rowIndex,w=v(g,k,f),s=s+r*u,m=Math.max(m,w-l+r);n=Math.max(n,k-j+u);if(!b){r=f;(u=r.getBogus())&&u.remove();r.trim();if(f.getChildren().count()){if(k!=o&&t&&(!t.isBlockBoundary||!t.isBlockBoundary({br:1})))(o=q.getLast(CKEDITOR.dom.walker.whitespaces(!0)))&&(!o.is||!o.is(\"br\"))&&\nq.append(\"br\");f.moveChildren(q)}d?f.remove():f.setHtml(\"\")}o=k}if(b)return n*m==s;q.moveChildren(e);e.appendBogus();m>=i?e.removeAttribute(\"rowSpan\"):e.$.rowSpan=n;n>=h?e.removeAttribute(\"colSpan\"):e.$.colSpan=m;b=new CKEDITOR.dom.nodeList(a.$.rows);c=b.count();for(d=c-1;0<=d;d--)a=b.getItem(d),a.$.cells.length||(a.remove(),c++);return e}function w(e,d){var b=p(e);if(1<b.length)return!1;if(d)return!0;var b=b[0],c=b.getParent(),a=c.getAscendant(\"table\"),f=CKEDITOR.tools.buildTableMap(a),g=c.$.rowIndex,\nh=v(f,g,b),i=b.$.rowSpan,j;if(1<i){j=Math.ceil(i/2);for(var i=Math.floor(i/2),c=g+j,a=new CKEDITOR.dom.element(a.$.rows[c]),f=v(f,c),l,c=b.clone(),g=0;g<f.length;g++)if(l=f[g],l.parentNode==a.$&&g>h){c.insertBefore(new CKEDITOR.dom.element(l));break}else l=null;l||a.append(c)}else{i=j=1;a=c.clone();a.insertAfter(c);a.append(c=b.clone());l=v(f,g);for(h=0;h<l.length;h++)l[h].rowSpan++}c.appendBogus();b.$.rowSpan=j;c.$.rowSpan=i;1==j&&b.removeAttribute(\"rowSpan\");1==i&&c.removeAttribute(\"rowSpan\");return c}\nfunction x(e,d){var b=p(e);if(1<b.length)return!1;if(d)return!0;var b=b[0],c=b.getParent(),a=c.getAscendant(\"table\"),a=CKEDITOR.tools.buildTableMap(a),f=v(a,c.$.rowIndex,b),g=b.$.colSpan;if(1<g)c=Math.ceil(g/2),g=Math.floor(g/2);else{for(var g=c=1,h=[],i=0;i<a.length;i++){var j=a[i];h.push(j[f]);1<j[f].rowSpan&&(i+=j[f].rowSpan-1)}for(a=0;a<h.length;a++)h[a].colSpan++}a=b.clone();a.insertAfter(b);a.appendBogus();b.$.colSpan=c;a.$.colSpan=g;1==c&&b.removeAttribute(\"colSpan\");1==g&&a.removeAttribute(\"colSpan\");\nreturn a}var y=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:\"table,dialog,contextmenu\",init:function(e){function d(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function b(a,b){var c=e.addCommand(a,b);e.addFeature(c)}var c=e.lang.table;b(\"cellProperties\",new CKEDITOR.dialogCommand(\"cellProperties\",d({allowedContent:\"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]\",\nrequiredContent:\"table\"})));CKEDITOR.dialog.add(\"cellProperties\",this.path+\"dialogs/tableCell.js\");b(\"rowDelete\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();m(q(a))}}));b(\"rowInsertBefore\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();o(a,!0)}}));b(\"rowInsertAfter\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();o(a)}}));b(\"columnDelete\",d({requiredContent:\"table\",exec:function(a){for(var a=a.getSelection(),a=p(a),b=a[0],c=a[a.length-1],a=b.getAscendant(\"table\"),\nd=CKEDITOR.tools.buildTableMap(a),e,j,l=[],n=0,o=d.length;n<o;n++)for(var k=0,q=d[n].length;k<q;k++)d[n][k]==b.$&&(e=k),d[n][k]==c.$&&(j=k);for(n=e;n<=j;n++)for(k=0;k<d.length;k++)c=d[k],b=new CKEDITOR.dom.element(a.$.rows[k]),c=new CKEDITOR.dom.element(c[n]),c.$&&(1==c.$.colSpan?c.remove():c.$.colSpan-=1,k+=c.$.rowSpan-1,b.$.cells.length||l.push(b));j=a.$.rows[0]&&a.$.rows[0].cells;e=new CKEDITOR.dom.element(j[e]||(e?j[e-1]:a.$.parentNode));l.length==o&&a.remove();e&&m(e,!0)}}));b(\"columnInsertBefore\",\nd({requiredContent:\"table\",exec:function(a){a=a.getSelection();k(a,!0)}}));b(\"columnInsertAfter\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();k(a)}}));b(\"cellDelete\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();t(a)}}));b(\"cellMerge\",d({allowedContent:\"td[colspan,rowspan]\",requiredContent:\"td[colspan,rowspan]\",exec:function(a){m(s(a.getSelection()),!0)}}));b(\"cellMergeRight\",d({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){m(s(a.getSelection(),\n\"right\"),!0)}}));b(\"cellMergeDown\",d({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){m(s(a.getSelection(),\"down\"),!0)}}));b(\"cellVerticalSplit\",d({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){m(w(a.getSelection()))}}));b(\"cellHorizontalSplit\",d({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){m(x(a.getSelection()))}}));b(\"cellInsertBefore\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();u(a,!0)}}));\nb(\"cellInsertAfter\",d({requiredContent:\"table\",exec:function(a){a=a.getSelection();u(a)}}));e.addMenuItems&&e.addMenuItems({tablecell:{label:c.cell.menu,group:\"tablecell\",order:1,getItems:function(){var a=e.getSelection(),b=p(a);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:s(a,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:s(a,\"right\",!0)?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:s(a,\"down\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:w(a,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:x(a,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<b.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:c.cell.insertBefore,group:\"tablecell\",command:\"cellInsertBefore\",order:5},tablecell_insertAfter:{label:c.cell.insertAfter,\ngroup:\"tablecell\",command:\"cellInsertAfter\",order:10},tablecell_delete:{label:c.cell.deleteCell,group:\"tablecell\",command:\"cellDelete\",order:15},tablecell_merge:{label:c.cell.merge,group:\"tablecell\",command:\"cellMerge\",order:16},tablecell_merge_right:{label:c.cell.mergeRight,group:\"tablecell\",command:\"cellMergeRight\",order:17},tablecell_merge_down:{label:c.cell.mergeDown,group:\"tablecell\",command:\"cellMergeDown\",order:18},tablecell_split_horizontal:{label:c.cell.splitHorizontal,group:\"tablecell\",\ncommand:\"cellHorizontalSplit\",order:19},tablecell_split_vertical:{label:c.cell.splitVertical,group:\"tablecell\",command:\"cellVerticalSplit\",order:20},tablecell_properties:{label:c.cell.title,group:\"tablecellproperties\",command:\"cellProperties\",order:21},tablerow:{label:c.row.menu,group:\"tablerow\",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:c.row.insertBefore,\ngroup:\"tablerow\",command:\"rowInsertBefore\",order:5},tablerow_insertAfter:{label:c.row.insertAfter,group:\"tablerow\",command:\"rowInsertAfter\",order:10},tablerow_delete:{label:c.row.deleteRow,group:\"tablerow\",command:\"rowDelete\",order:15},tablecolumn:{label:c.column.menu,group:\"tablecolumn\",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:c.column.insertBefore,\ngroup:\"tablecolumn\",command:\"columnInsertBefore\",order:5},tablecolumn_insertAfter:{label:c.column.insertAfter,group:\"tablecolumn\",command:\"columnInsertAfter\",order:10},tablecolumn_delete:{label:c.column.deleteColumn,group:\"tablecolumn\",command:\"columnDelete\",order:15}});e.contextMenu&&e.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:p};\nCKEDITOR.plugins.add(\"tabletools\",CKEDITOR.plugins.tabletools)})();CKEDITOR.tools.buildTableMap=function(p){for(var p=p.$.rows,o=-1,q=[],r=0;r<p.length;r++){o++;!q[o]&&(q[o]=[]);for(var k=-1,u=0;u<p[r].cells.length;u++){var t=p[r].cells[u];for(k++;q[o][k];)k++;for(var m=isNaN(t.colSpan)?1:t.colSpan,t=isNaN(t.rowSpan)?1:t.rowSpan,v=0;v<t;v++){q[o+v]||(q[o+v]=[]);for(var s=0;s<m;s++)q[o+v][k+s]=p[r].cells[u]}k+=m-1}}return q};(function(){var g=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],l={8:1,46:1};CKEDITOR.plugins.add(\"undo\",{init:function(a){function b(a){d.enabled&&!1!==a.data.command.canUndo&&d.save()}function c(){d.enabled=a.readOnly?!1:\"wysiwyg\"==a.mode;d.onChange()}var d=a.undoManager=new e(a),j=d.editingHandler=new i(d),f=a.addCommand(\"undo\",{exec:function(){d.undo()&&(a.selectionChange(),this.fire(\"afterUndo\"))},startDisabled:!0,canUndo:!1}),h=a.addCommand(\"redo\",{exec:function(){d.redo()&&\n(a.selectionChange(),this.fire(\"afterRedo\"))},startDisabled:!0,canUndo:!1});a.setKeystroke([[g[0],\"undo\"],[g[1],\"redo\"],[g[2],\"redo\"]]);d.onChange=function(){f.setState(d.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h.setState(d.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};a.on(\"beforeCommandExec\",b);a.on(\"afterCommandExec\",b);a.on(\"saveSnapshot\",function(a){d.save(a.data&&a.data.contentOnly)});a.on(\"contentDom\",j.attachListeners,j);a.on(\"instanceReady\",function(){a.fire(\"saveSnapshot\")});\na.on(\"beforeModeUnload\",function(){\"wysiwyg\"==a.mode&&d.save(!0)});a.on(\"mode\",c);a.on(\"readOnly\",c);a.ui.addButton&&(a.ui.addButton(\"Undo\",{label:a.lang.undo.undo,command:\"undo\",toolbar:\"undo,10\"}),a.ui.addButton(\"Redo\",{label:a.lang.undo.redo,command:\"redo\",toolbar:\"undo,20\"}));a.resetUndo=function(){d.reset();a.fire(\"saveSnapshot\")};a.on(\"updateSnapshot\",function(){d.currentImage&&d.update()});a.on(\"lockSnapshot\",function(a){a=a.data;d.lock(a&&a.dontUpdate,a&&a.forceUpdate)});a.on(\"unlockSnapshot\",\nd.unlock,d)}});CKEDITOR.plugins.undo={};var e=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};e.prototype={type:function(a,b){var c=e.getKeyGroup(a),d=this.strokesRecorded[c]+1,b=b||d>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());b?(d=0,this.editor.fire(\"saveSnapshot\")):this.editor.fire(\"change\");this.strokesRecorded[c]=\nd;this.previousKeyGroup=c},keyGroupChanged:function(a){return e.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,c){var d=this.editor;if(this.locked||\n\"ready\"!=d.status||\"wysiwyg\"!=d.mode)return!1;var e=d.editable();if(!e||\"ready\"!=e.status)return!1;e=this.snapshots;b||(b=new f(d));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==c&&d.fire(\"change\");e.splice(this.index+1,e.length-this.index-1);e.length==this.limit&&e.shift();this.index=e.push(b)-1;this.currentImage=b;!1!==c&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,\nc;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire(\"change\")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=\nd,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||\n(a=new f(this.editor));for(var b=this.index,c=this.snapshots;0<b&&this.currentImage.equalsContent(c[b-1]);)b-=1;c.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var c=null;if(b)c=!0;else{var d=new f(this.editor,\n!0);this.currentImage&&this.currentImage.equalsContent(d)&&(c=d)}this.locked={update:c,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new f(this.editor,!0);a.equalsContent(b)||this.update()}}}};e.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};e.keyGroups={PRINTABLE:0,FUNCTIONAL:1};e.isNavigationKey=function(a){return!!e.navigationKeyCodes[a]};e.getKeyGroup=function(a){var b=e.keyGroups;\nreturn l[a]?b.FUNCTIONAL:b.PRINTABLE};e.getOppositeKeyGroup=function(a){var b=e.keyGroups;return a==b.FUNCTIONAL?b.PRINTABLE:b.FUNCTIONAL};e.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&e.getKeyGroup(a)==e.keyGroups.FUNCTIONAL};var f=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire(\"beforeUndoImage\");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\\s+data-cke-expando=\".*?\"/g,\"\"));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire(\"afterUndoImage\")},\nh=/\\b(?:href|src|name)=\"[^\"]*?\"/gi;f.prototype={equalsContent:function(a){var b=this.contents,a=a.contents;if(CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks))b=b.replace(h,\"\"),a=a.replace(h,\"\");return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks,a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,\ne.end))return!1}}return!0}};var i=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new k;this.lastKeydownImage=null};i.prototype={onKeydown:function(a){if(-1<CKEDITOR.tools.indexOf(g,a.data.getKeystroke()))a.data.preventDefault();else{this.keyEventsStack.cleanUp(a);var a=a.data.getKey(),b=this.undoManager;this.keyEventsStack.getLast(a)||this.keyEventsStack.push(a);this.lastKeydownImage=new f(b.editor);if(e.isNavigationKey(a)||this.undoManager.keyGroupChanged(a))if(b.strokesRecorded[0]||\nb.strokesRecorded[1])b.save(!1,this.lastKeydownImage,!1),b.resetType()}},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var b=this.undoManager,a=a.data.getKey(),c=this.keyEventsStack.getTotalInputs();\nthis.keyEventsStack.remove(a);if(!e.ieFunctionalKeysBug(a)||!this.lastKeydownImage||!this.lastKeydownImage.equalsContent(new f(b.editor,!0)))if(0<c)b.type(a);else if(e.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;(a||!b.save(!0,null,!1))&&b.updateSelection(new f(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var a=this.undoManager.editor,b=a.editable(),c=this;b.attachListener(b,\"keydown\",\nfunction(a){c.onKeydown(a);if(e.ieFunctionalKeysBug(a.data.getKey()))c.onInput()},null,null,999);b.attachListener(b,CKEDITOR.env.ie?\"keypress\":\"input\",c.onInput,c,null,999);b.attachListener(b,\"keyup\",c.onKeyup,c,null,999);b.attachListener(b,\"paste\",c.ignoreInputEventListener,c,null,999);b.attachListener(b,\"drop\",c.ignoreInputEventListener,c,null,999);b.attachListener(b.isInline()?b:a.document.getDocumentElement(),\"click\",function(){c.onNavigationKey()},null,null,999);b.attachListener(this.undoManager.editor,\n\"blur\",function(){c.keyEventsStack.remove(9)},null,null,999)}};var k=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};k.prototype={push:function(a){return this.stack[this.stack.push({keyCode:a,inputs:0})-1]},getLastIndex:function(a){if(\"number\"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=\nthis.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if(\"number\"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;!a.ctrlKey&&!a.metaKey&&this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}})();CKEDITOR.plugins.add(\"listblock\",{requires:\"panel\",onLoad:function(){var f=CKEDITOR.addTemplate(\"panel-list\",'<ul role=\"presentation\" class=\"cke_panel_list\">{items}</ul>'),g=CKEDITOR.addTemplate(\"panel-list-item\",'<li id=\"{id}\" class=\"cke_panel_listItem\" role=presentation><a id=\"{id}_option\" _cke_focus=1 hidefocus=true title=\"{title}\" href=\"javascript:void(\\'{val}\\')\"  {onclick}=\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\" role=\"option\">{text}</a></li>'),h=CKEDITOR.addTemplate(\"panel-list-group\",\n'<h1 id=\"{id}\" class=\"cke_panel_grouptitle\" role=\"presentation\" >{label}</h1>'),i=/\\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){var b=b||{},c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c[\"aria-multiselectable\"]=!0);!c.role&&(c.role=\"listbox\");this.base.apply(this,arguments);this.element.setAttribute(\"role\",\nc.role);c=this.keys;c[40]=\"next\";c[9]=\"next\";c[38]=\"prev\";c[CKEDITOR.SHIFT+9]=\"prev\";c[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(c[13]=\"mouseup\");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var a=f.output({items:this._.pendingList.join(\"\")});this._.pendingList=[];this._.pendingHtml.push(a);delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);\nif(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,c){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;var e;e=CKEDITOR.tools.htmlEncodeAttr(a).replace(i,\"\\\\'\");a={id:d,val:e,onclick:CKEDITOR.env.ie?'onclick=\"return false;\" onmouseup':\"onclick\",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(c||a),text:b||a};this._.pendingList.push(g.output(a))},startGroup:function(a){this._.close();\nvar b=CKEDITOR.tools.getNextId();this._.groups[a]=b;this._.pendingHtml.push(h.output({id:b,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(\"\"));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle(\"display\",\"none\"),b&&\"ul\"==b.getName()&&b.setStyle(\"display\",\"none\"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle(\"display\",\n\"none\")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle(\"display\",\"\");for(var e in b)a=c.getById(b[e]),d=a.getNext(),a.setStyle(\"display\",\"\"),d&&\"ul\"==d.getName()&&d.setStyle(\"display\",\"\")},mark:function(a){this.multiSelect||this.unmarkAll();var a=this._.items[a],b=this.element.getDocument().getById(a);b.addClass(\"cke_selected\");this.element.getDocument().getById(a+\"_option\").setAttribute(\"aria-selected\",!0);this.onMark&&this.onMark(b)},\nunmark:function(a){var b=this.element.getDocument(),a=this._.items[a],c=b.getById(a);c.removeClass(\"cke_selected\");b.getById(a+\"_option\").removeAttribute(\"aria-selected\");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var d=a[c];b.getById(d).removeClass(\"cke_selected\");b.getById(d+\"_option\").removeAttribute(\"aria-selected\")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass(\"cke_selected\")},\nfocus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag(\"a\"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}});CKEDITOR.plugins.add(\"richcombo\",{requires:\"floatpanel,listblock,button\",beforeInit:function(d){d.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}});\n(function(){var d='<span id=\"{id}\" class=\"cke_combo cke_combo__{name} {cls}\" role=\"presentation\"><span id=\"{id}_label\" class=\"cke_combo_label\">{label}</span><a class=\"cke_combo_button\" title=\"{title}\" tabindex=\"-1\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href=\\\"javascript:void('{titleJs}')\\\"\")+' hidefocus=\"true\" role=\"button\" aria-labelledby=\"{id}_label\" aria-haspopup=\"true\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(d+=' onkeypress=\"return false;\"');CKEDITOR.env.gecko&&(d+=' onblur=\"this.style.cssText = this.style.cssText;\"');\nvar d=d+(' onkeydown=\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\" onfocus=\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?'onclick=\"return false;\" onmouseup':\"onclick\")+'=\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"><span id=\"{id}_text\" class=\"cke_combo_text cke_combo_inlinelabel\">{label}</span><span class=\"cke_combo_open\"><span class=\"cke_combo_arrow\">'+(CKEDITOR.env.hc?\"&#9660;\":CKEDITOR.env.air?\"&nbsp;\":\"\")+\"</span></span></a></span>\"),\ni=CKEDITOR.addTemplate(\"combo\",d);CKEDITOR.UI_RICHCOMBO=\"richcombo\";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className=\"cke_combopanel\";a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},\nproto:{renderHtml:function(a){var b=[];this.render(a,b);return b.join(\"\")},render:function(a,b){function g(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var c=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(c=CKEDITOR.TRISTATE_DISABLED);this.setState(c);this.setValue(\"\");c!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var d=CKEDITOR.env,h=\"cke_\"+this.id,e=CKEDITOR.tools.addFunction(function(b){j&&(a.unlockSelection(1),j=0);c.execute(b)},\nthis),f=this,c={id:h,combo:this,focus:function(){CKEDITOR.document.getById(h).getChild(1).focus()},execute:function(c){var b=f._;if(b.state!=CKEDITOR.TRISTATE_DISABLED)if(f.createPanel(a),b.on)b.panel.hide();else{f.commit();var d=f.getValue();d?b.list.mark(d):b.list.unmarkAll();b.panel.showBlock(f.id,new CKEDITOR.dom.element(c),4)}},clickFn:e};a.on(\"activeFilterChange\",g,this);a.on(\"mode\",g,this);a.on(\"selectionChange\",g,this);!this.readOnly&&a.on(\"readOnly\",g,this);var k=CKEDITOR.tools.addFunction(function(b,\nd){var b=new CKEDITOR.dom.event(b),g=b.getKeystroke();if(40==g)a.once(\"panelShow\",function(a){a.data._.panel._.currentBlock.onKeyDown(40)});switch(g){case 13:case 32:case 40:CKEDITOR.tools.callFunction(e,d);break;default:c.onkey(c,g)}b.preventDefault()}),l=CKEDITOR.tools.addFunction(function(){c.onfocus&&c.onfocus()}),j=0;c.keyDownFn=k;d={id:h,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||\"\",titleJs:d.gecko&&!d.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),keydownFn:k,\nfocusFn:l,clickFn:e};i.output(d,b);if(this.onRender)this.onRender();return c},createPanel:function(a){if(!this._.panel){var b=this._.panelDefinition,d=this._.panelDefinition.block,i=b.parent||CKEDITOR.document.getBody(),h=\"cke_combopanel__\"+this.name,e=new CKEDITOR.ui.floatPanel(a,i,b),f=e.addListBlock(this.id,d),c=this;e.onShow=function(){this.element.addClass(h);c.setState(CKEDITOR.TRISTATE_ON);c._.on=1;c.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(c.onOpen)c.onOpen();a.once(\"panelShow\",\nfunction(){f.focus(!f.multiSelect&&c.getValue())})};e.onHide=function(b){this.element.removeClass(h);c.setState(c.modes&&c.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);c._.on=0;if(!b&&c.onClose)c.onClose()};e.onEscape=function(){e.hide(1)};f.onClick=function(a,b){c.onClick&&c.onClick.call(c,a,b);e.hide()};this._.panel=e;this._.list=f;e.getBlock(this.id).onHide=function(){c._.on=0;c.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,b){this._.value=a;var d=\nthis.document.getById(\"cke_\"+this.id+\"_text\");d&&(!a&&!b?(b=this.label,d.addClass(\"cke_combo_inlinelabel\")):d.removeClass(\"cke_combo_inlinelabel\"),d.setText(\"undefined\"!=typeof b?b:a))},getValue:function(){return this._.value||\"\"},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,b,d){this._.items[a]=d||a;this._.list.add(a,\nb,d)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire(\"ready\",this));this._.committed=1},setState:function(a){if(this._.state!=a){var b=this.document.getById(\"cke_\"+this.id);b.setState(a,\"cke_combo\");a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&\nthis.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,b){this.add(a,CKEDITOR.UI_RICHCOMBO,b)}})();(function(){function k(a,d){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},d,!0);this.frame=this.win.getFrame();this.inline=this.editable.isInline();this.target=this[this.inline?\"editable\":\"doc\"]}function l(a,d){CKEDITOR.tools.extend(this,d,{editor:a},!0)}function m(a,d){var b=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:b,doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},d,!0);this.hidden=\n{};this.visible={};this.inline=b.isInline();this.inline||(this.frame=this.win.getFrame());this.queryViewport();var c=CKEDITOR.tools.bind(this.queryViewport,this),e=CKEDITOR.tools.bind(this.hideVisible,this),g=CKEDITOR.tools.bind(this.removeAll,this);b.attachListener(this.winTop,\"resize\",c);b.attachListener(this.winTop,\"scroll\",c);b.attachListener(this.winTop,\"resize\",e);b.attachListener(this.win,\"scroll\",e);b.attachListener(this.inline?b:this.frame,\"mouseout\",function(a){var c=a.data.$.clientX,a=\na.data.$.clientY;this.queryViewport();(c<=this.rect.left||c>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(c<=0||c>=this.winTopPane.width||a<=0||a>=this.winTopPane.height)&&this.hideVisible()},this);b.attachListener(a,\"resize\",c);b.attachListener(a,\"mode\",g);a.on(\"destroy\",g);this.lineTpl=(new CKEDITOR.template(p)).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},\nn,{left:\"0px\",\"border-left-color\":\"red\",\"border-width\":\"6px 0 6px 6px\"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},n,{right:\"0px\",\"border-right-color\":\"red\",\"border-width\":\"6px 6px 6px 0\"},this.tipCss,this.tipRightStyle,!0))})}function i(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&!(o[a.getComputedStyle(\"float\")]||o[a.getAttribute(\"align\")])&&!r[a.getComputedStyle(\"position\")]}CKEDITOR.plugins.add(\"lineutils\");CKEDITOR.LINEUTILS_BEFORE=1;\nCKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;k.prototype={start:function(a){var d=this,b=this.editor,c=this.doc,e,g,f,h=CKEDITOR.tools.eventsBuffer(50,function(){b.readOnly||\"wysiwyg\"!=b.mode||(d.relations={},e=new CKEDITOR.dom.element(c.$.elementFromPoint(g,f)),d.traverseSearch(e),isNaN(g+f)||d.pixelSearch(e,g,f),a&&a(d.relations,g,f))});this.listener=this.editable.attachListener(this.target,\"mousemove\",function(a){g=a.data.$.clientX;f=a.data.$.clientY;h.input()});this.editable.attachListener(this.inline?\nthis.editable:this.frame,\"mouseout\",function(){h.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var a={};a[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;a[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;a[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(d){var b=this.editor.createRange();b.moveToPosition(this.relations[d.uid].element,a[d.type]);return b}}(),store:function(){function a(a,b,c){var e=a.getUniqueId();\ne in c?c[e].type|=b:c[e]={element:a,type:b}}return function(d,b){var c;if(b&CKEDITOR.LINEUTILS_AFTER&&i(c=d.getNext())&&c.isVisible())a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_AFTER;if(b&CKEDITOR.LINEUTILS_INSIDE&&i(c=d.getFirst())&&c.isVisible())a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_INSIDE;a(d,b,this.relations)}}(),traverseSearch:function(a){var d,b,c;do if(c=a.$[\"data-cke-expando\"],!(c&&c in this.relations)){if(a.equals(this.editable))break;\nif(i(a))for(d in this.lookups)(b=this.lookups[d](a))&&this.store(a,b)}while(!(a&&a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\"))&&(a=a.getParent()))},pixelSearch:function(){function a(a,c,e,g,f){for(var h=0,j;f(e);){e+=g;if(25==++h)break;if(j=this.doc.$.elementFromPoint(c,e))if(j==a)h=0;else if(d(a,j)&&(h=0,i(j=new CKEDITOR.dom.element(j))))return j}}var d=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,c){return a.contains(c)}:function(a,c){return!!(a.compareDocumentPosition(c)&\n16)};return function(b,c,d){var g=this.win.getViewPaneSize().height,f=a.call(this,b.$,c,d,-1,function(a){return 0<a}),c=a.call(this,b.$,c,d,1,function(a){return a<g});if(f)for(this.traverseSearch(f);!f.getParent().equals(b);)f=f.getParent();if(c)for(this.traverseSearch(c);!c.getParent().equals(b);)c=c.getParent();for(;f||c;){f&&(f=f.getNext(i));if(!f||f.equals(c))break;this.traverseSearch(f);c&&(c=c.getPrevious(i));if(!c||c.equals(f))break;this.traverseSearch(c)}}}(),greedySearch:function(){this.relations=\n{};for(var a=this.editable.getElementsByTag(\"*\"),d=0,b,c,e;b=a.getItem(d++);)if(!b.equals(this.editable)&&(b.hasAttribute(\"contenteditable\")||!b.isReadOnly())&&i(b)&&b.isVisible())for(e in this.lookups)(c=this.lookups[e](b))&&this.store(b,c);return this.relations}};l.prototype={locate:function(){function a(a,b){var d=a.element[b===CKEDITOR.LINEUTILS_BEFORE?\"getPrevious\":\"getNext\"]();return d&&i(d)?(a.siblingRect=d.getClientRect(),b==CKEDITOR.LINEUTILS_BEFORE?(a.siblingRect.bottom+a.elementRect.top)/\n2:(a.elementRect.bottom+a.siblingRect.top)/2):b==CKEDITOR.LINEUTILS_BEFORE?a.elementRect.top:a.elementRect.bottom}var d,b;return function(c){this.locations={};for(b in c)d=c[b],d.elementRect=d.element.getClientRect(),d.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(b,CKEDITOR.LINEUTILS_BEFORE,a(d,CKEDITOR.LINEUTILS_BEFORE)),d.type&CKEDITOR.LINEUTILS_AFTER&&this.store(b,CKEDITOR.LINEUTILS_AFTER,a(d,CKEDITOR.LINEUTILS_AFTER)),d.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(b,CKEDITOR.LINEUTILS_INSIDE,(d.elementRect.top+\nd.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,d,b,c,e,g;return function(f,h){a=this.locations;d=[];for(c in a)for(e in a[c])if(b=Math.abs(f-a[c][e]),d.length){for(g=0;g<d.length;g++)if(b<d[g].dist){d.splice(g,0,{uid:+c,type:e,dist:b});break}g==d.length&&d.push({uid:+c,type:e,dist:b})}else d.push({uid:+c,type:e,dist:b});return\"undefined\"!=typeof h?d.slice(0,h):d}}(),store:function(a,d,b){this.locations[a]||(this.locations[a]={});this.locations[a][d]=b}};var n={display:\"block\",\nwidth:\"0px\",height:\"0px\",\"border-color\":\"transparent\",\"border-style\":\"solid\",position:\"absolute\",top:\"-6px\"},q={height:\"0px\",\"border-top\":\"1px dashed red\",position:\"absolute\",\"z-index\":9999},p='<div data-cke-lineutils-line=\"1\" class=\"cke_reset_all\" style=\"{lineStyle}\"><span style=\"{tipLeftStyle}\">&nbsp;</span><span style=\"{tipRightStyle}\">&nbsp;</span></div>';m.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),\ndelete this.visible[a]},hideLine:function(a){var d=a.getUniqueId();a.hide();this.hidden[d]=a;delete this.visible[d]},showLine:function(a){var d=a.getUniqueId();a.show();this.visible[d]=a;delete this.hidden[d]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,d){var b,c,e;if(b=this.getStyle(a.uid,a.type)){for(e in this.visible)if(this.visible[e].getCustomData(\"hash\")!==this.hash){c=this.visible[e];break}if(!c)for(e in this.hidden)if(this.hidden[e].getCustomData(\"hash\")!==\nthis.hash){this.showLine(c=this.hidden[e]);break}c||this.showLine(c=this.addLine());c.setCustomData(\"hash\",this.hash);this.visible[c.getUniqueId()]=c;c.setStyles(b);d&&d(c)}},getStyle:function(a,d){var b=this.relations[a],c=this.locations[a][d],e={};e.width=b.siblingRect?Math.max(b.siblingRect.width,b.elementRect.width):b.elementRect.width;e.top=this.inline?c+this.winTopScroll.y:this.rect.top+this.winTopScroll.y+c;if(e.top-this.winTopScroll.y<this.rect.top||e.top-this.winTopScroll.y>this.rect.bottom)return!1;\nif(this.inline)e.left=b.elementRect.left;else if(0<b.elementRect.left?e.left=this.rect.left+b.elementRect.left:(e.width+=b.elementRect.left,e.left=this.rect.left),0<(b=e.left+e.width-(this.rect.left+this.winPane.width)))e.width-=b;e.left+=this.winTopScroll.x;for(var g in e)e[g]=CKEDITOR.tools.cssLength(e[g]);return e},addLine:function(){var a=CKEDITOR.dom.element.createFromHtml(this.lineTpl);a.appendTo(this.container);return a},prepare:function(a,d){this.relations=a;this.locations=d;this.hash=Math.random()},\ncleanup:function(){var a,d;for(d in this.visible)a=this.visible[d],a.getCustomData(\"hash\")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.inline?this.editable.getClientRect():this.frame.getClientRect()}};var o={left:1,right:1,center:1},r={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:k,locator:l,liner:m}})();(function(){function o(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};I(this);J(this);this.on(\"checkWidgets\",K);this.editor.on(\"contentDomInvalidated\",this.checkWidgets,this);L(this);M(this);N(this);O(this);P(this)}function k(a,b,c,d,e){var f=a.editor;CKEDITOR.tools.extend(this,d,{editor:f,id:b,inline:\"span\"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},\n\"function\"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:k.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&\"string\"==typeof d.downcast?d.downcasts[d.downcast]:d.downcast}},!0);a.fire(\"instanceCreated\",this);Q(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data(\"cke-widget-data\"))&&this.setData(JSON.parse(decodeURIComponent(a)));e&&this.setData(e);this.data.classes||this.setData(\"classes\",\nthis.getClasses());this.dataReady=!0;s(this);this.fire(\"data\",this.data);this.isInited()&&f.editable().contains(this.wrapper)&&(this.ready=!0,this.fire(\"ready\"))}function q(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function R(a,b){a.addCommand(b.name,\n{exec:function(){function c(){a.widgets.finalizeCreation(g)}var d=a.widgets.focused;if(d&&d.name==b.name)d.edit();else if(b.insert)b.insert();else if(b.template){var d=\"function\"==typeof b.defaults?b.defaults():b.defaults,d=CKEDITOR.dom.element.createFromHtml(b.template.output(d)),e,f=a.widgets.wrapElement(d,b.name),g=new CKEDITOR.dom.documentFragment(f.getDocument());g.append(f);(e=a.widgets.initOn(d,b))?(d=e.once(\"edit\",function(b){if(b.data.dialog)e.once(\"dialog\",function(b){var b=b.data,d,f;d=\nb.once(\"ok\",c,null,null,20);f=b.once(\"cancel\",function(){a.widgets.destroy(e,!0)});b.once(\"hide\",function(){d.removeListener();f.removeListener()})});else c()},null,null,999),e.edit(),d.removeListener()):c()}},refresh:function(a,b){this.setState(l(a.editable(),b.blockLimit)?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF)},context:\"div\",allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function t(a,b){a.focused=\nnull;if(b.isInited()){var c=b.editor.checkDirty();a.fire(\"widgetBlurred\",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}function K(a){a=a.data;if(\"wysiwyg\"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e;if(b){for(d in c)b.contains(c[d].wrapper)||this.destroy(c[d],!0);if(a&&a.initOnlyNew)b=this.initOnAll();else{var f=b.find(\".cke_widget_wrapper\"),b=[];d=0;for(c=f.count();d<c;d++){e=f.getItem(d);var g;if(g=!this.getByElement(e,!0)){a:{g=S;for(var i=e;i=i.getParent();)if(g(i)){g=\n!0;break a}g=!1}g=!g}g&&(e.addClass(\"cke_widget_new\"),b.push(this.initOn(e.getFirst(p))))}}a&&(a.focusInited&&1==b.length)&&b[0].focus()}}}function u(a,b,c){if(!c.allowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d={});(a=d[b])||(d[b]=a=new CKEDITOR.filter(c.allowedContent));return a}function T(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var f,g,i,h,j;if(\"data-cke-widget-wrapper\"in a.attributes)return(a=a.getFirst(v))&&b.push([a]),\n!1;if(\"data-widget\"in a.attributes)return b.push([a]),!1;if(j=c.length){if(a.attributes[\"data-cke-widget-upcasted\"])return!1;h=0;for(f=d.length;h<f;++h)if(!1===d[h](a))return;for(h=0;h<j;++h)if(f=c[h],i={},g=f[0](a,i))return g instanceof CKEDITOR.htmlParser.element&&(a=g),a.attributes[\"data-cke-widget-data\"]=encodeURIComponent(JSON.stringify(i)),a.attributes[\"data-cke-widget-upcasted\"]=1,b.push([a,f[1]]),!1}}}}function l(a,b){return!b||b.equals(a)?null:w(b)?b:l(a,b.getParent())}function x(a){return{tabindex:-1,\ncontenteditable:\"false\",\"data-cke-widget-wrapper\":1,\"data-cke-filter\":\"off\",\"class\":\"cke_widget_wrapper cke_widget_new cke_widget_\"+(a?\"inline\":\"block\")}}function y(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent,b=d.getIndex();a.children.length||(b-=1,a.remove());d.children.length||d.remove();return y(e,b,c)}}a.add(c,b)}function v(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes[\"data-widget\"]}function p(a){return a.type==CKEDITOR.NODE_ELEMENT&&\na.hasAttribute(\"data-widget\")}function z(a,b){return\"boolean\"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function r(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"data-cke-widget-wrapper\")}function w(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"data-cke-widget-editable\")}function S(a){return a.hasAttribute(\"data-cke-temp\")}function U(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_widget_drag_handler_container\")}function A(a,b,c){b.focus();a.fire(\"saveSnapshot\");\na.fire(\"lockSnapshot\",{dontUpdate:!0});c.select();c=b.wrapper.getOuterHtml();b.wrapper.remove();a.widgets.destroy(b,!0);a.execCommand(\"paste\",c);a.fire(\"unlockSnapshot\")}function n(a,b,c,d){var e=a.editor;e.fire(\"lockSnapshot\");c?(d=c.data(\"cke-widget-editable\"),d=b.editables[d],a.widgetHoldingFocusedEditable=b,b.focusedEditable=d,c.addClass(\"cke_widget_editable_focused\"),d.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass(\"cke_widget_editable_focused\"),\nb.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire(\"unlockSnapshot\")}function V(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire(\"contextMenu\",{})})}function W(a,b){return CKEDITOR.tools.trim(b)}function O(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on(\"contentDom\",function(){var d=b.editable(),e=CKEDITOR.env.ie&&9>CKEDITOR.env.version||d.isInline()?d:b.document;d.attachListener(e,\n\"drop\",function(c){var d=c.data.$.dataTransfer.getData(\"text\"),e,h;if(d){try{e=JSON.parse(d)}catch(j){return}if(\"cke-widget\"==e.type&&(c.data.preventDefault(),e.editor==b.name&&(h=a.instances[e.id]))){a:if(e=c.data.$,d=b.createRange(),c.data.testRange)d=c.data.testRange;else if(document.caretRangeFromPoint)c=b.document.$.caretRangeFromPoint(e.clientX,e.clientY),d.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),d.collapse(!0);else if(e.rangeParent)d.setStart(CKEDITOR.dom.node(e.rangeParent),\ne.rangeOffset),d.collapse(!0);else if(document.body.createTextRange)c=b.document.getBody().$.createTextRange(),c.moveToPoint(e.clientX,e.clientY),e=\"cke-temp-\"+(new Date).getTime(),c.pasteHTML('<span id=\"'+e+'\"></span>'),c=b.document.getById(e),d.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START),c.remove();else{d=null;break a}d&&(CKEDITOR.env.gecko?setTimeout(A,0,b,h,d):A(b,h,d))}}});CKEDITOR.tools.extend(a,{finder:new c.finder(b,{lookups:{\"default\":function(a){if(!a.is(CKEDITOR.dtd.$listItem)&&a.is(CKEDITOR.dtd.$block)){for(;a;){if(w(a))return;\na=a.getParent()}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:\"move !important\",\"border-top-color\":\"#666\"},tipLeftStyle:{\"border-left-color\":\"#666\"},tipRightStyle:{\"border-right-color\":\"#666\"}})},!0)})}function M(a){var b=a.editor;b.on(\"contentDom\",function(){var c=b.editable(),d=c.isInline()?c:b.document,e,f;c.attachListener(d,\"mousedown\",function(c){var b=c.data.getTarget();if(!b.type)return!1;e=a.getByElement(b);f=\n0;e&&(e.inline&&b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"data-cke-widget-drag-handler\")?f=1:l(e.wrapper,b)?e=null:(c.data.preventDefault(),CKEDITOR.env.ie||e.focus()))});c.attachListener(d,\"mouseup\",function(){e&&f&&(f=0,e.focus())});CKEDITOR.env.ie&&c.attachListener(d,\"mouseup\",function(){e&&setTimeout(function(){e.focus();e=null})})});b.on(\"doubleclick\",function(c){var b=a.getByElement(c.data.element);if(b&&!l(b.wrapper,c.data.element))return b.fire(\"doubleclick\",{element:c.data.element})},\nnull,null,1)}function N(a){a.editor.on(\"key\",function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire(\"key\",{keyCode:b.data.keyCode}):d&&(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),d=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?\"START\":\"END\"]))):e=void 0);return e},\nnull,null,1)}function P(a){function b(c){a.focused&&B(a.focused,\"cut\"==c.name)}var c=a.editor;c.on(\"contentDom\",function(){var a=c.editable();a.attachListener(a,\"copy\",b);a.attachListener(a,\"cut\",b)})}function L(a){var b=a.editor;b.on(\"selectionCheck\",function(){a.fire(\"checkSelection\")});a.on(\"checkSelection\",a.checkSelection,a);b.on(\"selectionChange\",function(c){var d=(c=l(b.editable(),c.data.selection.getStartElement()))&&a.getByElement(c),e=a.widgetHoldingFocusedEditable;if(e){if(e!==d||!e.focusedEditable.equals(c))n(a,\ne,null),d&&c&&n(a,d,c)}else d&&c&&n(a,d,c)});b.on(\"dataReady\",function(){C(a).commit()});b.on(\"blur\",function(){var c;(c=a.focused)&&t(a,c);(c=a.widgetHoldingFocusedEditable)&&n(a,c,null)})}function J(a){var b=a.editor,c={};b.on(\"toDataFormat\",function(b){var e=CKEDITOR.tools.getNextNumber(),f=[];b.data.downcastingSessionId=e;c[e]=f;b.data.dataValue.forEach(function(c){var b=c.attributes,d;if(\"data-cke-widget-id\"in b){if(b=a.instances[b[\"data-cke-widget-id\"]])d=c.getFirst(v),f.push({wrapper:c,element:d,\nwidget:b,editables:{}}),\"1\"!=d.attributes[\"data-cke-widget-keep-attr\"]&&delete d.attributes[\"data-widget\"]}else if(\"data-cke-widget-editable\"in b)return f[f.length-1].editables[b[\"data-cke-widget-editable\"]]=c,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8);b.on(\"toDataFormat\",function(a){if(a.data.downcastingSessionId)for(var a=c[a.data.downcastingSessionId],b,f,g,i,h,j;b=a.shift();){f=b.widget;g=b.element;i=f._.downcastFn&&f._.downcastFn.call(f,g);for(j in b.editables)h=b.editables[j],delete h.attributes.contenteditable,\nh.setHtml(f.editables[j].getData());i||(i=g);b.wrapper.replaceWith(i)}},null,null,13);b.on(\"contentDomUnload\",function(){a.destroyAll(!0)})}function I(a){function b(){c.fire(\"lockSnapshot\");a.checkWidgets({initOnlyNew:!0,focusInited:d});c.fire(\"unlockSnapshot\")}var c=a.editor,d,e;c.on(\"toHtml\",function(c){var b=T(a),e;for(c.data.dataValue.forEach(b.iterator,CKEDITOR.NODE_ELEMENT,!0);e=b.toBeWrapped.pop();){var h=e[0],j=h.parent;j.type==CKEDITOR.NODE_ELEMENT&&j.attributes[\"data-cke-widget-wrapper\"]&&\nj.replaceWith(h);a.wrapElement(e[0],e[1])}d=1==c.data.dataValue.children.length&&c.data.dataValue.children[0].type==CKEDITOR.NODE_ELEMENT&&c.data.dataValue.children[0].attributes[\"data-cke-widget-wrapper\"]},null,null,8);c.on(\"dataReady\",function(){if(e)for(var b=a,d=c.editable().find(\".cke_widget_wrapper\"),i,h,j=0,k=d.count();j<k;++j)i=d.getItem(j),h=i.getFirst(p),h.type==CKEDITOR.NODE_ELEMENT&&h.data(\"widget\")?(h.replace(i),b.wrapElement(h)):i.remove();e=0;a.destroyAll(!0);a.initOnAll()});c.on(\"loadSnapshot\",\nfunction(c){/data-cke-widget/.test(c.data)&&(e=1);a.destroyAll(!0)},null,null,9);c.on(\"paste\",function(a){a.data.dataValue=a.data.dataValue.replace(X,W)});c.on(\"insertText\",b,null,null,999);c.on(\"insertHtml\",b,null,null,999)}function C(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},commit:function(){var f=a.focused!==e,g,i;a.editor.fire(\"lockSnapshot\");\nfor(f&&(g=a.focused)&&t(a,g);g=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,g),1),g.isInited()&&(i=g.editor.checkDirty(),g.setSelected(!1),!i&&g.editor.resetDirty());f&&e&&(i=a.editor.checkDirty(),a.focused=e,a.fire(\"widgetFocused\",{widget:e}),e.setFocused(!0),!i&&a.editor.resetDirty());for(;g=c.pop();)b.push(g),g.setSelected(!0);a.editor.fire(\"unlockSnapshot\")}}}function D(a,b,c){var d=0,b=E(b),e=a.data.classes||{},f;if(b){for(e=CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],\nd=1);d&&a.setData(\"classes\",e)}}function F(a){a.cancel()}function B(a,b){var c=a.editor,d=c.document;if(!d.getById(\"cke_copybin\")){var e=c.blockless||CKEDITOR.env.ie?\"span\":\"div\",f=d.createElement(e),g=d.createElement(e),e=CKEDITOR.env.ie&&9>CKEDITOR.env.version;g.setAttributes({id:\"cke_copybin\",\"data-cke-temp\":\"1\"});f.setStyles({position:\"absolute\",width:\"1px\",height:\"1px\",overflow:\"hidden\"});f.setStyle(\"ltr\"==c.config.contentsLangDirection?\"left\":\"right\",\"-5000px\");f.setHtml('<span data-cke-copybin-start=\"1\"></span>'+\na.wrapper.getOuterHtml()+'<span data-cke-copybin-end=\"1\"></span>');c.fire(\"saveSnapshot\");c.fire(\"lockSnapshot\");g.append(f);c.editable().append(g);var i=c.on(\"selectionChange\",F,null,null,0),h=a.repository.on(\"checkSelection\",F,null,null,0);if(e)var j=d.getDocumentElement().$,k=j.scrollTop;d=c.createRange();d.selectNodeContents(f);d.select();e&&(j.scrollTop=k);setTimeout(function(){b||a.focus();g.remove();i.removeListener();h.removeListener();c.fire(\"unlockSnapshot\");if(b){a.repository.del(a);c.fire(\"saveSnapshot\")}},\n100)}}function E(a){return(a=(a=a.getDefinition().attributes)&&a[\"class\"])?a.split(/\\s+/):null}function G(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}function H(){CKEDITOR.env.gecko&&this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function Y(a){var b=null;a.on(\"data\",function(){var a=this.data.classes,d;if(b!=a){for(d in b)(!a||\n!a[d])&&this.removeClass(d);for(d in a)this.addClass(d);b=a}})}function Z(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(U),d;c?d=c.findOne(\"img\"):(c=new CKEDITOR.dom.element(\"span\",b.document),c.setAttributes({\"class\":\"cke_reset cke_widget_drag_handler_container\",style:\"background:rgba(220,220,220,0.5);background-image:url(\"+b.plugins.widget.path+\"images/handle.png)\"}),d=new CKEDITOR.dom.element(\"img\",b.document),d.setAttributes({\"class\":\"cke_reset cke_widget_drag_handler\",\"data-cke-widget-drag-handler\":\"1\",\nsrc:CKEDITOR.tools.transparentImageData,width:m,title:b.lang.widget.move,height:m}),a.inline&&d.setAttribute(\"draggable\",\"true\"),c.append(d),a.wrapper.append(c));a.wrapper.on(\"mouseenter\",a.updateDragHandlerPosition,a);setTimeout(function(){a.on(\"data\",a.updateDragHandlerPosition,a)},50);if(a.inline)d.on(\"dragstart\",function(c){c.data.$.dataTransfer.setData(\"text\",JSON.stringify({type:\"cke-widget\",editor:b.name,id:a.id}))});else d.on(\"mousedown\",$,a);a.dragHandlerContainer=c}}function $(){function a(){var a;\nfor(j.reset();a=g.pop();)a.removeListener();var c=i,b=this.repository.finder;a=this.repository.liner;var d=this.editor,e=this.editor.editable();CKEDITOR.tools.isEmpty(a.visible)||(c=b.getRange(c[0]),this.focus(),d.fire(\"saveSnapshot\"),d.fire(\"lockSnapshot\",{dontUpdate:1}),d.getSelection().reset(),e.insertElementIntoRange(this.wrapper,c),this.focus(),d.fire(\"unlockSnapshot\"),d.fire(\"saveSnapshot\"));e.removeClass(\"cke_widget_dragging\");a.hideVisible()}var b=this.repository.finder,c=this.repository.locator,\nd=this.repository.liner,e=this.editor,f=e.editable(),g=[],i=[],h=b.greedySearch(),j=CKEDITOR.tools.eventsBuffer(50,function(){k=c.locate(h);i=c.sort(l,1);i.length&&(d.prepare(h,k),d.placeLine(i[0]),d.cleanup())}),k,l;f.addClass(\"cke_widget_dragging\");g.push(f.on(\"mousemove\",function(a){l=a.data.$.clientY;j.input()}));g.push(e.document.once(\"mouseup\",a,this));g.push(CKEDITOR.document.once(\"mouseup\",a,this))}function aa(a){var b,c,d=a.editables;a.editables={};if(a.editables)for(b in d)c=d[b],a.initEditable(b,\n\"string\"==typeof c?{selector:c}:c)}function ba(a){if(a.mask){var b=a.wrapper.findOne(\".cke_widget_mask\");b||(b=new CKEDITOR.dom.element(\"img\",a.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,\"class\":\"cke_reset cke_widget_mask\"}),a.wrapper.append(b));a.mask=b}}function ca(a){if(a.parts){var b={},c,d;for(d in a.parts)c=a.wrapper.findOne(a.parts[d]),b[d]=c;a.parts=b}}function Q(a,b){da(a);ca(a);aa(a);ba(a);Z(a);Y(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on(\"dragstart\",\nfunction(c){var b=c.data.getTarget();!l(a,b)&&(!a.inline||!(b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"data-cke-widget-drag-handler\")))&&c.data.preventDefault()});a.wrapper.removeClass(\"cke_widget_new\");a.element.addClass(\"cke_widget_element\");a.on(\"key\",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){B(a,b==CKEDITOR.CTRL+88);return}if(b in ea||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on(\"doubleclick\",function(b){a.edit()&&\nb.cancel()});if(b.data)a.on(\"data\",b.data);if(b.edit)a.on(\"edit\",b.edit)}function da(a){(a.wrapper=a.element.getParent()).setAttribute(\"data-cke-widget-id\",a.id)}function s(a){a.element.data(\"cke-widget-data\",encodeURIComponent(JSON.stringify(a.data)))}var m=15;CKEDITOR.plugins.add(\"widget\",{requires:\"lineutils,clipboard\",onLoad:function(){CKEDITOR.addCss(\".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid yellow;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid yellow}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #ace}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:\"+\nm+\"px;height:0;left:-9999px;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:\"+m+\"px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:\"+m+\"px;height:\"+m+\"px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}\")},beforeInit:function(a){a.widgets=\nnew o(a)},afterInit:function(a){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:\"insert,10\"});V(a)}});o.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,b){b=CKEDITOR.tools.prototypedCopy(b);b.name=a;b._=b._||{};this.editor.fire(\"widgetDefinition\",b);b.template&&(b.template=new CKEDITOR.template(b.template));R(this.editor,b);var c=b,d=c.upcast;if(d)if(\"string\"==typeof d)for(d=\nd.split(\",\");d.length;)this._.upcasts.push([c.upcasts[d.pop()],c.name]);else this._.upcasts.push([d,c.name]);return this.registered[a]=b},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},checkSelection:function(){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=C(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=r;b=a.next();)c.select(this.getByElement(b));\nc.commit()},checkWidgets:function(a){this.fire(\"checkWidgets\",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===a){var b=a.editor,c=b.createRange(),d;if(!(d=c.moveToClosestEditablePosition(a.wrapper,!0)))d=c.moveToClosestEditablePosition(a.wrapper,!1);d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&n(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire(\"instanceDestroyed\",a)},destroyAll:function(a){var b=\nthis.instances,c,d;for(d in b)c=b[d],this.destroy(c,a)},finalizeCreation:function(a){if((a=a.getFirst())&&r(a))this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire(\"ready\"),a.focus()},getByElement:function(){var a={div:1,span:1};return function(b,c){if(!b)return null;var d=b.is(a)&&b.data(\"cke-widget-id\");if(!c&&!d){var e=this.editor.editable();do b=b.getParent();while(b&&!b.equals(e)&&!(d=b.is(a)&&b.data(\"cke-widget-id\")))}return this.instances[d]||null}}(),initOn:function(a,b,c){b?\n\"string\"==typeof b&&(b=this.registered[b]):b=this.registered[a.data(\"widget\")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass(\"cke_widget_new\")?(a=new k(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){for(var a=(a||this.editor.editable()).find(\".cke_widget_new\"),b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(p)))&&b.push(c);return b},parseElementClasses:function(a){if(!a)return null;for(var a=\nCKEDITOR.tools.trim(a).split(/\\s+/),b,c={},d=0;b=a.pop();)-1==b.indexOf(\"cke_\")&&(c[b]=d=1);return d?c:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){d=this.registered[b||a.data(\"widget\")];if(!d)return null;if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data(\"cke-widget-wrapper\"))return c;a.hasAttribute(\"data-cke-widget-keep-attr\")||a.data(\"cke-widget-keep-attr\",a.data(\"widget\")?1:0);b&&a.data(\"widget\",b);e=z(d,a.getName());c=new CKEDITOR.dom.element(e?\n\"span\":\"div\");c.setAttributes(x(e));c.data(\"cke-display-name\",d.pathName?d.pathName:a.getName());a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){d=this.registered[b||a.attributes[\"data-widget\"]];if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes[\"data-cke-widget-wrapper\"])return c;\"data-cke-widget-keep-attr\"in a.attributes||(a.attributes[\"data-cke-widget-keep-attr\"]=a.attributes[\"data-widget\"]?1:0);b&&(a.attributes[\"data-widget\"]=\nb);e=z(d,a.name);c=new CKEDITOR.htmlParser.element(e?\"span\":\"div\",x(e));c.attributes[\"data-cke-display-name\"]=d.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&y(d,f,c)}return c},_tests_getNestedEditable:l,_tests_createEditableFilter:u};CKEDITOR.event.implementOn(o.prototype);k.prototype={addClass:function(a){this.element.addClass(a)},applyStyle:function(a){D(this,a,1)},checkStyleActive:function(a){var a=E(a),b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;\nreturn!0},destroy:function(a){this.fire(\"destroy\");if(this.editables)for(var b in this.editables)this.destroyEditable(b,a);a||(\"0\"==this.element.data(\"cke-widget-keep-attr\")&&this.element.removeAttribute(\"data-widget\"),this.element.removeAttributes([\"data-cke-widget-data\",\"data-cke-widget-keep-attr\"]),this.element.removeClass(\"cke_widget_element\"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a];c.removeListener(\"focus\",H);c.removeListener(\"blur\",\nG);this.editor.focusManager.remove(c);b||(c.removeClass(\"cke_widget_editable\"),c.removeClass(\"cke_widget_editable_focused\"),c.removeAttributes([\"contenteditable\",\"data-cke-widget-editable\",\"data-cke-enter-mode\"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire(\"edit\",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,function(a){var d,e;!1!==b.fire(\"dialog\",a)&&(d=a.on(\"show\",function(){a.setupContent(b)}),e=a.on(\"ok\",function(){var d,e=b.on(\"data\",\nfunction(a){d=1;a.cancel()},null,null,0);b.editor.fire(\"saveSnapshot\");a.commitContent(b);e.removeListener();d&&(b.fire(\"data\",b.data),b.editor.fire(\"saveSnapshot\"))}),a.once(\"hide\",function(){d.removeListener();e.removeListener()}))});return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute(\"class\"))},hasClass:function(a){return this.element.hasClass(a)},initEditable:function(a,b){var c=this.wrapper.findOne(b.selector);return c&&c.is(CKEDITOR.dtd.$editable)?\n(c=new q(this.editor,c,{filter:u.call(this.repository,this.name,a,b)}),this.editables[a]=c,c.setAttributes({contenteditable:\"true\",\"data-cke-widget-editable\":a,\"data-cke-enter-mode\":c.enterMode}),c.filter&&c.data(\"cke-filter\",c.filter.id),c.addClass(\"cke_widget_editable\"),c.removeClass(\"cke_widget_editable_focused\"),b.pathName&&c.data(\"cke-display-name\",b.pathName),this.editor.focusManager.add(c),c.on(\"focus\",H,this),CKEDITOR.env.ie&&c.on(\"blur\",G,this),c.setData(c.getHtml()),!0):!1},isInited:function(){return!(!this.wrapper||\n!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);!b&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(a){this.element.removeClass(a)},removeStyle:function(a){D(this,a,0)},setData:function(a,b){var c=this.data,d=0;if(\"string\"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=e[a])}d&&this.dataReady&&(s(this),this.fire(\"data\",\nc));return this},setFocused:function(a){this.wrapper[a?\"addClass\":\"removeClass\"](\"cke_widget_focused\");this.fire(a?\"focus\":\"blur\");return this},setSelected:function(a){this.wrapper[a?\"addClass\":\"removeClass\"](\"cke_widget_selected\");this.fire(a?\"select\":\"deselect\");return this},updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset,b={x:b.offsetLeft,y:b.offsetTop-m};if(!c||!(b.x==c.x&&b.y==c.y))c=a.checkDirty(),a.fire(\"lockSnapshot\"),this.dragHandlerContainer.setStyles({top:b.y+\n\"px\",left:b.x+\"px\"}),a.fire(\"unlockSnapshot\"),!c&&a.resetDirty(),this._.dragHandlerOffset=b}};CKEDITOR.event.implementOn(k.prototype);q.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),\nfilter:this.filter,enterMode:this.enterMode})}});var X=RegExp('^(?:<(?:div|span)(?: data-cke-temp=\"1\")?(?: id=\"cke_copybin\")?(?: data-cke-temp=\"1\")?>)?(?:<(?:div|span)(?: style=\"[^\"]+\")?>)?<span [^>]*data-cke-copybin-start=\"1\"[^>]*>.?</span>([\\\\s\\\\S]+)<span [^>]*data-cke-copybin-end=\"1\"[^>]*>.?</span>(?:</(?:div|span)>)?(?:</(?:div|span)>)?$'),ea={37:1,38:1,39:1,40:1,8:1,46:1};(function(){function a(){}function b(a,b,e){return!e||!this.checkElement(a)?!1:(a=e.widgets.getByElement(a,!0))&&a.checkStyleActive(this)}\nCKEDITOR.style.addCustomHandler({type:\"widget\",setup:function(a){this.widget=a.widget},apply:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.applyStyle(this)},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.removeStyle(this)},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return!(b instanceof CKEDITOR.editor)?!1:this.checkElement(a.lastElement)},\ncheckElementMatch:b,checkElementRemovable:b,checkElement:function(a){return!r(a)?!1:(a=a.getFirst(p))&&a.data(\"widget\")==this.widget},buildPreview:function(a){return a||this._.definition.name},toAllowedContentRules:function(a){if(!a)return null;var a=a.widgets.registered[this.widget],b,e={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;e[a.styleableElements]={classes:b,propertiesOnly:!0};return e}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):\nnull},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes[\"class\"];return a?CKEDITOR.tools.trim(a).split(/\\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})})();CKEDITOR.plugins.widget=k;k.repository=o;k.nestedEditable=q})();(function(){var h=\"http://cdn.mathjax.org/mathjax/2.2-latest/MathJax.js?config=TeX-AMS_HTML\";CKEDITOR.plugins.add(\"mathjax\",{requires:\"widget,dialog\",icons:\"mathjax\",init:function(b){var c=b.config.mathJaxClass||\"math-tex\";b.widgets.add(\"mathjax\",{inline:!0,dialog:\"mathjax\",button:b.lang.mathjax.button,mask:!0,allowedContent:\"span(!\"+c+\")\",styleToAllowedContentRules:function(a){a=a.getClassesArray();if(!a)return null;a.push(\"!\"+c);return\"span(\"+a.join(\",\")+\")\"},pathName:b.lang.mathjax.pathName,template:'<span class=\"'+\nc+'\" style=\"display:inline-block\" data-cke-survive=1></span>',parts:{span:\"span\"},defaults:{math:\"\\\\(x = {-b \\\\pm \\\\sqrt{b^2-4ac} \\\\over 2a}\\\\)\"},init:function(){var a=this.parts.span.getChild(0);if(!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.is(\"iframe\"))a=new CKEDITOR.dom.element(\"iframe\"),a.setAttributes({style:\"border:0;width:0;height:0\",scrolling:\"no\",frameborder:0,allowTransparency:!0,src:CKEDITOR.plugins.mathjax.fixSrc}),this.parts.span.append(a);this.once(\"ready\",function(){CKEDITOR.env.ie&&a.setAttribute(\"src\",\nCKEDITOR.plugins.mathjax.fixSrc);this.frameWrapper=new CKEDITOR.plugins.mathjax.frameWrapper(a,b);this.frameWrapper.setValue(this.data.math)})},data:function(){this.frameWrapper&&this.frameWrapper.setValue(this.data.math)},upcast:function(a,b){if(\"span\"==a.name&&a.hasClass(c)&&!(1<a.children.length||a.children[0].type!=CKEDITOR.NODE_TEXT)){b.math=CKEDITOR.tools.htmlDecode(a.children[0].value);var d=a.attributes;d.style=d.style?d.style+\";display:inline-block\":\"display:inline-block\";d[\"data-cke-survive\"]=\n1;a.children[0].remove();return a}},downcast:function(a){a.children[0].replaceWith(new CKEDITOR.htmlParser.text(CKEDITOR.tools.htmlEncode(this.data.math)));var b=a.attributes;b.style=b.style.replace(/display:\\s?inline-block;?\\s?/,\"\");\"\"===b.style&&delete b.style;return a}});CKEDITOR.dialog.add(\"mathjax\",this.path+\"dialogs/mathjax.js\");b.on(\"contentPreview\",function(a){a.data.dataValue=a.data.dataValue.replace(/<\\/head>/,'<script src=\"'+(b.config.mathJaxLib?CKEDITOR.getUrl(b.config.mathJaxLib):h)+\n'\"><\\/script></head>')});b.on(\"paste\",function(a){a.data.dataValue=a.data.dataValue.replace(RegExp(\"<span[^>]*?\"+c+\".*?</span>\",\"ig\"),function(a){return a.replace(/(<iframe.*?\\/iframe>)/i,\"\")})})}});CKEDITOR.plugins.mathjax={};CKEDITOR.plugins.mathjax.fixSrc=CKEDITOR.env.gecko?\"javascript:true\":CKEDITOR.env.ie?\"javascript:void((function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})())\":\"javascript:void(0)\";CKEDITOR.plugins.mathjax.loadingIcon=CKEDITOR.plugins.get(\"mathjax\").path+\n\"images/loader.gif\";CKEDITOR.plugins.mathjax.copyStyles=function(b,c){for(var a=\"color font-family font-style font-weight font-variant font-size\".split(\" \"),e=0;e<a.length;e++){var d=a[e],g=b.getComputedStyle(d);g&&c.setStyle(d,g)}};CKEDITOR.plugins.mathjax.trim=function(b){var c=b.indexOf(\"\\\\(\")+2,a=b.lastIndexOf(\"\\\\)\");return b.substring(c,a)};CKEDITOR.plugins.mathjax.frameWrapper=CKEDITOR.env.ie&&8==CKEDITOR.env.version?function(b,c){b.getFrameDocument().write('<!DOCTYPE html><html><head><meta charset=\"utf-8\"></head><body style=\"padding:0;margin:0;background:transparent;overflow:hidden\"><span style=\"white-space:nowrap;\" id=\"tex\"></span></body></html>');\nreturn{setValue:function(a){var e=b.getFrameDocument(),d=e.getById(\"tex\");d.setHtml(CKEDITOR.plugins.mathjax.trim(CKEDITOR.tools.htmlEncode(a)));CKEDITOR.plugins.mathjax.copyStyles(b,d);c.fire(\"lockSnapshot\");b.setStyles({width:Math.min(250,d.$.offsetWidth)+\"px\",height:e.$.body.offsetHeight+\"px\",display:\"inline\",\"vertical-align\":\"middle\"});c.fire(\"unlockSnapshot\")}}}:function(b,c){function a(){f=b.getFrameDocument();f.getById(\"preview\")||(CKEDITOR.env.ie&&b.removeAttribute(\"src\"),f.write('<!DOCTYPE html><html><head><meta charset=\"utf-8\"><script type=\"text/x-mathjax-config\">MathJax.Hub.Config( {showMathMenu: false,messageStyle: \"none\"} );function getCKE() {if ( typeof window.parent.CKEDITOR == \\'object\\' ) {return window.parent.CKEDITOR;} else {return window.parent.parent.CKEDITOR;}}function update() {MathJax.Hub.Queue([ \\'Typeset\\', MathJax.Hub, this.buffer ],function() {getCKE().tools.callFunction( '+\nm+\" );});}MathJax.Hub.Queue( function() {getCKE().tools.callFunction(\"+n+');} );<\\/script><script src=\"'+(c.config.mathJaxLib||h)+'\"><\\/script></head><body style=\"padding:0;margin:0;background:transparent;overflow:hidden\"><span id=\"preview\"></span><span id=\"buffer\" style=\"display:none\"></span></body></html>'))}function e(){k=!0;i=j;c.fire(\"lockSnapshot\");d.setHtml(i);g.setHtml(\"<img src=\"+CKEDITOR.plugins.mathjax.loadingIcon+\" alt=\"+c.lang.mathjax.loading+\">\");b.setStyles({height:\"16px\",width:\"16px\",\ndisplay:\"inline\",\"vertical-align\":\"middle\"});c.fire(\"unlockSnapshot\");f.getWindow().$.update(i)}var d,g,i,j,f=b.getFrameDocument(),l=!1,k=!1,n=CKEDITOR.tools.addFunction(function(){g=f.getById(\"preview\");d=f.getById(\"buffer\");l=!0;j&&e();CKEDITOR.fire(\"mathJaxLoaded\",b)}),m=CKEDITOR.tools.addFunction(function(){CKEDITOR.plugins.mathjax.copyStyles(b,g);g.setHtml(d.getHtml());c.fire(\"lockSnapshot\");b.setStyles({height:0,width:0});var a=Math.max(f.$.body.offsetHeight,f.$.documentElement.offsetHeight),\nh=Math.max(g.$.offsetWidth,f.$.body.scrollWidth);b.setStyles({height:a+\"px\",width:h+\"px\"});c.fire(\"unlockSnapshot\");CKEDITOR.fire(\"mathJaxUpdateDone\",b);i!=j?e():k=!1});b.on(\"load\",a);a();return{setValue:function(a){j=CKEDITOR.tools.htmlEncode(a);l&&!k&&e()}}}})();CKEDITOR.plugins.add(\"panelbutton\",{requires:\"button\",onLoad:function(){function e(c){var a=this._;a.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(c),a.on?a.panel.hide():a.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(c){var a=c.panel||{};delete c.panel;this.base(c);this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.block={attributes:a.attributes};this.hasArrow=a.toolbarRelated=\n!0;this.click=e;this._={panelDefinition:a}},statics:{handler:{create:function(c){return new CKEDITOR.ui.panelButton(c)}}},proto:{createPanel:function(c){var a=this._;if(!a.panel){var f=this._.panelDefinition,e=this._.panelDefinition.block,g=f.parent||CKEDITOR.document.getBody(),d=this._.panel=new CKEDITOR.ui.floatPanel(c,g,f),f=d.addBlock(a.id,e),b=this;d.onShow=function(){b.className&&this.element.addClass(b.className+\"_panel\");b.setState(CKEDITOR.TRISTATE_ON);a.on=1;b.editorFocus&&c.focus();if(b.onOpen)b.onOpen()};\nd.onHide=function(d){b.className&&this.element.getFirst().removeClass(b.className+\"_panel\");b.setState(b.modes&&b.modes[c.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);a.on=0;if(!d&&b.onClose)b.onClose()};d.onEscape=function(){d.hide(1);b.document.getById(a.id).focus()};if(this.onBlock)this.onBlock(d,f);f.onHide=function(){a.on=0;b.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}});\nCKEDITOR.UI_PANELBUTTON=\"panelbutton\";CKEDITOR.plugins.add(\"colorbutton\",{requires:\"panelbutton,floatpanel\",init:function(c){function o(m,g,d,h){var i=new CKEDITOR.style(j[\"colorButton_\"+g+\"Style\"]),k=CKEDITOR.tools.getNextId()+\"_colorBox\";c.ui.add(m,CKEDITOR.UI_PANELBUTTON,{label:d,title:d,modes:{wysiwyg:1},editorFocus:0,toolbar:\"colors,\"+h,allowedContent:i,requiredContent:i,panel:{css:CKEDITOR.skin.getPath(\"editor\"),attributes:{role:\"listbox\",\"aria-label\":f.panelTitle}},onBlock:function(a,b){b.autoSize=!0;b.element.addClass(\"cke_colorblock\");\nb.element.setHtml(q(a,g,k));b.element.getDocument().getBody().setStyle(\"overflow\",\"hidden\");CKEDITOR.ui.fire(\"ready\",this);var e=b.keys,d=\"rtl\"==c.lang.dir;e[d?37:39]=\"next\";e[40]=\"next\";e[9]=\"next\";e[d?39:37]=\"prev\";e[38]=\"prev\";e[CKEDITOR.SHIFT+9]=\"prev\";e[32]=\"click\"},refresh:function(){c.activeFilter.check(i)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var a=c.getSelection(),a=a&&a.getStartElement(),a=c.elementPath(a),b;if(a){a=a.block||a.blockLimit||c.document.getBody();do b=\na&&a.getComputedStyle(\"back\"==g?\"background-color\":\"color\")||\"transparent\";while(\"back\"==g&&\"transparent\"==b&&a&&(a=a.getParent()));if(!b||\"transparent\"==b)b=\"#ffffff\";this._.panel._.iframe.getFrameDocument().getById(k).setStyle(\"background-color\",b);return b}}})}function q(m,g,d){var h=[],i=j.colorButton_colors.split(\",\"),k=c.plugins.colordialog&&!1!==j.colorButton_enableMore,a=i.length+(k?2:1),b=CKEDITOR.tools.addFunction(function(a,b){if(\"?\"==a){var e=arguments.callee,d=function(a){this.removeListener(\"ok\",\nd);this.removeListener(\"cancel\",d);\"ok\"==a.name&&e(this.getContentElement(\"picker\",\"selectedColor\").getValue(),b)};c.openDialog(\"colordialog\",function(){this.on(\"ok\",d);this.on(\"cancel\",d)})}else{c.focus();m.hide();c.fire(\"saveSnapshot\");c.removeStyle(new CKEDITOR.style(j[\"colorButton_\"+b+\"Style\"],{color:\"inherit\"}));if(a){var f=j[\"colorButton_\"+b+\"Style\"];f.childRule=\"back\"==b?function(a){return p(a)}:function(a){return!(a.is(\"a\")||a.getElementsByTag(\"a\").count())||p(a)};c.applyStyle(new CKEDITOR.style(f,\n{color:a}))}c.fire(\"saveSnapshot\")}});h.push('<a class=\"cke_colorauto\" _cke_focus=1 hidefocus=true title=\"',f.auto,'\" onclick=\"CKEDITOR.tools.callFunction(',b,\",null,'\",g,\"');return false;\\\" href=\\\"javascript:void('\",f.auto,'\\')\" role=\"option\" aria-posinset=\"1\" aria-setsize=\"',a,'\"><table role=\"presentation\" cellspacing=0 cellpadding=0 width=\"100%\"><tr><td><span class=\"cke_colorbox\" id=\"',d,'\"></span></td><td colspan=7 align=center>',f.auto,'</td></tr></table></a><table role=\"presentation\" cellspacing=0 cellpadding=0 width=\"100%\">');\nfor(d=0;d<i.length;d++){0===d%8&&h.push(\"</tr><tr>\");var e=i[d].split(\"/\"),l=e[0],n=e[1]||l;e[1]||(l=\"#\"+l.replace(/^(.)(.)(.)$/,\"$1$1$2$2$3$3\"));e=c.lang.colorbutton.colors[n]||n;h.push('<td><a class=\"cke_colorbox\" _cke_focus=1 hidefocus=true title=\"',e,'\" onclick=\"CKEDITOR.tools.callFunction(',b,\",'\",l,\"','\",g,\"'); return false;\\\" href=\\\"javascript:void('\",e,'\\')\" role=\"option\" aria-posinset=\"',d+2,'\" aria-setsize=\"',a,'\"><span class=\"cke_colorbox\" style=\"background-color:#',n,'\"></span></a></td>')}k&&\nh.push('</tr><tr><td colspan=8 align=center><a class=\"cke_colormore\" _cke_focus=1 hidefocus=true title=\"',f.more,'\" onclick=\"CKEDITOR.tools.callFunction(',b,\",'?','\",g,\"');return false;\\\" href=\\\"javascript:void('\",f.more,\"')\\\"\",' role=\"option\" aria-posinset=\"',a,'\" aria-setsize=\"',a,'\">',f.more,\"</a></td>\");h.push(\"</tr></table>\");return h.join(\"\")}function p(c){return\"false\"==c.getAttribute(\"contentEditable\")||c.getAttribute(\"data-nostyle\")}var j=c.config,f=c.lang.colorbutton;CKEDITOR.env.hc||(o(\"TextColor\",\n\"fore\",f.textColorTitle,10),o(\"BGColor\",\"back\",f.bgColorTitle,20))}});CKEDITOR.config.colorButton_colors=\"000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF\";CKEDITOR.config.colorButton_foreStyle={element:\"span\",styles:{color:\"#(color)\"},overrides:[{element:\"font\",attributes:{color:null}}]};\nCKEDITOR.config.colorButton_backStyle={element:\"span\",styles:{\"background-color\":\"#(color)\"}};(function(){function j(a,b,c,f,m,j,p,r){for(var s=a.config,n=new CKEDITOR.style(p),i=m.split(\";\"),m=[],k={},d=0;d<i.length;d++){var h=i[d];if(h){var h=h.split(\"/\"),q={},l=i[d]=h[0];q[c]=m[d]=h[1]||l;k[l]=new CKEDITOR.style(p,q);k[l]._.definition.name=l}else i.splice(d--,1)}a.ui.addRichCombo(b,{label:f.label,title:f.panelTitle,toolbar:\"styles,\"+r,allowedContent:n,requiredContent:n,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(s.contentsCss),multiSelect:!1,attributes:{\"aria-label\":f.panelTitle}},\ninit:function(){this.startGroup(f.panelTitle);for(var a=0;a<i.length;a++){var b=i[a];this.add(b,k[b].buildPreview(),b)}},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");var c=this.getValue(),f=k[b];if(c&&b!=c){var i=k[c],e=a.getSelection().getRanges()[0];if(e.collapsed){var d=a.elementPath(),g=d.contains(function(a){return i.checkElementRemovable(a)});if(g){var h=e.checkBoundaryOfElement(g,CKEDITOR.START),j=e.checkBoundaryOfElement(g,CKEDITOR.END);if(h&&j){for(h=e.createBookmark();d=g.getFirst();)d.insertBefore(g);\ng.remove();e.moveToBookmark(h)}else h?e.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START):j?e.moveToPosition(g,CKEDITOR.POSITION_AFTER_END):(e.splitElement(g),e.moveToPosition(g,CKEDITOR.POSITION_AFTER_END),o(e,d.elements.slice(),g));a.getSelection().selectRanges([e])}}else a.removeStyle(i)}a[c==b?\"removeStyle\":\"applyStyle\"](f);a.fire(\"saveSnapshot\")},onRender:function(){a.on(\"selectionChange\",function(b){for(var c=this.getValue(),b=b.data.path.elements,d=0,f;d<b.length;d++){f=b[d];for(var e in k)if(k[e].checkElementMatch(f,\n!0,a)){e!=c&&this.setValue(e);return}}this.setValue(\"\",j)},this)},refresh:function(){a.activeFilter.check(n)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function o(a,b,c){var f=b.pop();if(f){if(c)return o(a,b,f.equals(c)?null:c);c=f.clone();a.insertNode(c);a.moveToPosition(c,CKEDITOR.POSITION_AFTER_START);o(a,b)}}CKEDITOR.plugins.add(\"font\",{requires:\"richcombo\",init:function(a){var b=a.config;j(a,\"Font\",\"family\",a.lang.font,b.font_names,b.font_defaultLabel,b.font_style,30);j(a,\"FontSize\",\"size\",\na.lang.font.fontSize,b.fontSize_sizes,b.fontSize_defaultLabel,b.fontSize_style,40)}})})();CKEDITOR.config.font_names=\"Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif\";\nCKEDITOR.config.font_defaultLabel=\"\";CKEDITOR.config.font_style={element:\"span\",styles:{\"font-family\":\"#(family)\"},overrides:[{element:\"font\",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes=\"8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px\";CKEDITOR.config.fontSize_defaultLabel=\"\";CKEDITOR.config.fontSize_style={element:\"span\",styles:{\"font-size\":\"#(size)\"},overrides:[{element:\"font\",attributes:{size:null}}]};(function(){function l(a,c){var c=void 0===c||c,b;if(c)b=a.getComputedStyle(\"text-align\");else{for(;!a.hasAttribute||!a.hasAttribute(\"align\")&&!a.getStyle(\"text-align\");){b=a.getParent();if(!b)break;a=b}b=a.getStyle(\"text-align\")||a.getAttribute(\"align\")||\"\"}b&&(b=b.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,\"\"));!b&&c&&(b=\"rtl\"==a.getComputedStyle(\"direction\")?\"right\":\"left\");return b}function g(a,c,b){this.editor=a;this.name=c;this.value=b;this.context=\"p\";var c=a.config.justifyClasses,h=a.config.enterMode==\nCKEDITOR.ENTER_P?\"p\":\"div\";if(c){switch(b){case \"left\":this.cssClassName=c[0];break;case \"center\":this.cssClassName=c[1];break;case \"right\":this.cssClassName=c[2];break;case \"justify\":this.cssClassName=c[3]}this.cssClassRegex=RegExp(\"(?:^|\\\\s+)(?:\"+c.join(\"|\")+\")(?=$|\\\\s)\");this.requiredContent=h+\"(\"+this.cssClassName+\")\"}else this.requiredContent=h+\"{text-align}\";this.allowedContent={\"caption div h1 h2 h3 h4 h5 h6 p pre td th li\":{propertiesOnly:!0,styles:this.cssClassName?null:\"text-align\",classes:this.cssClassName||\nnull}};a.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function j(a){var c=a.editor,b=c.createRange();b.setStartBefore(a.data.node);b.setEndAfter(a.data.node);for(var h=new CKEDITOR.dom.walker(b),d;d=h.next();)if(d.type==CKEDITOR.NODE_ELEMENT)if(!d.equals(a.data.node)&&d.getDirection())b.setStartAfter(d),h=new CKEDITOR.dom.walker(b);else{var e=c.config.justifyClasses;e&&(d.hasClass(e[0])?(d.removeClass(e[0]),d.addClass(e[2])):d.hasClass(e[2])&&(d.removeClass(e[2]),d.addClass(e[0])));\ne=d.getStyle(\"text-align\");\"left\"==e?d.setStyle(\"text-align\",\"right\"):\"right\"==e&&d.setStyle(\"text-align\",\"left\")}}g.prototype={exec:function(a){var c=a.getSelection(),b=a.config.enterMode;if(c){for(var h=c.createBookmarks(),d=c.getRanges(),e=this.cssClassName,g,f,i=a.config.useComputedState,i=void 0===i||i,k=d.length-1;0<=k;k--){g=d[k].createIterator();for(g.enlargeBr=b!=CKEDITOR.ENTER_BR;f=g.getNextParagraph(b==CKEDITOR.ENTER_P?\"p\":\"div\");)if(!f.isReadOnly()){f.removeAttribute(\"align\");f.removeStyle(\"text-align\");\nvar j=e&&(f.$.className=CKEDITOR.tools.ltrim(f.$.className.replace(this.cssClassRegex,\"\"))),m=this.state==CKEDITOR.TRISTATE_OFF&&(!i||l(f,!0)!=this.value);e?m?f.addClass(e):j||f.removeAttribute(\"class\"):m&&f.setStyle(\"text-align\",this.value)}}a.focus();a.forceNextSelectionCheck();c.selectBookmarks(h)}},refresh:function(a,c){var b=c.block||c.blockLimit;this.setState(\"body\"!=b.getName()&&l(b,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"justify\",\n{init:function(a){if(!a.blockless){var c=new g(a,\"justifyleft\",\"left\"),b=new g(a,\"justifycenter\",\"center\"),h=new g(a,\"justifyright\",\"right\"),d=new g(a,\"justifyblock\",\"justify\");a.addCommand(\"justifyleft\",c);a.addCommand(\"justifycenter\",b);a.addCommand(\"justifyright\",h);a.addCommand(\"justifyblock\",d);a.ui.addButton&&(a.ui.addButton(\"JustifyLeft\",{label:a.lang.justify.left,command:\"justifyleft\",toolbar:\"align,10\"}),a.ui.addButton(\"JustifyCenter\",{label:a.lang.justify.center,command:\"justifycenter\",\ntoolbar:\"align,20\"}),a.ui.addButton(\"JustifyRight\",{label:a.lang.justify.right,command:\"justifyright\",toolbar:\"align,30\"}),a.ui.addButton(\"JustifyBlock\",{label:a.lang.justify.block,command:\"justifyblock\",toolbar:\"align,40\"}));a.on(\"dirChanged\",j)}}})})();(function(){var h,i={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(a){var g,b=a.config,f=b.baseHref?'<base href=\"'+b.baseHref+'\"/>':\"\";if(b.fullPage)g=a.getData().replace(/<head>/,\"$&\"+f).replace(/[^>]*(?=<\\/title>)/,\"$& &mdash; \"+a.lang.preview.preview);else{var b=\"<body \",d=a.document&&a.document.getBody();d&&(d.getAttribute(\"id\")&&(b+='id=\"'+d.getAttribute(\"id\")+'\" '),d.getAttribute(\"class\")&&(b+='class=\"'+d.getAttribute(\"class\")+'\" '));g=a.config.docType+'<html dir=\"'+a.config.contentsLangDirection+\n'\"><head>'+f+\"<title>\"+a.lang.preview.preview+\"</title>\"+CKEDITOR.tools.buildStyleHtml(a.config.contentsCss)+\"</head>\"+(b+\">\")+a.getData()+\"</body></html>\"}f=640;b=420;d=80;try{var c=window.screen,f=Math.round(0.8*c.width),b=Math.round(0.7*c.height),d=Math.round(0.1*c.width)}catch(i){}if(!1===a.fire(\"contentPreview\",a={dataValue:g}))return!1;var c=\"\",e;CKEDITOR.env.ie&&(window._cke_htmlToLoad=a.dataValue,e=\"javascript:void( (function(){document.open();\"+(\"(\"+CKEDITOR.tools.fixDomain+\")();\").replace(/\\/\\/.*?\\n/g,\n\"\").replace(/parent\\./g,\"window.opener.\")+\"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )\",c=\"\");CKEDITOR.env.gecko&&(window._cke_htmlToLoad=a.dataValue,c=CKEDITOR.getUrl(h+\"preview.html\"));c=window.open(c,null,\"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width=\"+f+\",height=\"+b+\",left=\"+d);CKEDITOR.env.ie&&c&&(c.location=e);!CKEDITOR.env.ie&&!CKEDITOR.env.gecko&&(e=c.document,e.open(),e.write(a.dataValue),\ne.close());return!0}};CKEDITOR.plugins.add(\"preview\",{init:function(a){a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(h=this.path,a.addCommand(\"preview\",i),a.ui.addButton&&a.ui.addButton(\"Preview\",{label:a.lang.preview.preview,command:\"preview\",toolbar:\"document,40\"}))}})})();CKEDITOR.plugins.add(\"print\",{init:function(a){a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(a.addCommand(\"print\",CKEDITOR.plugins.print),a.ui.addButton&&a.ui.addButton(\"Print\",{label:a.lang.print.toolbar,command:\"print\",toolbar:\"document,50\"}))}});CKEDITOR.plugins.print={exec:function(a){CKEDITOR.env.gecko?a.window.$.print():a.document.$.execCommand(\"Print\")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}};(function(){function d(a){CKEDITOR.tools.extend(this,a);this.queue=[];this.init?this.init(CKEDITOR.tools.bind(function(){for(var a;a=this.queue.pop();)a.call(this);this.ready=!0},this)):this.ready=!0}function l(a){var b=a.config.codeSnippet_codeClass,c=/\\r?\\n/g,h=new CKEDITOR.dom.element(\"textarea\");a.widgets.add(\"codeSnippet\",{allowedContent:\"pre; code(language-*)\",requiredContent:\"pre\",styleableElements:\"pre\",template:'<pre><code class=\"'+b+'\"></code></pre>',dialog:\"codeSnippet\",pathName:a.lang.codesnippet.pathName,\nmask:!0,parts:{pre:\"pre\",code:\"code\"},highlight:function(){var e=this,f=this.data,b=function(a){e.parts.code.setHtml(k?a:a.replace(c,\"<br>\"))};b(CKEDITOR.tools.htmlEncode(f.code));a._.codesnippet.highlighter.highlight(f.code,f.lang,function(e){a.fire(\"lockSnapshot\");b(e);a.fire(\"unlockSnapshot\")})},data:function(){var a=this.data,b=this.oldData;a.code&&this.parts.code.setHtml(CKEDITOR.tools.htmlEncode(a.code));b&&a.lang!=b.lang&&this.parts.code.removeClass(\"language-\"+b.lang);a.lang&&(this.parts.code.addClass(\"language-\"+\na.lang),this.highlight());this.oldData=CKEDITOR.tools.copy(a)},upcast:function(e,f){if(\"pre\"==e.name){for(var c=[],d=e.children,i,j=d.length-1;0<=j;j--)i=d[j],(i.type!=CKEDITOR.NODE_TEXT||!i.value.match(m))&&c.push(i);var g;if(!(1!=c.length||\"code\"!=(g=c[0]).name))if(!(1!=g.children.length||g.children[0].type!=CKEDITOR.NODE_TEXT)){if(c=a._.codesnippet.langsRegex.exec(g.attributes[\"class\"]))f.lang=c[1];h.setHtml(g.getHtml());f.code=h.getValue();g.addClass(b);return e}}},downcast:function(a){var c=\na.getFirst(\"code\");c.children.length=0;c.removeClass(b);c.add(new CKEDITOR.htmlParser.text(CKEDITOR.tools.htmlEncode(this.data.code)));return a}});var m=/^[\\s\\n\\r]*$/}var k=!CKEDITOR.env.ie||8<CKEDITOR.env.version;CKEDITOR.plugins.add(\"codesnippet\",{requires:\"widget,dialog\",beforeInit:function(a){a._.codesnippet={};this.setHighlighter=function(b){a._.codesnippet.highlighter=b;b=a._.codesnippet.langs=a.config.codeSnippet_languages||b.languages;a._.codesnippet.langsRegex=RegExp(\"(?:^|\\\\s)language-(\"+\nCKEDITOR.tools.objectKeys(b).join(\"|\")+\")(?:\\\\s|$)\")}},onLoad:function(){CKEDITOR.dialog.add(\"codeSnippet\",this.path+\"dialogs/codesnippet.js\")},init:function(a){a.ui.addButton&&a.ui.addButton(\"CodeSnippet\",{label:a.lang.codesnippet.button,command:\"codeSnippet\",toolbar:\"insert,10\"})},afterInit:function(a){var b=this.path;l(a);a._.codesnippet.highlighter||this.setHighlighter(new CKEDITOR.plugins.codesnippet.highlighter({languages:{apache:\"Apache\",bash:\"Bash\",coffeescript:\"CoffeeScript\",cpp:\"C++\",cs:\"C#\",\ncss:\"CSS\",diff:\"Diff\",html:\"HTML\",http:\"HTTP\",ini:\"INI\",java:\"Java\",javascript:\"JavaScript\",json:\"JSON\",makefile:\"Makefile\",markdown:\"Markdown\",nginx:\"Nginx\",objectivec:\"Objective-C\",perl:\"Perl\",php:\"PHP\",python:\"Python\",ruby:\"Ruby\",sql:\"SQL\",vbscript:\"VBScript\",xhtml:\"XHTML\",xml:\"XML\"},init:function(c){var h=this;k&&CKEDITOR.scriptLoader.load(b+\"lib/highlight/highlight.pack.js\",function(){h.hljs=window.hljs;c()});a.addContentsCss(b+\"lib/highlight/styles/\"+a.config.codeSnippet_theme+\".css\")},highlighter:function(a,\nb,d){(a=this.hljs.highlightAuto(a,this.hljs.getLanguage(b)?[b]:void 0))&&d(a.value)}}))}});CKEDITOR.plugins.codesnippet={highlighter:d};d.prototype.highlight=function(){var a=arguments;this.ready?this.highlighter.apply(this,a):this.queue.push(function(){this.highlighter.apply(this,a)})}})();CKEDITOR.config.codeSnippet_codeClass=\"hljs\";CKEDITOR.config.codeSnippet_theme=\"default\";var js={ace:\"ace.js\",aceExtWhitespace:\"ext-whitespace.js\",pbSyntaxHighlighter:CKEDITOR.plugins.getPath(\"pbckcode\")+\"dialogs/PBSyntaxHighlighter.js\"},commandName=\"pbckcode\";\nCKEDITOR.plugins.add(\"pbckcode\",{icons:\"pbckcode\",lang:[\"fr\",\"en\"],init:function(a){var b=this;void 0===a.config.pbckcode&&(a.config.pbckcode={});a.settings=CKEDITOR.tools.extend({cls:\"\",modes:[[\"HTML\",\"html\"],[\"CSS\",\"css\"],[\"PHP\",\"php\"],[\"JS\",\"javascript\"]],theme:\"textmate\",tab_size:4,js:\"http://cdn.jsdelivr.net//ace/1.1.4/noconflict///\"},a.config.pbckcode,!0);a.settings.js=normalizeJsUrl(a.settings.js);a.on(\"instanceReady\",function(){CKEDITOR.document.appendStyleSheet(b.path+\"dialogs/style.css\")});\na.ui.addButton(\"pbckcode\",{label:a.lang.pbckcode.addCode,command:commandName,toolbar:\"pbckcode\"});a.addCommand(commandName,new CKEDITOR.dialogCommand(\"pbckcodeDialog\",{allowedContent:\"pre[*]{*}(*)\"}));a.getCommand(commandName).disable();CKEDITOR.dialog.add(\"pbckcodeDialog\",b.path+\"dialogs/pbckcode.js\");a.contextMenu&&(a.addMenuGroup(\"pbckcodeGroup\"),a.addMenuItem(\"pbckcodeItem\",{label:a.lang.pbckcode.editCode,icon:b.path+\"icons/pbckcode.png\",command:commandName,group:\"pbckcodeGroup\"}),a.contextMenu.addListener(function(a){if(a.getAscendant(\"pre\",\ntrue))return{pbckcodeItem:CKEDITOR.TRISTATE_OFF}}));var c=[getScriptUrl(a.settings.js,js.ace),js.pbSyntaxHighlighter];CKEDITOR.scriptLoader.load(c,function(){a.getCommand(commandName).enable();CKEDITOR.scriptLoader.load([getScriptUrl(a.settings.js,js.aceExtWhitespace)])})}});function normalizeJsUrl(a){return a.concat(\"/\").replace(RegExp(\"([^:]/)/+\",\"g\"),\"$1\")}function getScriptUrl(a,b){return a+b};CKEDITOR.plugins.colordialog={requires:\"dialog\",init:function(b){var c=new CKEDITOR.dialogCommand(\"colordialog\");c.editorFocus=!1;b.addCommand(\"colordialog\",c);CKEDITOR.dialog.add(\"colordialog\",this.path+\"dialogs/colordialog.js\");b.getColorFromDialog=function(c,f){var d=function(a){this.removeListener(\"ok\",d);this.removeListener(\"cancel\",d);a=\"ok\"==a.name?this.getValueOf(\"picker\",\"selectedColor\"):null;c.call(f,a)},e=function(a){a.on(\"ok\",d);a.on(\"cancel\",d)};b.execCommand(\"colordialog\");if(b._.storedDialogs&&\nb._.storedDialogs.colordialog)e(b._.storedDialogs.colordialog);else CKEDITOR.on(\"dialogDefinition\",function(a){if(\"colordialog\"==a.data.name){var b=a.data.definition;a.removeListener();b.onLoad=CKEDITOR.tools.override(b.onLoad,function(a){return function(){e(this);b.onLoad=a;\"function\"==typeof a&&a.call(this)}})}})}}};CKEDITOR.plugins.add(\"colordialog\",CKEDITOR.plugins.colordialog);CKEDITOR.config.plugins='basicstyles,blockquote,dialogui,dialog,clipboard,panel,floatpanel,menu,contextmenu,resize,button,toolbar,enterkey,entities,popup,filebrowser,horizontalrule,htmlwriter,wysiwygarea,image,indent,indentlist,fakeobjects,link,list,magicline,maximize,pastetext,pastefromword,removeformat,showborders,sourcearea,specialchar,tab,table,tabletools,undo,listblock,richcombo,lineutils,widget,mathjax,panelbutton,colorbutton,font,justify,preview,print,codesnippet,pbckcode,colordialog';CKEDITOR.config.skin='moono-dark';(function() {var setIcons = function(icons, strip) {var path = CKEDITOR.getUrl( 'plugins/' + strip );icons = icons.split( ',' );for ( var i = 0; i < icons.length; i++ )CKEDITOR.skin.icons[ icons[ i ] ] = { path: path, offset: -icons[ ++i ], bgsize : icons[ ++i ] };};if (CKEDITOR.env.hidpi) setIcons('bold,0,,italic,24,,strike,48,,subscript,72,,superscript,96,,underline,120,,blockquote,144,,copy-rtl,168,,copy,192,,cut-rtl,216,,cut,240,,paste-rtl,264,,paste,288,,horizontalrule,312,,image,336,,indent-rtl,360,,indent,384,,outdent-rtl,408,,outdent,432,,anchor-rtl,456,,anchor,480,,link,504,,unlink,528,,bulletedlist-rtl,552,,bulletedlist,576,,numberedlist-rtl,600,,numberedlist,624,,maximize,648,,pastetext-rtl,672,,pastetext,696,,pastefromword-rtl,720,,pastefromword,744,,removeformat,768,,source-rtl,792,,source,816,,specialchar,840,,table,864,,redo-rtl,888,,redo,912,,undo-rtl,936,,undo,960,,mathjax,984,,bgcolor,1008,,textcolor,1032,,justifyblock,1056,,justifycenter,1080,,justifyleft,1104,,justifyright,1128,,preview-rtl,1152,,preview,1176,,print,1200,,codesnippet,1224,,pbckcode,2496,auto','icons_hidpi.png');else setIcons('bold,0,auto,italic,24,auto,strike,48,auto,subscript,72,auto,superscript,96,auto,underline,120,auto,blockquote,144,auto,copy-rtl,168,auto,copy,192,auto,cut-rtl,216,auto,cut,240,auto,paste-rtl,264,auto,paste,288,auto,horizontalrule,312,auto,image,336,auto,indent-rtl,360,auto,indent,384,auto,outdent-rtl,408,auto,outdent,432,auto,anchor-rtl,456,auto,anchor,480,auto,link,504,auto,unlink,528,auto,bulletedlist-rtl,552,auto,bulletedlist,576,auto,numberedlist-rtl,600,auto,numberedlist,624,auto,maximize,648,auto,pastetext-rtl,672,auto,pastetext,696,auto,pastefromword-rtl,720,auto,pastefromword,744,auto,removeformat,768,auto,source-rtl,792,auto,source,816,auto,specialchar,840,auto,table,864,auto,redo-rtl,888,auto,redo,912,auto,undo-rtl,936,auto,undo,960,auto,mathjax,984,auto,bgcolor,1008,auto,textcolor,1032,auto,justifyblock,1056,auto,justifycenter,1080,auto,justifyleft,1104,auto,justifyright,1128,auto,preview-rtl,1152,auto,preview,1176,auto,print,1200,auto,codesnippet,1224,auto,pbckcode,1248,auto','icons.png');})();CKEDITOR.lang.languages={\"en\":1};}());\ndefine(\"ckeditor\", function(){});\n\n",
    "define('bindingHandlers',['knockout', 'moment', 'jquery', 'jqueryui', 'ckeditor'], function (ko, moment, $) {\r\n    ko.bindingHandlers.selectDate = {\r\n        init: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n            $(element).datepicker({\r\n                'dateFormat': 'mm/dd/yy',\r\n                'onSelect': function () {\r\n                    value($(this).datepicker(\"getDate\"));\r\n                }\r\n            });\r\n        },\r\n        update: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n            if (value()) {\r\n                $(element).datepicker(\"setDate\", new Date(value()));\r\n                value($(element).datepicker(\"getDate\"));\r\n            }\r\n        }\r\n    };\r\n    ko.bindingHandlers.texteditor = {\r\n        init: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n\r\n            CKEDITOR.replace($(element).attr('id'));\r\n            value(CKEDITOR.instances.editor);\r\n        }\r\n    };\r\n    ko.bindingHandlers.popover = {\r\n        init: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n\r\n            $(element).popover({\r\n                content: value,\r\n            });\r\n\r\n            $(element)\r\n                .on('mouseover', function () {\r\n                    $(element).popover('show');\r\n                })\r\n                .on('mouseout', function () {\r\n                    $(element).popover('hide');\r\n                })\r\n        }\r\n    }\r\n});\n",
    "require.config({\r\n    paths: {\r\n        'text': '../lib/text',\r\n        'durandal': '../lib/durandal',\r\n        'plugins': '../lib/durandal/plugins',\r\n        'knockout': '../lib/knockout-3.1.0',\r\n        'bootstrap': '../lib/bootstrap/bootstrap.min',\r\n        'jquery': '../lib/jquery-2.1.1.min',\r\n        'jqueryui': '../lib/jquery-ui/jquery-ui.min',\r\n        'Q': '../lib/q.min',\r\n        'moment': '../lib/moment.min',\r\n        'ckeditor': '../lib/ckeditor/ckeditor',\r\n        'en': '../lib/ckeditor/lang/en',\r\n        'styles': '../lib/ckeditor/styles'\r\n    },\r\n    shim: {\r\n        'bootstrap': {\r\n            deps: ['jquery'],\r\n            exports: 'jQuery'\r\n        }\r\n    }\r\n});\r\n\r\ndefine('main',['durandal/system', 'durandal/app', 'durandal/viewLocator', 'bindingHandlers'], function (system, app, viewLocator, bindingHandlers) {\r\n    //>>excludeStart(\"build\", true)\r\n    system.debug(true);\r\n    //>>excludeEnd(\"build\")\r\n\r\n    app.title = 'Student Organizer';\r\n    app.configurePlugins({\r\n        router: true,\r\n        dialog: true\r\n    });\r\n    app.start().then(function () {\r\n        viewLocator.useConvention();\r\n        app.setRoot('viewmodels/shell');\r\n    });\r\n});\n",
    "define('constructors/card',['knockout', 'moment'], function (ko, moment) {\n    var Card = function (data) {\n        var dueDate = moment(data.dueDate);\n        dueDate = (dueDate < moment()) ? moment() : dueDate;\n\n        this.front = ko.observable(data.front || '');\n        this.back = ko.observable(data.back || '');\n        this.dueDate = ko.observable(dueDate);\n        this.repetition = data.repetition || 0;\n        this.interval = data.interval || 1;\n        this.easinessFactor = data.easinessFactor || 2.5;\n        this.deck = data.deck || '';\n        this.objectId = data.objectId || '';\n    };\n\n    return Card;\n});\n",
    "define('constructors/lecture',['knockout', 'moment'], function (ko, moment) {\r\n    var Lecture = function (data) {\r\n        this.date = moment(data.date);\r\n        this.lectureRoom = ko.observable(data.lectureRoom || '');\r\n        this.subject = ko.observable(data.subject || '');\r\n        this.objectId = ko.observable(data.objectId || '');\r\n    };\r\n\r\n    return Lecture;\r\n});\n",
    "define('constructors/day',['knockout', 'moment', 'constructors/lecture'], function (ko, moment, Lecture) {\r\n    var Day = function (data) {\r\n        var that = this;\r\n\r\n        this.date = moment(data.date);\r\n        this.lectures = (function () {\r\n            var\r\n                lectures = {},\r\n                lectureHours = data.lectureHours,\r\n                time,\r\n                i;\r\n\r\n            for (i = 0; i < lectureHours.length; i++) {\r\n                time = lectureHours[i].time;\r\n                lectures[time] = ko.observable(new Lecture({\r\n                    date: that.date\r\n                        .hours(moment(time, 'HH:mm').hours())\r\n                        .minutes(moment(time, 'HH:mm').minutes())\r\n                }));\r\n            }\r\n            return lectures;\r\n        })();\r\n    };\r\n\r\n    return Day;\r\n});\n",
    "define('constructors/event',['knockout', 'moment'], function (ko, moment) {\r\n    var Event = function (data) {\r\n        this.name = ko.observable(data.name || 'New event');\r\n        this.date = ko.observable(moment(data.date));\r\n        this.description = ko.observable(data.description || '');\r\n        this.important = ko.observable(data.important || false);\r\n        this.subject = ko.observable(data.subject || '');\r\n        this.objectId = ko.observable(data.objectId || '');\r\n    };\r\n\r\n    return Event;\r\n});\n",
    "define('constructors/task',['knockout', 'moment'], function (ko, moment) {    \n    var Task = function (data) {\n        this.title = ko.observable(data.title || 'New task');\n        this.description = ko.observable(data.description || '');\n        this.date = ko.observable(moment(data.date));\n        this.important = ko.observable(data.important || false);\n        this.subject = ko.observable(data.subject || '');\n        this.objectId = ko.observable(data.objectId || '');\n    };\n\n    return Task;\n});\n",
    "/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n(function(n){\"use strict\";if(typeof bootstrap==\"function\")bootstrap(\"promise\",n);else if(typeof exports==\"object\"&&typeof module==\"object\")module.exports=n();else if(typeof define==\"function\"&&define.amd)define('Q',n);else if(typeof ses!=\"undefined\")if(ses.ok())ses.makeQ=n;else return;else if(typeof self!=\"undefined\")self.Q=n();else throw new Error(\"This environment was not anticiapted by Q. Please file a bug.\");})(function(){\"use strict\";function s(n){return function(){return pt.apply(n,arguments)}}function gt(n){return n===Object(n)}function ni(n){return dt(n)===\"[object StopIteration]\"||n instanceof k}function rt(n,t){var r,i,u;if(a&&t.stack&&typeof n==\"object\"&&n!==null&&n.stack&&n.stack.indexOf(d)===-1){for(r=[],i=t;!!i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(n.stack);u=r.join(\"\\n\"+d+\"\\n\");n.stack=ti(u)}}function ti(n){for(var t,r=n.split(\"\\n\"),u=[],i=0;i<r.length;++i)t=r[i],ri(t)||ii(t)||!t||u.push(t);return u.join(\"\\n\")}function ii(n){return n.indexOf(\"(module.js:\")!==-1||n.indexOf(\"(node.js:\")!==-1}function ut(n){var r=/at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(n),t,i;return r?[r[1],Number(r[2])]:(t=/at ([^ ]+):(\\d+):(?:\\d+)$/.exec(n),t)?[t[1],Number(t[2])]:(i=/.*@(.+):(\\d+)$/.exec(n),i?[i[1],Number(i[2])]:void 0)}function ri(n){var t=ut(n),r,i;return t?(r=t[0],i=t[1],r===tt&&i>=yt&&i<=at):!1}function ft(){if(a)try{throw new Error;}catch(i){var n=i.stack.split(\"\\n\"),r=n[0].indexOf(\"@\")>0?n[1]:n[2],t=ut(r);return t?(tt=t[0],t[1]):void 0}}function ui(n,t,i){return function(){return typeof console!=\"undefined\"&&typeof console.warn==\"function\"&&console.warn(t+\" is deprecated, use \"+i+\" instead.\",new Error(\"\").stack),n.apply(n,arguments)}}function n(n){return n instanceof t?n:st(n)?ci(n):nt(n)}function r(){function l(t){f=t;e.source=t;v(h,function(i,r){n.nextTick(function(){t.promiseDispatch.apply(t,r)})},void 0);h=void 0;c=void 0}var h=[],c=[],f,s=b(r.prototype),e=b(t.prototype);if(e.promiseDispatch=function(t,r,u){var e=i(arguments);h?(h.push(e),r===\"when\"&&u[1]&&c.push(u[1])):n.nextTick(function(){f.promiseDispatch.apply(f,e)})},e.valueOf=function(){if(h)return e;var n=ot(f);return o(n)&&(f=n),n},e.inspect=function(){return f?f.inspect():{state:\"pending\"}},n.longStackSupport&&a)try{throw new Error;}catch(y){e.stack=y.stack.substring(y.stack.indexOf(\"\\n\")+1)}return s.promise=e,s.resolve=function(t){f||l(n(t))},s.fulfill=function(n){f||l(nt(n))},s.reject=function(n){f||l(u(n))},s.notify=function(t){f||v(c,function(i,r){n.nextTick(function(){r(t)})},void 0)},s}function e(n){if(typeof n!=\"function\")throw new TypeError(\"resolver must be a function.\");var t=r();try{n(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}return t.promise}function et(t){return e(function(i,r){for(var u=0,f=t.length;u<f;u++)n(t[u]).then(i,r)})}function t(n,i,r){var f,e;return i===void 0&&(i=function(n){return u(new Error(\"Promise does not support operation: \"+n))}),r===void 0&&(r=function(){return{state:\"unknown\"}}),f=b(t.prototype),f.promiseDispatch=function(t,r,e){var o;try{o=n[r]?n[r].apply(f,e):i.call(f,r,e)}catch(s){o=u(s)}t&&t(o)},f.inspect=r,r&&(e=r(),e.state===\"rejected\"&&(f.exception=e.reason),f.valueOf=function(){var n=r();return n.state===\"pending\"||n.state===\"rejected\"?f:n.value}),f}function f(t,i,r,u){return n(t).then(i,r,u)}function ot(n){if(o(n)){var t=n.inspect();if(t.state===\"fulfilled\")return t.value}return n}function o(n){return n instanceof t}function st(n){return gt(n)&&typeof n.then==\"function\"}function fi(n){return o(n)&&n.inspect().state===\"pending\"}function ei(n){return!o(n)||n.inspect().state===\"fulfilled\"}function oi(n){return o(n)&&n.inspect().state===\"rejected\"}function g(){c.length=0;y.length=0;l||(l=!0)}function si(n,t){l&&(y.push(n),t&&typeof t.stack!=\"undefined\"?c.push(t.stack):c.push(\"(no stack) \"+t))}function hi(n){if(l){var t=wt(y,n);t!==-1&&(y.splice(t,1),c.splice(t,1))}}function u(n){var i=t({when:function(t){return t&&hi(this),t?t(n):this}},function(){return this},function(){return{state:\"rejected\",reason:n}});return si(i,n),i}function nt(n){return t({when:function(){return n},get:function(t){return n[t]},set:function(t,i){n[t]=i},\"delete\":function(t){delete n[t]},post:function(t,i){return t===null||t===void 0?n.apply(void 0,i):n[t].apply(n,i)},apply:function(t,i){return n.apply(t,i)},keys:function(){return kt(n)}},void 0,function(){return{state:\"fulfilled\",value:n}})}function ci(t){var i=r();return n.nextTick(function(){try{t.then(i.resolve,i.reject,i.notify)}catch(n){i.reject(n)}}),i.promise}function li(i){return t({isDef:function(){}},function(n,t){return ct(i,n,t)},function(){return n(i).inspect()})}function ht(t,i,r){return n(t).spread(i,r)}function ai(t){return function(){function i(t,i){var s;if(typeof StopIteration==\"undefined\"){try{s=e[t](i)}catch(h){return u(h)}return s.done?n(s.value):f(s.value,r,o)}try{s=e[t](i)}catch(h){return ni(h)?n(h.value):u(h)}return f(s,r,o)}var e=t.apply(this,arguments),r=i.bind(i,\"next\"),o=i.bind(i,\"throw\");return r()}}function vi(t){n.done(n.async(t)())}function yi(n){throw new k(n);}function pi(n){return function(){return ht([this,h(arguments)],function(t,i){return n.apply(t,i)})}}function ct(t,i,r){return n(t).dispatch(i,r)}function h(n){return f(n,function(n){var i=0,t=r();return v(n,function(r,u,e){var s;o(u)&&(s=u.inspect()).state===\"fulfilled\"?n[e]=s.value:(++i,f(u,function(r){n[e]=r;--i==0&&t.resolve(n)},t.reject,function(n){t.notify({index:e,value:n})}))},void 0),i===0&&t.resolve(n),t.promise})}function lt(t){return f(t,function(t){return t=w(t,n),f(h(w(t,function(n){return f(n,it,it)})),function(){return t})})}function wi(t){return n(t).allSettled()}function bi(t,i){return n(t).then(void 0,void 0,i)}function ki(t,i){return n(t).nodeify(i)}var a=!1,k,d,at;try{throw new Error;}catch(vt){a=!!vt.stack}var yt=ft(),tt,it=function(){},p=function(){function t(){for(var r,i;n.next;){n=n.next;r=n.task;n.task=void 0;i=n.domain;i&&(n.domain=void 0,i.enter());try{r()}catch(e){if(f){i&&i.exit();setTimeout(t,0);i&&i.enter();throw e;}else setTimeout(function(){throw e;},0)}i&&i.exit()}u=!1}var n={task:void 0,next:null},o=n,u=!1,i=void 0,f=!1,r,e;return p=function(n){o=o.next={task:n,domain:f&&process.domain,next:null};u||(u=!0,i())},typeof process!=\"undefined\"&&process.nextTick?(f=!0,i=function(){process.nextTick(t)}):typeof setImmediate==\"function\"?i=typeof window!=\"undefined\"?setImmediate.bind(window,t):function(){setImmediate(t)}:typeof MessageChannel!=\"undefined\"?(r=new MessageChannel,r.port1.onmessage=function(){i=e;r.port1.onmessage=t;t()},e=function(){r.port2.postMessage(0)},i=function(){setTimeout(t,0);e()}):i=function(){setTimeout(t,0)},p}(),pt=Function.call;var i=s(Array.prototype.slice),v=s(Array.prototype.reduce||function(n,t){var i=0,r=this.length;if(arguments.length===1)do{if(i in this){t=this[i++];break}if(++i>=r)throw new TypeError;}while(1);for(;i<r;i++)i in this&&(t=n(t,this[i],i));return t}),wt=s(Array.prototype.indexOf||function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1}),w=s(Array.prototype.map||function(n,t){var i=this,r=[];return v(i,function(u,f,e){r.push(n.call(t,f,e,i))},void 0),r}),b=Object.create||function(n){function t(){}return t.prototype=n,new t},bt=s(Object.prototype.hasOwnProperty),kt=Object.keys||function(n){var t=[];for(var i in n)bt(n,i)&&t.push(i);return t},dt=s(Object.prototype.toString);k=typeof ReturnValue!=\"undefined\"?ReturnValue:function(n){this.value=n};d=\"From previous event:\";n.resolve=n;n.nextTick=p;n.longStackSupport=!1;typeof process==\"object\"&&process&&process.env&&process.env.Q_DEBUG&&(n.longStackSupport=!0);n.defer=r;r.prototype.makeNodeResolver=function(){var n=this;return function(t,r){t?n.reject(t):arguments.length>2?n.resolve(i(arguments,1)):n.resolve(r)}};n.Promise=e;n.promise=e;e.race=et;e.all=h;e.reject=u;e.resolve=n;n.passByCopy=function(n){return n};t.prototype.passByCopy=function(){return this};n.join=function(t,i){return n(t).join(i)};t.prototype.join=function(t){return n([this,t]).spread(function(n,t){if(n===t)return n;throw new Error(\"Can't join: not the same: \"+n+\" \"+t);})};n.race=et;t.prototype.race=function(){return this.then(n.race)};n.makePromise=t;t.prototype.toString=function(){return\"[object Promise]\"};t.prototype.then=function(t,i,f){function h(n){try{return typeof t==\"function\"?t(n):n}catch(i){return u(i)}}function c(n){if(typeof i==\"function\"){rt(n,s);try{return i(n)}catch(t){return u(t)}}return u(n)}function l(n){return typeof f==\"function\"?f(n):n}var s=this,e=r(),o=!1;return n.nextTick(function(){s.promiseDispatch(function(n){o||(o=!0,e.resolve(h(n)))},\"when\",[function(n){o||(o=!0,e.resolve(c(n)))}])}),s.promiseDispatch(void 0,\"when\",[void 0,function(t){var i,r=!1;try{i=l(t)}catch(u){if(r=!0,n.onerror)n.onerror(u);else throw u;}r||e.notify(i)}]),e.promise};n.tap=function(t,i){return n(t).tap(i)};t.prototype.tap=function(t){return t=n(t),this.then(function(n){return t.fcall(n).thenResolve(n)})};n.when=f;t.prototype.thenResolve=function(n){return this.then(function(){return n})};n.thenResolve=function(t,i){return n(t).thenResolve(i)};t.prototype.thenReject=function(n){return this.then(function(){throw n;})};n.thenReject=function(t,i){return n(t).thenReject(i)};n.nearer=ot;n.isPromise=o;n.isPromiseAlike=st;n.isPending=fi;t.prototype.isPending=function(){return this.inspect().state===\"pending\"};n.isFulfilled=ei;t.prototype.isFulfilled=function(){return this.inspect().state===\"fulfilled\"};n.isRejected=oi;t.prototype.isRejected=function(){return this.inspect().state===\"rejected\"};var c=[],y=[],l=!0;return n.resetUnhandledRejections=g,n.getUnhandledReasons=function(){return c.slice()},n.stopUnhandledRejectionTracking=function(){g();l=!1},g(),n.reject=u,n.fulfill=nt,n.master=li,n.spread=ht,t.prototype.spread=function(n,t){return this.all().then(function(t){return n.apply(void 0,t)},t)},n.async=ai,n.spawn=vi,n[\"return\"]=yi,n.promised=pi,n.dispatch=ct,t.prototype.dispatch=function(t,i){var f=this,u=r();return n.nextTick(function(){f.promiseDispatch(u.resolve,t,i)}),u.promise},n.get=function(t,i){return n(t).dispatch(\"get\",[i])},t.prototype.get=function(n){return this.dispatch(\"get\",[n])},n.set=function(t,i,r){return n(t).dispatch(\"set\",[i,r])},t.prototype.set=function(n,t){return this.dispatch(\"set\",[n,t])},n.del=n[\"delete\"]=function(t,i){return n(t).dispatch(\"delete\",[i])},t.prototype.del=t.prototype[\"delete\"]=function(n){return this.dispatch(\"delete\",[n])},n.mapply=n.post=function(t,i,r){return n(t).dispatch(\"post\",[i,r])},t.prototype.mapply=t.prototype.post=function(n,t){return this.dispatch(\"post\",[n,t])},n.send=n.mcall=n.invoke=function(t,r){return n(t).dispatch(\"post\",[r,i(arguments,2)])},t.prototype.send=t.prototype.mcall=t.prototype.invoke=function(n){return this.dispatch(\"post\",[n,i(arguments,1)])},n.fapply=function(t,i){return n(t).dispatch(\"apply\",[void 0,i])},t.prototype.fapply=function(n){return this.dispatch(\"apply\",[void 0,n])},n[\"try\"]=n.fcall=function(t){return n(t).dispatch(\"apply\",[void 0,i(arguments,1)])},t.prototype.fcall=function(){return this.dispatch(\"apply\",[void 0,i(arguments)])},n.fbind=function(t){var r=n(t),u=i(arguments,1);return function(){return r.dispatch(\"apply\",[this,u.concat(i(arguments))])}},t.prototype.fbind=function(){var n=this,t=i(arguments);return function(){return n.dispatch(\"apply\",[this,t.concat(i(arguments))])}},n.keys=function(t){return n(t).dispatch(\"keys\",[])},t.prototype.keys=function(){return this.dispatch(\"keys\",[])},n.all=h,t.prototype.all=function(){return h(this)},n.allResolved=ui(lt,\"allResolved\",\"allSettled\"),t.prototype.allResolved=function(){return lt(this)},n.allSettled=wi,t.prototype.allSettled=function(){return this.then(function(t){return h(w(t,function(t){function i(){return t.inspect()}return t=n(t),t.then(i,i)}))})},n.fail=n[\"catch\"]=function(t,i){return n(t).then(void 0,i)},t.prototype.fail=t.prototype[\"catch\"]=function(n){return this.then(void 0,n)},n.progress=bi,t.prototype.progress=function(n){return this.then(void 0,void 0,n)},n.fin=n[\"finally\"]=function(t,i){return n(t)[\"finally\"](i)},t.prototype.fin=t.prototype[\"finally\"]=function(t){return t=n(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n;})})},n.done=function(t,i,r,u){return n(t).done(i,r,u)},t.prototype.done=function(t,i,r){var u=function(t){n.nextTick(function(){if(rt(t,f),n.onerror)n.onerror(t);else throw t;})},f=t||i||r?this.then(t,i,r):this;typeof process==\"object\"&&process&&process.domain&&(u=process.domain.bind(u));f.then(void 0,u)},n.timeout=function(t,i,r){return n(t).timeout(i,r)},t.prototype.timeout=function(n,t){var i=r(),u=setTimeout(function(){t&&\"string\"!=typeof t||(t=new Error(t||\"Timed out after \"+n+\" ms\"),t.code=\"ETIMEDOUT\");i.reject(t)},n);return this.then(function(n){clearTimeout(u);i.resolve(n)},function(n){clearTimeout(u);i.reject(n)},i.notify),i.promise},n.delay=function(t,i){return i===void 0&&(i=t,t=void 0),n(t).delay(i)},t.prototype.delay=function(n){return this.then(function(t){var i=r();return setTimeout(function(){i.resolve(t)},n),i.promise})},n.nfapply=function(t,i){return n(t).nfapply(i)},t.prototype.nfapply=function(n){var t=r(),u=i(n);return u.push(t.makeNodeResolver()),this.fapply(u).fail(t.reject),t.promise},n.nfcall=function(t){var r=i(arguments,1);return n(t).nfapply(r)},t.prototype.nfcall=function(){var t=i(arguments),n=r();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},n.nfbind=n.denodeify=function(t){var u=i(arguments,1);return function(){var e=u.concat(i(arguments)),f=r();return e.push(f.makeNodeResolver()),n(t).fapply(e).fail(f.reject),f.promise}},t.prototype.nfbind=t.prototype.denodeify=function(){var t=i(arguments);return t.unshift(this),n.denodeify.apply(void 0,t)},n.nbind=function(t,u){var f=i(arguments,2);return function(){function s(){return t.apply(u,arguments)}var o=f.concat(i(arguments)),e=r();return o.push(e.makeNodeResolver()),n(s).fapply(o).fail(e.reject),e.promise}},t.prototype.nbind=function(){var t=i(arguments,0);return t.unshift(this),n.nbind.apply(void 0,t)},n.nmapply=n.npost=function(t,i,r){return n(t).npost(i,r)},t.prototype.nmapply=t.prototype.npost=function(n,t){var f=i(t||[]),u=r();return f.push(u.makeNodeResolver()),this.dispatch(\"post\",[n,f]).fail(u.reject),u.promise},n.nsend=n.nmcall=n.ninvoke=function(t,u){var e=i(arguments,2),f=r();return e.push(f.makeNodeResolver()),n(t).dispatch(\"post\",[u,e]).fail(f.reject),f.promise},t.prototype.nsend=t.prototype.nmcall=t.prototype.ninvoke=function(n){var u=i(arguments,1),t=r();return u.push(t.makeNodeResolver()),this.dispatch(\"post\",[n,u]).fail(t.reject),t.promise},n.nodeify=ki,t.prototype.nodeify=function(t){if(t)this.then(function(i){n.nextTick(function(){t(null,i)})},function(i){n.nextTick(function(){t(i)})});else return this},at=ft(),n});\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * Enables common http request scenarios.\n * @module http\n * @requires jquery\n * @requires knockout\n */\ndefine('plugins/http',['jquery', 'knockout'], function ($, ko) {\n    /**\n     * @class HTTPModule\n     * @static\n     */\n    return {\n        /**\n         * The name of the callback parameter to inject into jsonp requests by default.\n         * @property {string} callbackParam\n         * @default callback\n         */\n        callbackParam: 'callback',\n        /**\n         * Converts the data to JSON.\n         * @method toJSON\n         * @param {object} data The data to convert to JSON.\n         * @return {string} JSON.\n         */\n        toJSON: function(data) {\n            return ko.toJSON(data);\n        },\n        /**\n         * Makes an HTTP GET request.\n         * @method get\n         * @param {string} url The url to send the get request to.\n         * @param {object} [query] An optional key/value object to transform into query string parameters.\n         * @param {object} [headers] The data to add to the request header.  It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @return {Promise} A promise of the get response data.\n         */\n        get: function (url, query, headers) {\n            return $.ajax(url, { data: query, headers: ko.toJS(headers) });\n        },\n        /**\n         * Makes an JSONP request.\n         * @method jsonp\n         * @param {string} url The url to send the get request to.\n         * @param {object} [query] An optional key/value object to transform into query string parameters.\n         * @param {string} [callbackParam] The name of the callback parameter the api expects (overrides the default callbackParam).\n         * @param {object} [headers] The data to add to the request header.  It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @return {Promise} A promise of the response data.\n         */\n        jsonp: function (url, query, callbackParam, headers) {\n            if (url.indexOf('=?') == -1) {\n                callbackParam = callbackParam || this.callbackParam;\n\n                if (url.indexOf('?') == -1) {\n                    url += '?';\n                } else {\n                    url += '&';\n                }\n\n                url += callbackParam + '=?';\n            }\n\n            return $.ajax({\n                url: url,\n                dataType: 'jsonp',\n                data: query,\n                headers: ko.toJS(headers)\n            });\n        },\n        /**\n         * Makes an HTTP PUT request.\n         * @method put\n         * @param {string} url The url to send the put request to.\n         * @param {object} data The data to put. It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @param {object} [headers] The data to add to the request header.  It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @return {Promise} A promise of the response data.\n         */\n        put:function(url, data, headers) {\n            return $.ajax({\n                url: url,\n                data: this.toJSON(data),\n                type: 'PUT',\n                contentType: 'application/json',\n                dataType: 'json',\n                headers: ko.toJS(headers)\n            });\n        },\n        /**\n         * Makes an HTTP POST request.\n         * @method post\n         * @param {string} url The url to send the post request to.\n         * @param {object} data The data to post. It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @param {object} [headers] The data to add to the request header.  It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @return {Promise} A promise of the response data.\n         */\n        post: function (url, data, headers) {\n            return $.ajax({\n                url: url,\n                data: this.toJSON(data),\n                type: 'POST',\n                contentType: 'application/json',\n                dataType: 'json',\n                headers: ko.toJS(headers)\n            });\n        },\n        /**\n         * Makes an HTTP DELETE request.\n         * @method remove\n         * @param {string} url The url to send the delete request to.\n         * @param {object} [query] An optional key/value object to transform into query string parameters.\n         * @param {object} [headers] The data to add to the request header.  It will be converted to JSON. If the data contains Knockout observables, they will be converted into normal properties before serialization.\n         * @return {Promise} A promise of the get response data.\n         */\n        remove:function(url, query, headers) {\n            return $.ajax({\n                url: url,\n                data: query,\n                type: 'DELETE',\n                headers: ko.toJS(headers)\n            });\n        }\n    };\n});\n\n",
    "define('userContext',['Q', 'plugins/http', 'knockout'], function (Q, http, ko) {\r\n    var\r\n        headers = {\r\n            \"X-Parse-Application-Id\": \"zbYY8JIWUi6nTHFQx4Uayesk4aUtK0hPIvVRpcGD\",\r\n            \"X-Parse-REST-API-Key\": \"4kFIrm6AgCPTaciwt7frojWIFgiEjoCdxFWsiWMg\"\r\n        },\r\n        userName = ko.observable(''),\r\n        sessionToken = function () { return localStorage.getItem('LOCST_SESSION_TOKEN_KEY'); },\r\n        userId = function () { return localStorage.getItem('LOCST_USER_ID_KEY'); },\r\n        session = function () {\r\n            if (sessionToken() && userId()) {\r\n                userName(localStorage.getItem('LOCST_USER_NAME_KEY') || '');\r\n                return true;\r\n            } else {\r\n                userName('');\r\n                return false;\r\n            }\r\n        };\r\n\r\n    return {\r\n        session: session,\r\n        sessionToken: sessionToken,\r\n        userId: userId,\r\n        userName: userName,\r\n\r\n        signup: signup,\r\n        signin: signin,\r\n        logOut: logOut\r\n    };\r\n\r\n    function signup(username, password) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/users/',\r\n            userData = {\r\n                username: username,\r\n                password: password\r\n            };\r\n\r\n        http.post(url, userData, headers)\r\n            .done(function () {\r\n                signin(username, password).then(function () {\r\n                    dfd.resolve();\r\n                });\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n    function signin(username, password) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/login/',\r\n            userData = {\r\n                username: username,\r\n                password: password\r\n            };\r\n\r\n        http.get(url, userData, headers)\r\n            .done(function (response) {\r\n                if (response) {\r\n                    localStorage.setItem('LOCST_SESSION_TOKEN_KEY', response.sessionToken);\r\n                    localStorage.setItem('LOCST_USER_ID_KEY', response.objectId);\r\n                    localStorage.setItem('LOCST_USER_NAME_KEY', username);\r\n                    userName(username);\r\n\r\n                    dfd.resolve();\r\n                } else {\r\n                    dfd.reject();\r\n                }\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n    function logOut() {\r\n        localStorage.removeItem('LOCST_SESSION_TOKEN_KEY');\r\n        localStorage.removeItem('LOCST_USER_ID_KEY');\r\n        localStorage.removeItem('LOCST_USER_NAME_KEY');\r\n        userName('');\r\n    }\r\n});\n",
    "define('dataContext',['knockout', 'Q', 'plugins/http', 'moment', 'userContext'], function (ko, Q, http, moment, userContext) {\r\n    var\r\n        headers = {\r\n            \"X-Parse-Application-Id\": \"zbYY8JIWUi6nTHFQx4Uayesk4aUtK0hPIvVRpcGD\",\r\n            \"X-Parse-REST-API-Key\": \"4kFIrm6AgCPTaciwt7frojWIFgiEjoCdxFWsiWMg\"\r\n        },\r\n        importantDays = ko.observableArray();\r\n\r\n    return {\r\n        add: add,\r\n        update: update,\r\n        remove: remove,\r\n        removeCollection: removeCollection,\r\n        getCollection: getCollection,\r\n        getById: getById,\r\n\r\n        isDateImportant: isDateImportant,\r\n        getImportantDays: getImportantDays,\r\n        correctImportantDays: correctImportantDays,\r\n\r\n        doesSubjectExist: doesSubjectExist\r\n    }\r\n\r\n    function add(options) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/classes/' + options.className,\r\n            data = options.data || {},\r\n            acl = {};\r\n\r\n        if (userContext.userId()) {\r\n            acl[userContext.userId()] = {\r\n                \"read\": true,\r\n                \"write\": true\r\n            };\r\n            data.ACL = acl;\r\n        }\r\n\r\n        http.post(url, data, headers)\r\n            .done(function (response) {\r\n                dfd.resolve(response.objectId, response.createdAt);\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n    function update(options) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/classes/' + options.className + '/' + options.id,\r\n            updatedData = options.data;\r\n\r\n        http.put(url, updatedData, headers)\r\n            .done(function () {\r\n                dfd.resolve();\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n    function remove(options) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/classes/' + options.className + '/' + options.id;\r\n\r\n        http.remove(url, {}, headers)\r\n            .done(function () {\r\n                dfd.resolve();\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n    function removeCollection(options) {\r\n        var itemsToRemove = options.items || [];\r\n\r\n        if (options.queryConstraints) {\r\n            return getCollection(options).then(function (recievedItems) {\r\n                itemsToRemove = recievedItems;\r\n                return removeItems();\r\n            });\r\n        } else {\r\n            return removeItems();\r\n        }\r\n\r\n        function removeItems() {\r\n            return itemsToRemove.reduce(function (removeItem, item) {\r\n                return removeItem.then(function () {\r\n                    return remove({ className: options.className, id: item.objectId });\r\n                });\r\n            }, Q.resolve());\r\n        }\r\n    }\r\n    function getCollection(options) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/classes/' + options.className + '/',\r\n            query = options.queryConstraints ? { \"where\": JSON.stringify(options.queryConstraints) } : {};\r\n\r\n        if (userContext.sessionToken()) {\r\n            headers[\"X-Parse-Session-Token\"] = userContext.sessionToken();\r\n        }\r\n\r\n        http.get(url, query, headers)\r\n            .done(function (response) {\r\n                if (response) {\r\n                    dfd.resolve(response.results || []);\r\n                } else {\r\n                    dfd.reject();\r\n                }\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n    function getById(options) {\r\n        var\r\n            dfd = Q.defer(),\r\n            url = 'https://api.parse.com/1/classes/' + options.className + '/' + options.id;\r\n\r\n        if (userContext.sessionToken()) {\r\n            headers[\"X-Parse-Session-Token\"] = userContext.sessionToken();\r\n        }\r\n\r\n        http.get(url, {}, headers)\r\n            .done(function (response) {\r\n                if (response) {\r\n                    dfd.resolve(response);\r\n                } else {\r\n                    dfd.reject();\r\n                }\r\n            })\r\n            .fail(function () {\r\n                dfd.reject();\r\n            });\r\n\r\n        return dfd.promise;\r\n    }\r\n\r\n    function isDateImportant(date) {\r\n        return getCollection({\r\n            className: 'Task',\r\n            queryConstraints: {\r\n                important: true,\r\n                date: {\r\n                    $gte: date,\r\n                    $lt: moment(date).add(1, 'd')\r\n                }\r\n            }\r\n        }).then(function (importantTasks) {\r\n            if (!importantTasks.length) {\r\n                return getCollection({\r\n                    className: 'Event',\r\n                    queryConstraints: {\r\n                        important: true,\r\n                        date: {\r\n                            $gte: date,\r\n                            $lt: moment(date).add(1, 'd')\r\n                        }\r\n                    }\r\n                }).then(function (importantEvents) {\r\n                    if (!importantEvents.length) {\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    function getImportantDays(newDate) {\r\n        var\r\n            firstDay = moment([newDate.year(), newDate.month(), 1]),\r\n            lastDay = moment([newDate.year(), 0, 31]).month(newDate.month()),\r\n            days = [],\r\n            eventDate,\r\n            i;\r\n\r\n        return getCollection({\r\n            className: 'Task',\r\n            queryConstraints: {\r\n                important: true,\r\n                date: {\r\n                    \"$gte\": firstDay,\r\n                    \"$lte\": lastDay\r\n                }\r\n            }\r\n        }).then(function (importantTasks) {\r\n            for (i = 0; i < importantTasks.length; i++) {\r\n                if (days.indexOf(importantTasks[i].date) == -1) {\r\n                    days.push(importantTasks[i].date);\r\n                }\r\n            }\r\n            return getCollection({\r\n                className: 'Event',\r\n                queryConstraints: {\r\n                    important: true,\r\n                    date: {\r\n                        \"$gte\": firstDay,\r\n                        \"$lt\": moment(lastDay).add(1, 'd')\r\n                    }\r\n                }\r\n            })\r\n        }).then(function (importantEvents) {\r\n            for (i = 0; i < importantEvents.length; i++) {\r\n                eventDate = moment(importantEvents[i].date).hours(0).minutes(0).seconds(0).milliseconds(0).toJSON();\r\n                if (days.indexOf(eventDate) == -1) {\r\n                    days.push(eventDate);\r\n                }\r\n            }\r\n            importantDays(days);\r\n            return importantDays;\r\n        });\r\n    }\r\n    function correctImportantDays(itemImportant, date) {\r\n        date = moment(date).hours(0).minutes(0).seconds(0).milliseconds(0).toJSON();\r\n        if (itemImportant) {\r\n            if (importantDays.indexOf(date) == -1) {\r\n                importantDays.push(date);\r\n            }\r\n        } else {\r\n            isDateImportant(date)\r\n                .then(function (response) {\r\n                    if (!response) {\r\n                        importantDays.remove(date);\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    function doesSubjectExist(subjectName) {\r\n        return getCollection({ className: 'Subject' })\r\n            .then(function (recievedSubjects) {\r\n                for (var i = 0; i < recievedSubjects.length; i++) {\r\n                    if (recievedSubjects[i].name == subjectName) {\r\n                        return true;\r\n                    }\r\n                }\r\n            });\r\n    }\r\n});\n",
    "define('viewmodels/404',[],function () {\n    return {\n    };\n});\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * The dialog module enables the display of message boxes, custom modal dialogs and other overlays or slide-out UI abstractions. Dialogs are constructed by the composition system which interacts with a user defined dialog context. The dialog module enforced the activator lifecycle.\n * @module dialog\n * @requires system\n * @requires app\n * @requires composition\n * @requires activator\n * @requires viewEngine\n * @requires jquery\n * @requires knockout\n */\ndefine('plugins/dialog',['durandal/system', 'durandal/app', 'durandal/composition', 'durandal/activator', 'durandal/viewEngine', 'jquery', 'knockout'], function (system, app, composition, activator, viewEngine, $, ko) {\n    var contexts = {},\n        dialogCount = ko.observable(0),\n        dialog;\n\n    /**\n     * Models a message box's message, title and options.\n     * @class MessageBox\n     */\n    var MessageBox = function (message, title, options, autoclose, settings) {\n        this.message = message;\n        this.title = title || MessageBox.defaultTitle;\n        this.options = options || MessageBox.defaultOptions;\n        this.autoclose = autoclose || false;\n        this.settings = $.extend({}, MessageBox.defaultSettings, settings);\n    };\n\n    /**\n     * Selects an option and closes the message box, returning the selected option through the dialog system's promise.\n     * @method selectOption\n     * @param {string} dialogResult The result to select.\n     */\n    MessageBox.prototype.selectOption = function (dialogResult) {\n        dialog.close(this, dialogResult);\n    };\n\n    /**\n     * Provides the view to the composition system.\n     * @method getView\n     * @return {DOMElement} The view of the message box.\n     */\n    MessageBox.prototype.getView = function () {\n        return viewEngine.processMarkup(MessageBox.defaultViewMarkup);\n    };\n\n    /**\n     * Configures a custom view to use when displaying message boxes.\n     * @method setViewUrl\n     * @param {string} viewUrl The view url relative to the base url which the view locator will use to find the message box's view.\n     * @static\n     */\n    MessageBox.setViewUrl = function (viewUrl) {\n        delete MessageBox.prototype.getView;\n        MessageBox.prototype.viewUrl = viewUrl;\n    };\n\n    /**\n     * The title to be used for the message box if one is not provided.\n     * @property {string} defaultTitle\n     * @default Application\n     * @static\n     */\n    MessageBox.defaultTitle = app.title || 'Application';\n\n    /**\n     * The options to display in the message box if none are specified.\n     * @property {string[]} defaultOptions\n     * @default ['Ok']\n     * @static\n     */\n    MessageBox.defaultOptions = ['Ok'];\n\n    \n    MessageBox.defaultSettings = { buttonClass: \"btn btn-default\", primaryButtonClass: \"btn-primary autofocus\", secondaryButtonClass: \"\", \"class\": \"modal-content messageBox\", style: null };\n\n    /**\n    * Sets the classes and styles used throughout the message box markup.\n    * @method setDefaults\n    * @param {object} settings A settings object containing the following optional properties: buttonClass, primaryButtonClass, secondaryButtonClass, class, style.\n    */\n    MessageBox.setDefaults = function (settings) {\n        $.extend(MessageBox.defaultSettings, settings);\n    };\n\n    MessageBox.prototype.getButtonClass = function ($index) {\n        var c = \"\";\n        if (this.settings) {\n            if (this.settings.buttonClass) {\n                c = this.settings.buttonClass;\n            }\n            if ($index() === 0 && this.settings.primaryButtonClass) {\n                if (c.length > 0) {\n                    c += \" \";\n                }\n                c += this.settings.primaryButtonClass;\n            }\n            if ($index() > 0 && this.settings.secondaryButtonClass) {\n                if (c.length > 0) {\n                    c += \" \";\n                }\n                c += this.settings.secondaryButtonClass;\n            }\n        }\n        return c;\n    };\n\n    MessageBox.prototype.getClass = function () {\n        if (this.settings) {\n            return this.settings[\"class\"];\n        }\n        return \"messageBox\";\n    };\n\n    MessageBox.prototype.getStyle = function () {\n        if (this.settings) {\n            return this.settings.style;\n        }\n        return null;\n    };\n\n    MessageBox.prototype.getButtonText = function (stringOrObject) {\n        var t = $.type(stringOrObject);\n        if (t === \"string\") {\n            return stringOrObject;\n        }\n        else if (t === \"object\") {\n            if ($.type(stringOrObject.text) === \"string\") {\n                return stringOrObject.text;\n            } else {\n                system.error('The object for a MessageBox button does not have a text property that is a string.');\n                return null;\n            }\n        }\n        system.error('Object for a MessageBox button is not a string or object but ' + t + '.');\n        return null;\n    };\n\n    MessageBox.prototype.getButtonValue = function (stringOrObject) {\n        var t = $.type(stringOrObject);\n        if (t === \"string\") {\n            return stringOrObject;\n        }\n        else if (t === \"object\") {\n            if ($.type(stringOrObject.text) === \"undefined\") {\n                system.error('The object for a MessageBox button does not have a value property defined.');\n                return null;\n            } else {\n                return stringOrObject.value;\n            }\n        }\n        system.error('Object for a MessageBox button is not a string or object but ' + t + '.');\n        return null;\n    };\n\n    /**\n     * The markup for the message box's view.\n     * @property {string} defaultViewMarkup\n     * @static\n     */\n    MessageBox.defaultViewMarkup = [\n        '<div data-view=\"plugins/messageBox\" data-bind=\"css: getClass(), style: getStyle()\">',\n            '<div class=\"modal-header\">',\n                '<h3 data-bind=\"html: title\"></h3>',\n            '</div>',\n            '<div class=\"modal-body\">',\n                '<p class=\"message\" data-bind=\"html: message\"></p>',\n            '</div>',\n            '<div class=\"modal-footer\">',\n                '<!-- ko foreach: options -->',\n                '<button data-bind=\"click: function () { $parent.selectOption($parent.getButtonValue($data)); }, text: $parent.getButtonText($data), css: $parent.getButtonClass($index)\"></button>',\n                '<!-- /ko -->',\n                '<div style=\"clear:both;\"></div>',\n            '</div>',\n        '</div>'\n    ].join('\\n');\n\n    function ensureDialogInstance(objOrModuleId) {\n        return system.defer(function (dfd) {\n            if (system.isString(objOrModuleId)) {\n                system.acquire(objOrModuleId).then(function (module) {\n                    dfd.resolve(system.resolveObject(module));\n                }).fail(function (err) {\n                    system.error('Failed to load dialog module (' + objOrModuleId + '). Details: ' + err.message);\n                });\n            } else {\n                dfd.resolve(objOrModuleId);\n            }\n        }).promise();\n    }\n\n    /**\n     * @class DialogModule\n     * @static\n     */\n    dialog = {\n        /**\n         * The constructor function used to create message boxes.\n         * @property {MessageBox} MessageBox\n         */\n        MessageBox: MessageBox,\n        /**\n         * The css zIndex that the last dialog was displayed at.\n         * @property {number} currentZIndex\n         */\n        currentZIndex: 1050,\n        /**\n         * Gets the next css zIndex at which a dialog should be displayed.\n         * @method getNextZIndex\n         * @return {number} The next usable zIndex.\n         */\n        getNextZIndex: function () {\n            return ++this.currentZIndex;\n        },\n        /**\n         * Determines whether or not there are any dialogs open.\n         * @method isOpen\n         * @return {boolean} True if a dialog is open. false otherwise.\n         */\n        isOpen: ko.computed(function() {\n            return dialogCount() > 0;\n        }),\n        /**\n         * Gets the dialog context by name or returns the default context if no name is specified.\n         * @method getContext\n         * @param {string} [name] The name of the context to retrieve.\n         * @return {DialogContext} True context.\n         */\n        getContext: function (name) {\n            return contexts[name || 'default'];\n        },\n        /**\n         * Adds (or replaces) a dialog context.\n         * @method addContext\n         * @param {string} name The name of the context to add.\n         * @param {DialogContext} dialogContext The context to add.\n         */\n        addContext: function (name, dialogContext) {\n            dialogContext.name = name;\n            contexts[name] = dialogContext;\n\n            var helperName = 'show' + name.substr(0, 1).toUpperCase() + name.substr(1);\n            this[helperName] = function (obj, activationData) {\n                return this.show(obj, activationData, name);\n            };\n        },\n        createCompositionSettings: function (obj, dialogContext) {\n            var settings = {\n                model: obj,\n                activate: false,\n                transition: false\n            };\n\n            if (dialogContext.binding) {\n                settings.binding = dialogContext.binding;\n            }\n\n            if (dialogContext.attached) {\n                settings.attached = dialogContext.attached;\n            }\n\n            if (dialogContext.compositionComplete) {\n                settings.compositionComplete = dialogContext.compositionComplete;\n            }\n\n            return settings;\n        },\n        /**\n         * Gets the dialog model that is associated with the specified object.\n         * @method getDialog\n         * @param {object} obj The object for whom to retrieve the dialog.\n         * @return {Dialog} The dialog model.\n         */\n        getDialog: function (obj) {\n            if (obj) {\n                return obj.__dialog__;\n            }\n\n            return undefined;\n        },\n        /**\n         * Closes the dialog associated with the specified object.\n         * @method close\n         * @param {object} obj The object whose dialog should be closed.\n         * @param {object} results* The results to return back to the dialog caller after closing.\n         */\n        close: function (obj) {\n            var theDialog = this.getDialog(obj);\n            if (theDialog) {\n                var rest = Array.prototype.slice.call(arguments, 1);\n                theDialog.close.apply(theDialog, rest);\n            }\n        },\n        /**\n         * Shows a dialog.\n         * @method show\n         * @param {object|string} obj The object (or moduleId) to display as a dialog.\n         * @param {object} [activationData] The data that should be passed to the object upon activation.\n         * @param {string} [context] The name of the dialog context to use. Uses the default context if none is specified.\n         * @return {Promise} A promise that resolves when the dialog is closed and returns any data passed at the time of closing.\n         */\n        show: function (obj, activationData, context) {\n            var that = this;\n            var dialogContext = contexts[context || 'default'];\n\n            return system.defer(function (dfd) {\n                ensureDialogInstance(obj).then(function (instance) {\n                    var dialogActivator = activator.create();\n\n                    dialogActivator.activateItem(instance, activationData).then(function (success) {\n                        if (success) {\n                            var theDialog = instance.__dialog__ = {\n                                owner: instance,\n                                context: dialogContext,\n                                activator: dialogActivator,\n                                close: function () {\n                                    var args = arguments;\n                                    dialogActivator.deactivateItem(instance, true).then(function (closeSuccess) {\n                                        if (closeSuccess) {\n                                            dialogCount(dialogCount() - 1);\n                                            dialogContext.removeHost(theDialog);\n                                            delete instance.__dialog__;\n\n                                            if (args.length === 0) {\n                                                dfd.resolve();\n                                            } else if (args.length === 1) {\n                                                dfd.resolve(args[0]);\n                                            } else {\n                                                dfd.resolve.apply(dfd, args);\n                                            }\n                                        }\n                                    });\n                                }\n                            };\n\n                            theDialog.settings = that.createCompositionSettings(instance, dialogContext);\n                            dialogContext.addHost(theDialog);\n\n                            dialogCount(dialogCount() + 1);\n                            composition.compose(theDialog.host, theDialog.settings);\n                        } else {\n                            dfd.resolve(false);\n                        }\n                    });\n                });\n            }).promise();\n        },\n        /**\n         * Shows a message box.\n         * @method showMessage\n         * @param {string} message The message to display in the dialog.\n         * @param {string} [title] The title message.\n         * @param {string[]} [options] The options to provide to the user.\n         * @param {boolean} [autoclose] Automatically close the the message box when clicking outside?\n         * @param {Object} [settings] Custom settings for this instance of the messsage box, used to change classes and styles.\n         * @return {Promise} A promise that resolves when the message box is closed and returns the selected option.\n         */\n        showMessage: function (message, title, options, autoclose, settings) {\n            if (system.isString(this.MessageBox)) {\n                return dialog.show(this.MessageBox, [\n                    message,\n                    title || MessageBox.defaultTitle,\n                    options || MessageBox.defaultOptions,\n                    autoclose || false,\n                    settings || {}\n                ]);\n            }\n\n            return dialog.show(new this.MessageBox(message, title, options, autoclose, settings));\n        },\n        /**\n         * Installs this module into Durandal; called by the framework. Adds `app.showDialog` and `app.showMessage` convenience methods.\n         * @method install\n         * @param {object} [config] Add a `messageBox` property to supply a custom message box constructor. Add a `messageBoxView` property to supply custom view markup for the built-in message box. You can also use messageBoxViewUrl to specify the view url.\n         */\n        install: function (config) {\n            app.showDialog = function (obj, activationData, context) {\n                return dialog.show(obj, activationData, context);\n            };\n\n            app.closeDialog = function () {\n                return dialog.close.apply(dialog, arguments);\n            };\n\n            app.showMessage = function (message, title, options, autoclose, settings) {\n                return dialog.showMessage(message, title, options, autoclose, settings);\n            };\n\n            if (config.messageBox) {\n                dialog.MessageBox = config.messageBox;\n            }\n\n            if (config.messageBoxView) {\n                dialog.MessageBox.prototype.getView = function () {\n                    return viewEngine.processMarkup(config.messageBoxView);\n                };\n            }\n\n            if (config.messageBoxViewUrl) {\n                dialog.MessageBox.setViewUrl(config.messageBoxViewUrl);\n            }\n        }\n    };\n\n    /**\n     * @class DialogContext\n     */\n    dialog.addContext('default', {\n        blockoutOpacity: 0.2,\n        removeDelay: 200,\n        /**\n         * In this function, you are expected to add a DOM element to the tree which will serve as the \"host\" for the modal's composed view. You must add a property called host to the modalWindow object which references the dom element. It is this host which is passed to the composition module.\n         * @method addHost\n         * @param {Dialog} theDialog The dialog model.\n         */\n        addHost: function (theDialog) {\n            var body = $('body');\n            var blockout = $('<div class=\"modalBlockout\"></div>')\n                .css({ 'z-index': dialog.getNextZIndex(), 'opacity': this.blockoutOpacity })\n                .appendTo(body);\n\n            var host = $('<div class=\"modalHost\"></div>')\n                .css({ 'z-index': dialog.getNextZIndex() })\n                .appendTo(body);\n\n            theDialog.host = host.get(0);\n            theDialog.blockout = blockout.get(0);\n\n            if (!dialog.isOpen()) {\n                theDialog.oldBodyMarginRight = body.css(\"margin-right\");\n                theDialog.oldInlineMarginRight = body.get(0).style.marginRight;\n\n                var html = $(\"html\");\n                var oldBodyOuterWidth = body.outerWidth(true);\n                var oldScrollTop = html.scrollTop();\n                $(\"html\").css(\"overflow-y\", \"hidden\");\n                var newBodyOuterWidth = $(\"body\").outerWidth(true);\n                body.css(\"margin-right\", (newBodyOuterWidth - oldBodyOuterWidth + parseInt(theDialog.oldBodyMarginRight, 10)) + \"px\");\n                html.scrollTop(oldScrollTop); // necessary for Firefox\n            }\n        },\n        /**\n         * This function is expected to remove any DOM machinery associated with the specified dialog and do any other necessary cleanup.\n         * @method removeHost\n         * @param {Dialog} theDialog The dialog model.\n         */\n        removeHost: function (theDialog) {\n            $(theDialog.host).css('opacity', 0);\n            $(theDialog.blockout).css('opacity', 0);\n\n            setTimeout(function () {\n                ko.removeNode(theDialog.host);\n                ko.removeNode(theDialog.blockout);\n            }, this.removeDelay);\n\n            if (!dialog.isOpen()) {\n                var html = $(\"html\");\n                var oldScrollTop = html.scrollTop(); // necessary for Firefox.\n                html.css(\"overflow-y\", \"\").scrollTop(oldScrollTop);\n\n                if (theDialog.oldInlineMarginRight) {\n                    $(\"body\").css(\"margin-right\", theDialog.oldBodyMarginRight);\n                } else {\n                    $(\"body\").css(\"margin-right\", '');\n                }\n            }\n        },\n        attached: function (view) {\n            //To prevent flickering in IE8, we set visibility to hidden first, and later restore it\n            $(view).css(\"visibility\", \"hidden\");\n        },\n        /**\n         * This function is called after the modal is fully composed into the DOM, allowing your implementation to do any final modifications, such as positioning or animation. You can obtain the original dialog object by using `getDialog` on context.model.\n         * @method compositionComplete\n         * @param {DOMElement} child The dialog view.\n         * @param {DOMElement} parent The parent view.\n         * @param {object} context The composition context.\n         */\n        compositionComplete: function (child, parent, context) {\n            var theDialog = dialog.getDialog(context.model);\n            var $child = $(child);\n            var loadables = $child.find(\"img\").filter(function () {\n                //Remove images with known width and height\n                var $this = $(this);\n                return !(this.style.width && this.style.height) && !($this.attr(\"width\") && $this.attr(\"height\"));\n            });\n\n            $child.data(\"predefinedWidth\", $child.get(0).style.width);\n\n            var setDialogPosition = function (childView, objDialog) {\n                //Setting a short timeout is need in IE8, otherwise we could do this straight away\n                setTimeout(function () {\n                    var $childView = $(childView);\n\n                    objDialog.context.reposition(childView);\n\n                    $(objDialog.host).css('opacity', 1);\n                    $childView.css(\"visibility\", \"visible\");\n\n                    $childView.find('.autofocus').first().focus();\n                }, 1);\n            };\n\n            setDialogPosition(child, theDialog);\n            loadables.load(function () {\n                setDialogPosition(child, theDialog);\n            });\n\n            if ($child.hasClass('autoclose') || context.model.autoclose) {\n                $(theDialog.blockout).click(function () {\n                    theDialog.close();\n                });\n            }\n        },\n        /**\n         * This function is called to reposition the model view.\n         * @method reposition\n         * @param {DOMElement} view The dialog view.\n         */\n        reposition: function (view) {\n            var $view = $(view),\n                $window = $(window);\n\n            //We will clear and then set width for dialogs without width set \n            if (!$view.data(\"predefinedWidth\")) {\n                $view.css({ width: '' }); //Reset width\n            }\n            var width = $view.outerWidth(false),\n                height = $view.outerHeight(false),\n                windowHeight = $window.height() - 10, //leave at least 10 pixels free\n                windowWidth = $window.width() - 10, //leave at least 10 pixels free\n                constrainedHeight = Math.min(height, windowHeight),\n                constrainedWidth = Math.min(width, windowWidth);\n\n            $view.css({\n                'margin-top': (-constrainedHeight / 2).toString() + 'px',\n                'margin-left': (-constrainedWidth / 2).toString() + 'px'\n            });\n\n            if (height > windowHeight) {\n                $view.css(\"overflow-y\", \"auto\").outerHeight(windowHeight);\n            } else {\n                $view.css({\n                    \"overflow-y\": \"\",\n                    \"height\": \"\"\n                });\n            }\n\n            if (width > windowWidth) {\n                $view.css(\"overflow-x\", \"auto\").outerWidth(windowWidth);\n            } else {\n                $view.css(\"overflow-x\", \"\");\n\n                if (!$view.data(\"predefinedWidth\")) {\n                    //Ensure the correct width after margin-left has been set\n                    $view.outerWidth(constrainedWidth);\n                } else {\n                    $view.css(\"width\", $view.data(\"predefinedWidth\"));\n                }\n            }\n        }\n    });\n\n    return dialog;\n});\n\n",
    "define('viewmodels/modals/editEvent',['plugins/dialog', 'knockout', 'moment'], function (dialog, ko, moment) {\r\n    var EditEventModal = function (event) {\r\n        this.name = ko.observable(event.name());\r\n        this.description = ko.observable(event.description());\r\n        this.date = ko.observable(event.date());\r\n        this.hours = ko.observable(moment(event.date()).format('HH'));\r\n        this.minutes = ko.observable(moment(event.date()).format('mm'));\r\n        this.important = ko.observable(event.important());\r\n        this.subject = ko.observable(event.subject());\r\n    };\r\n\r\n    EditEventModal.prototype.cancel = function () {\r\n        dialog.close(this);\r\n    };\r\n    EditEventModal.prototype.save = function () {\r\n        dialog.close(this, {\r\n            name: this.name(),\r\n            description: this.description(),\r\n            date: moment(this.date())\r\n                .hours(parseInt(this.hours(), 10))\r\n                .minutes(parseInt(this.minutes(), 10)),\r\n            important: this.important(),\r\n            subject: this.subject()\r\n        });\r\n    };\r\n    EditEventModal.show = function (event) {\r\n        return dialog.show(new EditEventModal(event));\r\n    };\r\n\r\n    return EditEventModal;\r\n});\n",
    "define('viewmodels/events',['knockout', 'moment', 'dataContext', 'constructors/event', 'viewmodels/modals/editEvent'], function (ko, moment, dataContext, Event, EditEventModal) {\r\n    var\r\n        events = ko.observableArray(),\r\n        sortedEvents = ko.computed(function () {\r\n            events.sort(function (first, second) {\r\n                return first.date() - second.date();\r\n            });\r\n            return events();\r\n        }),\r\n        subject = ko.observable(),\r\n        selectedDate = ko.observable(),\r\n        dateSubscr,\r\n        isBusy = ko.observable(false);\r\n\r\n    return {\r\n        subject: subject,\r\n        sortedEvents: sortedEvents,\r\n        isBusy: isBusy,\r\n\r\n        editEvent: editEvent,\r\n        deleteEvent: deleteEvent,\r\n\r\n        activate: activate,\r\n        detached: detached\r\n    };\r\n\r\n    function activate(activationData) {\r\n        var queryConstraints = {};\r\n\r\n        if (activationData.subject) {\r\n            subject(activationData.subject);\r\n            selectedDate(moment({ h: 0, m: 0, s: 0, ms: 0 }));\r\n            queryConstraints.subject = subject();\r\n        }\r\n        if (activationData.date) {\r\n            subject('');\r\n            selectedDate(activationData.date());\r\n            queryConstraints.date = {\r\n                $gte: selectedDate(),\r\n                $lt: moment(selectedDate()).add(1, 'd')\r\n            };\r\n\r\n            dateSubscr = activationData.date.subscribe(function (newDate) {\r\n                isBusy(true);\r\n\r\n                selectedDate(newDate);\r\n                getEvents({\r\n                    date: {\r\n                        $gte: newDate,\r\n                        $lt: moment(newDate).add(1, 'd')\r\n                    }\r\n                }).then(function () {\r\n                    isBusy(false);\r\n                });\r\n            });\r\n        }\r\n\r\n        return getEvents(queryConstraints);\r\n    }\r\n    function detached() {\r\n        if (dateSubscr) {\r\n            dateSubscr.dispose();\r\n        }\r\n        selectedDate(undefined);\r\n        subject(undefined);\r\n    }\r\n\r\n    function editEvent(oldEvent) {\r\n        if (!oldEvent.objectId) {\r\n            EditEventModal.show(new Event({\r\n                date: selectedDate(),\r\n                subject: subject()\r\n            })).then(function (createdEvent) {\r\n                if (createdEvent) {\r\n                    isBusy(true);\r\n\r\n                    addEvent(createdEvent).then(function () {\r\n                        isBusy(false);\r\n                    });\r\n                }                \r\n            });\r\n        } else {\r\n            EditEventModal.show(oldEvent)\r\n                .then(function (updatedEvent) {\r\n                    if (updatedEvent) {\r\n                        isBusy(true);\r\n\r\n                        updateEvent(updatedEvent, oldEvent).then(function () {\r\n                            isBusy(false);\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n    }\r\n    function deleteEvent(event) {\r\n        isBusy(true);\r\n\r\n        return dataContext.remove({\r\n            className: 'Event',\r\n            id: event.objectId()\r\n        }).then(function () {\r\n            events.remove(event);\r\n\r\n            if (event.important()) {\r\n                dataContext.correctImportantDays(false, event.date());\r\n            }\r\n            isBusy(false);\r\n        })\r\n    }\r\n\r\n    function getEvents(queryConstraints) {\r\n        return dataContext.getCollection({\r\n            className: 'Event',\r\n            queryConstraints: queryConstraints\r\n        }).then(function (recivedEvents) {\r\n            var observableEvents = [],\r\n                number = recivedEvents.length,\r\n                i;\r\n            for (i = 0; i < number; i++) {\r\n                observableEvents.push(new Event(recivedEvents[i]));\r\n            }\r\n            observableEvents.sort(function (first, second) {\r\n                return first.date() - second.date();\r\n            });\r\n            events(observableEvents);\r\n        });\r\n    }\r\n    function addEvent(createdEvent) {\r\n        return dataContext.add({\r\n            className: 'Event',\r\n            data: createdEvent\r\n        }).then(function (objectId) {\r\n            createdEvent.objectId = objectId;\r\n            events.push(new Event(createdEvent));\r\n\r\n            if (!subject() && createdEvent.important) {\r\n                dataContext.correctImportantDays(true, createdEvent.date);\r\n            }\r\n            return objectId;\r\n        })\r\n    }\r\n    function updateEvent(updatedEvent, oldEvent) {\r\n        return dataContext.update({\r\n            className: 'Event',\r\n            id: oldEvent.objectId(),\r\n            data: updatedEvent\r\n        }).then(function () {\r\n\r\n            if (!subject()) {\r\n                if (updatedEvent.date.format('MM/DD/YYYY') !== oldEvent.date().format('MM/DD/YYYY')) {\r\n                    dataContext.correctImportantDays(false, oldEvent.date());\r\n                    dataContext.correctImportantDays(updatedEvent.important, updatedEvent.date);\r\n\r\n                    events.remove(oldEvent);\r\n                } else\r\n                    if (updatedEvent.important != oldEvent.important()) {\r\n                        dataContext.correctImportantDays(updatedEvent.important, updatedEvent.date);\r\n                    }\r\n            }\r\n\r\n            for (var data in updatedEvent) {\r\n                oldEvent[data](updatedEvent[data]);\r\n            }\r\n        });\r\n    }\r\n});\n",
    "define('viewmodels/modals/daySchedule',['durandal/app', 'plugins/dialog'], function (app, dialog) {\r\n    var DayScheduleModal = function (day, lectureHours) {\r\n        this.date = day.date;\r\n        this.lectures = day.lectures;\r\n        this.lectureHours = lectureHours;\r\n    };\r\n    DayScheduleModal.prototype.clear = function (lecture) {\r\n        lecture.subject('');\r\n        lecture.lectureRoom('');\r\n    };\r\n    DayScheduleModal.prototype.close = function () {\r\n        dialog.close(this, false);\r\n    };\r\n    DayScheduleModal.prototype.save = function () {\r\n        dialog.close(this, true);\r\n    };\r\n    DayScheduleModal.show = function (day, lectureHours) {\r\n        return dialog.show(new DayScheduleModal(day, lectureHours));\r\n    };\r\n\r\n    return DayScheduleModal;\r\n});\n",
    "define('viewmodels/modals/editTask',['plugins/dialog', 'knockout', 'moment'], function (dialog, ko, moment) {\r\n    var EditTaskModal = function (task) {\r\n        this.title = ko.observable(task.title());\r\n        this.description = ko.observable(task.description());\r\n        this.date = ko.observable(task.date());\r\n        this.important = ko.observable(task.important());\r\n        this.subject = ko.observable(task.subject());\r\n    };\r\n\r\n    EditTaskModal.prototype.cancel = function () {\r\n        dialog.close(this);\r\n    };\r\n    EditTaskModal.prototype.save = function () {\r\n        dialog.close(this, {\r\n            title: this.title(),\r\n            description: this.description(),\r\n            date: moment(this.date()),\r\n            important: this.important(),\r\n            subject: this.subject()\r\n        });\r\n    };\r\n    EditTaskModal.show = function (task) {\r\n        return dialog.show(new EditTaskModal(task));\r\n    };\r\n\r\n    return EditTaskModal;\r\n});\n",
    "define('viewmodels/modals/newNotes',['plugins/dialog', 'knockout'], function (dialog, ko) {\n    var NewNotesModal = function () {\n        this.title = ko.observable();\n    };\n\n    NewNotesModal.prototype.ok = function () {\n        dialog.close(this, this.title());\n    };\n    NewNotesModal.prototype.cancel = function () {\n        dialog.close(this);\n    };\n    NewNotesModal.show = function () {\n        return dialog.show(new NewNotesModal());\n    };\n\n    return NewNotesModal;\n});\n",
    "define('viewmodels/organizer',['knockout', 'moment', 'dataContext', 'userContext'], function (ko, moment, dataContext, userContext) {\r\n    var\r\n        selectedDate = ko.observable(),\r\n        calendarWeeks = ko.observableArray(),\r\n        lectures = ko.observableArray(),\r\n        isToday = function (day) {\r\n            var today = moment();\r\n            return day == today.date() &&\r\n                selectedDate().month() == today.month() &&\r\n                selectedDate().year() == today.year();\r\n        },\r\n        isSelected = function (day) {\r\n            return day == selectedDate().date();\r\n        },\r\n        isImportant = function (day) {\r\n            var len = importantDays().length,\r\n                i;\r\n            for (i = 0; i < len; i++) {\r\n                if (moment(importantDays()[i]).date() == day) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        },\r\n        importantDays,\r\n        isBusy = ko.observable(false),\r\n        isCalendarRefreshing = ko.observable(false);\r\n\r\n    return {\r\n        selectedDate: selectedDate,\r\n        calendarWeeks: calendarWeeks,\r\n        lectures: lectures,\r\n        isToday: isToday,\r\n        isSelected: isSelected,\r\n        isImportant: isImportant,\r\n        importantDays: importantDays,\r\n        isBusy: isBusy,\r\n        isCalendarRefreshing: isCalendarRefreshing,\r\n\r\n        changeDay: changeDay,\r\n        changeMonth: changeMonth,\r\n\r\n        canActivate: function () {\r\n            return userContext.session() ? true : { redirect: 'signin' };\r\n        },\r\n        activate: activate\r\n    };\r\n\r\n    function activate() {\r\n        selectedDate(moment({ h: 0, m: 0, s: 0, ms: 0 }));\r\n\r\n        return setLectures(selectedDate()).then(function () {\r\n            return dataContext.getImportantDays(selectedDate());\r\n        }).then(function (days) {\r\n            importantDays = days;\r\n            refreshCalendar();\r\n        });\r\n    }\r\n\r\n    function changeDay(date) {\r\n        if (!date) return;\r\n\r\n        var\r\n            year = selectedDate().year(),\r\n            month = selectedDate().month(),\r\n            newDate = moment([year, month, date]);\r\n\r\n        isBusy(true);\r\n\r\n        setLectures(newDate).then(function () {\r\n            selectedDate(newDate);\r\n            isBusy(false);\r\n        });\r\n    }\r\n    function changeMonth(monthShift) {\r\n        var\r\n            year = selectedDate().year(),\r\n            month = selectedDate().month() + monthShift,\r\n            newDate = moment(new Date(year, month, 1));\r\n\r\n        isBusy(true);\r\n        isCalendarRefreshing(true);\r\n\r\n        setLectures(newDate).then(function () {\r\n            return dataContext.getImportantDays(newDate);\r\n        }).then(function () {\r\n            selectedDate(newDate);\r\n            refreshCalendar();\r\n\r\n            isBusy(false);\r\n            isCalendarRefreshing(false);\r\n        });\r\n    }\r\n\r\n    function setLectures(newDate) {\r\n        return dataContext.getCollection({\r\n            className: 'Lecture',\r\n            queryConstraints: {\r\n                date: {\r\n                    $gte: newDate,\r\n                    $lt: moment(newDate).add(1, 'd')\r\n                }\r\n            }\r\n        }).then(function (recivedLectures) {\r\n            lectures(recivedLectures.sort(function (first, second) {\r\n                return moment(first.date) - moment(second.date);\r\n            }));\r\n        });\r\n    }\r\n    function refreshCalendar() {\r\n        var\r\n            month = selectedDate().month(),\r\n            currantDate = moment([selectedDate().year(), month]),\r\n            currantDay = currantDate.day(),\r\n            weeks = [[]],\r\n            last = 0,\r\n            i;\r\n\r\n        if (currantDay != 0) {\r\n            for (i = 0; i < currantDay ; i++) {\r\n                weeks[0].push('');\r\n            }\r\n        }\r\n        while (currantDate.month() == month) {\r\n            weeks[last].push(currantDate.date());\r\n            if (currantDate.day() == 6) {\r\n                weeks.push([]);\r\n                last++;\r\n            }\r\n            currantDate.date(currantDate.date() + 1);\r\n        }\r\n        currantDay = currantDate.day();\r\n        if (currantDay != 0) {\r\n            for (i = currantDay; i < 7; i++) {\r\n                weeks[last].push('');\r\n            }\r\n        }\r\n\r\n        calendarWeeks(weeks);\r\n    }\r\n});\n",
    "define('viewmodels/schedule',['durandal/app', 'knockout', 'dataContext', 'userContext', 'moment', 'Q', 'constructors/day', 'constructors/lecture', 'viewmodels/modals/daySchedule'], function (app, ko, dataContext, userContext, moment, Q, Day, Lecture, DayScheduleModal) {\r\n    var\r\n        monday = ko.observable(moment({ h: 0, m: 0, s: 0, ms: 0 }).day(\"Monday\")),\r\n        week = ko.computed(getWeekInterval),\r\n        lectureHours = ko.observableArray(),\r\n        days = ko.observableArray(),\r\n        dateSubscr,\r\n        timeToAdd = {\r\n            hours: ko.observable('00'),\r\n            minutes: ko.observable('00')\r\n        },\r\n        isBusy = ko.observable(false);\r\n\r\n    return {\r\n        monday: monday,\r\n        lectureHours: lectureHours,\r\n        days: days,\r\n        week: week,\r\n        timeToAdd: timeToAdd,\r\n        isBusy: isBusy,\r\n\r\n        editDaySchedule: editDaySchedule,\r\n        addLectureTime: addLectureTime,\r\n        deleteLectureTime: deleteLectureTime,\r\n\r\n        activate: activate,\r\n        canActivate: function () {\r\n            return userContext.session() ? true : { redirect: 'signin' };\r\n        },\r\n        deactivate: function () {\r\n            dateSubscr.dispose();\r\n        }\r\n    };\r\n\r\n    function activate() {\r\n        monday(moment({ h: 0, m: 0, s: 0, ms: 0 }).day(\"Monday\"));\r\n        dateSubscr = monday.subscribe(setWeekSchedule);\r\n\r\n        return dataContext.getCollection({\r\n            className: 'LectureTime'\r\n        }).then(function (recievedLectureHours) {\r\n            setLectureHours(recievedLectureHours);\r\n            return setWeekSchedule(monday());\r\n        });\r\n    }\r\n\r\n    function editDaySchedule(day) {\r\n        DayScheduleModal.show(day, lectureHours).then(function (isUpdateNeeded) {\r\n            if (isUpdateNeeded) {\r\n                updateData(day);\r\n            } else {\r\n                setWeekSchedule(monday());\r\n            }\r\n        });\r\n    }\r\n    function addLectureTime() {\r\n        var\r\n            newTime = timeToAdd.hours() + ':' + timeToAdd.minutes(),\r\n            updatedDays,\r\n            i;\r\n\r\n        for (i = 0; i < lectureHours().length; i++) {\r\n            if (lectureHours()[i].time === newTime) {\r\n                timeToAdd.hours('00');\r\n                timeToAdd.minutes('00');\r\n                return;\r\n            }\r\n        }\r\n\r\n        isBusy(true);\r\n\r\n        return dataContext.add({\r\n            className: 'LectureTime',\r\n            data: { time: newTime }\r\n        }).then(function (id) {\r\n            lectureHours.push({ time: newTime, objectId: id });\r\n            lectureHours.sort(function (first, second) {\r\n                first = moment(first.time, 'HH:mm');\r\n                second = moment(second.time, 'HH:mm');\r\n                return first - second;\r\n            });\r\n            for (i = 0; i < days().length; i++) {\r\n                days()[i].lectures[newTime] = ko.observable(new Lecture({\r\n                    date: days()[i].date\r\n                        .hours(moment(newTime, 'HH:mm').hours())\r\n                        .minutes(moment(newTime, 'HH:mm').minutes())\r\n                }));\r\n            }\r\n            updatedDays = days();\r\n            days([]);\r\n            days(updatedDays);\r\n            timeToAdd.hours('00');\r\n            timeToAdd.minutes('00');\r\n\r\n            isBusy(false);\r\n        });\r\n    }\r\n    function deleteLectureTime(lectureTime) {\r\n        var\r\n            lecturesToRemove = [],\r\n            i;\r\n\r\n        app.showMessage('Do you want to remove all lectures for this time?', '', ['No', 'Yes'], true)\r\n            .then(function (dialogResult) {\r\n                if (dialogResult == 'Yes') {\r\n                    isBusy(true);\r\n\r\n                    return dataContext.remove({\r\n                        className: 'LectureTime',\r\n                        id: lectureTime.objectId\r\n                    }).then(function () {\r\n                        return removeLectures();\r\n                    }).then(function () {\r\n                        lectureHours.remove(lectureTime);\r\n                        for (i = 0; i < days().length; i++) {\r\n                            delete days()[i].lectures[lectureTime.time];\r\n                        }\r\n\r\n                        isBusy(false);\r\n                    });\r\n                } else {\r\n                    return;\r\n                }\r\n            });\r\n\r\n        function removeLectures() {\r\n            return dataContext.getCollection({\r\n                className: 'Lecture'\r\n            }).then(function (weekLectures) {\r\n                for (i = 0; i < weekLectures.length; i++) {\r\n                    if (moment(weekLectures[i].date).format('HH:mm') === lectureTime.time) {\r\n                        lecturesToRemove.push(weekLectures[i]);\r\n                    }\r\n                }\r\n                return dataContext.removeCollection({ className: 'Lecture', items: lecturesToRemove });\r\n            });\r\n        }\r\n    }\r\n\r\n    function setLectureHours(recievedLectureHours) {\r\n        var\r\n            lectureTime = [],\r\n            i;\r\n\r\n        for (i = 0; i < recievedLectureHours.length; i++) {\r\n            lectureTime.push({\r\n                time: recievedLectureHours[i].time,\r\n                objectId: recievedLectureHours[i].objectId\r\n            });\r\n        }\r\n        lectureTime.sort(function (first, second) {\r\n            first = moment(first.time, 'HH:mm');\r\n            second = moment(second.time, 'HH:mm');\r\n            return first - second;\r\n        });\r\n        lectureHours(lectureTime);\r\n    }\r\n    function setWeekSchedule(monday) {\r\n        isBusy(true);\r\n\r\n        return dataContext.getCollection({\r\n            className: 'Lecture',\r\n            queryConstraints: {\r\n                date: {\r\n                    $gte: moment(monday).day(\"Monday\"),\r\n                    $lte: moment(monday).day(\"Friday\")\r\n                }\r\n            }\r\n        }).then(function (weekLectures) {\r\n            setDays(monday);\r\n            setLectures(weekLectures);\r\n\r\n            isBusy(false);\r\n        });\r\n    }\r\n    function setDays(monday) {\r\n        var\r\n            daysOfWeek = [],\r\n            i;\r\n\r\n        for (i = 0; i < 5; i++) {\r\n            daysOfWeek.push(new Day({\r\n                date: moment(monday).day(i + 1),\r\n                lectureHours: lectureHours()\r\n            }));\r\n        }\r\n        days(daysOfWeek);\r\n    }\r\n    function setLectures(weekLectures) {\r\n        weekLectures.forEach(function (lecture) {\r\n            lecture = new Lecture(lecture);\r\n            days().forEach(function (day) {\r\n                if (day.date.format('MM/DD/YYYY') === lecture.date.format('MM/DD/YYYY')) {\r\n                    day.lectures[lecture.date.format('HH:mm')](lecture);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    function updateData(day) {\r\n        isBusy(true);\r\n\r\n        return lectureHours()\r\n            .reduce(updateLectureData, Q.resolve())\r\n            .then(function () {\r\n                isBusy(false);\r\n            });\r\n\r\n        function updateLectureData(saveData, lectureTime) {\r\n            var\r\n                updatedLecture = day.lectures[lectureTime.time](),\r\n                updatedData = {\r\n                    subject: updatedLecture.subject(),\r\n                    lectureRoom: updatedLecture.lectureRoom()\r\n                };\r\n\r\n            return saveData.then(function () {\r\n                if (updatedData.subject || updatedData.lectureRoom) {\r\n                    updatedData.subject = updatedData.subject || 'Some lecture';\r\n                    if (updatedLecture.objectId()) {\r\n                        return dataContext.update({\r\n                            className: 'Lecture',\r\n                            id: updatedLecture.objectId(),\r\n                            data: updatedData\r\n                        });\r\n                    } else {\r\n                        updatedData.date = updatedLecture.date;\r\n                        return dataContext.add({\r\n                            className: 'Lecture',\r\n                            data: updatedData\r\n                        }).then(function (id) {\r\n                            updatedLecture.objectId(id);\r\n                        });\r\n                    }\r\n                } else {\r\n                    if (updatedLecture.objectId()) {\r\n                        return dataContext.remove({\r\n                            className: 'Lecture',\r\n                            id: updatedLecture.objectId()\r\n                        }).then(function () {\r\n                            updatedLecture.objectId('');\r\n                        });\r\n                    } else {\r\n                        return Q.resolve();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    function getWeekInterval() {\r\n        var\r\n            friday = moment(monday()).day(\"Friday\"),\r\n            monMonth = monday().format('MMM'),\r\n            friMonth = friday.format('MMM');\r\n\r\n        return monMonth + ', ' + monday().format('Do') + ' - ' +\r\n            ((friMonth == monMonth) ? '' : (friMonth + ', ')) + friday.format('Do');\r\n    }\r\n});\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * This module is based on Backbone's core history support. It abstracts away the low level details of working with browser history and url changes in order to provide a solid foundation for a router.\n * @module history\n * @requires system\n * @requires jquery\n */\ndefine('plugins/history',['durandal/system', 'jquery'], function (system, $) {\n    // Cached regex for stripping a leading hash/slash and trailing space.\n    var routeStripper = /^[#\\/]|\\s+$/g;\n\n    // Cached regex for stripping leading and trailing slashes.\n    var rootStripper = /^\\/+|\\/+$/g;\n\n    // Cached regex for detecting MSIE.\n    var isExplorer = /msie [\\w.]+/;\n\n    // Cached regex for removing a trailing slash.\n    var trailingSlash = /\\/$/;\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    function updateHash(location, fragment, replace) {\n        if (replace) {\n            var href = location.href.replace(/(javascript:|#).*$/, '');\n\n            if (history.history.replaceState) {\n                history.history.replaceState({}, document.title, href + '#' + fragment); // using history.replaceState instead of location.replace to work around chrom bug\n            } else {\n                location.replace(href + '#' + fragment);\n            }\n        } else {\n            // Some browsers require that `hash` contains a leading #.\n            location.hash = '#' + fragment;\n        }\n    };\n\n    /**\n     * @class HistoryModule\n     * @static\n     */\n    var history = {\n        /**\n         * The setTimeout interval used when the browser does not support hash change events.\n         * @property {string} interval\n         * @default 50\n         */\n        interval: 50,\n        /**\n         * Indicates whether or not the history module is actively tracking history.\n         * @property {string} active\n         */\n        active: false\n    };\n    \n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n        history.location = window.location;\n        history.history = window.history;\n    }\n\n    /**\n     * Gets the true hash value. Cannot use location.hash directly due to a bug in Firefox where location.hash will always be decoded.\n     * @method getHash\n     * @param {string} [window] The optional window instance\n     * @return {string} The hash.\n     */\n    history.getHash = function(window) {\n        var match = (window || history).location.href.match(/#(.*)$/);\n        return match ? match[1] : '';\n    };\n    \n    /**\n     * Get the cross-browser normalized URL fragment, either from the URL, the hash, or the override.\n     * @method getFragment\n     * @param {string} fragment The fragment.\n     * @param {boolean} forcePushState Should we force push state?\n     * @return {string} he fragment.\n     */\n    history.getFragment = function(fragment, forcePushState) {\n        if (fragment == null) {\n            if (history._hasPushState || !history._wantsHashChange || forcePushState) {\n                fragment = history.location.pathname + history.location.search;\n                var root = history.root.replace(trailingSlash, '');\n                if (!fragment.indexOf(root)) {\n                    fragment = fragment.substr(root.length);\n                }\n            } else {\n                fragment = history.getHash();\n            }\n        }\n        \n        return fragment.replace(routeStripper, '');\n    };\n\n    /**\n     * Activate the hash change handling, returning `true` if the current URL matches an existing route, and `false` otherwise.\n     * @method activate\n     * @param {HistoryOptions} options.\n     * @return {boolean|undefined} Returns true/false from loading the url unless the silent option was selected.\n     */\n    history.activate = function(options) {\n        if (history.active) {\n            system.error(\"History has already been activated.\");\n        }\n\n        history.active = true;\n\n        // Figure out the initial configuration. Do we need an iframe?\n        // Is pushState desired ... is it available?\n        history.options = system.extend({}, { root: '/' }, history.options, options);\n        history.root = history.options.root;\n        history._wantsHashChange = history.options.hashChange !== false;\n        history._wantsPushState = !!history.options.pushState;\n        history._hasPushState = !!(history.options.pushState && history.history && history.history.pushState);\n\n        var fragment = history.getFragment();\n        var docMode = document.documentMode;\n        var oldIE = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));\n\n        // Normalize root to always include a leading and trailing slash.\n        history.root = ('/' + history.root + '/').replace(rootStripper, '/');\n\n        if (oldIE && history._wantsHashChange) {\n            history.iframe = $('<iframe src=\"javascript:0\" tabindex=\"-1\" />').hide().appendTo('body')[0].contentWindow;\n            history.navigate(fragment, false);\n        }\n\n        // Depending on whether we're using pushState or hashes, and whether\n        // 'onhashchange' is supported, determine how we check the URL state.\n        if (history._hasPushState) {\n            $(window).on('popstate', history.checkUrl);\n        } else if (history._wantsHashChange && ('onhashchange' in window) && !oldIE) {\n            $(window).on('hashchange', history.checkUrl);\n        } else if (history._wantsHashChange) {\n            history._checkUrlInterval = setInterval(history.checkUrl, history.interval);\n        }\n\n        // Determine if we need to change the base url, for a pushState link\n        // opened by a non-pushState browser.\n        history.fragment = fragment;\n        var loc = history.location;\n        var atRoot = loc.pathname.replace(/[^\\/]$/, '$&/') === history.root;\n\n        // Transition from hashChange to pushState or vice versa if both are requested.\n        if (history._wantsHashChange && history._wantsPushState) {\n            // If we've started off with a route from a `pushState`-enabled\n            // browser, but we're currently in a browser that doesn't support it...\n            if (!history._hasPushState && !atRoot) {\n                history.fragment = history.getFragment(null, true);\n                history.location.replace(history.root + history.location.search + '#' + history.fragment);\n                // Return immediately as browser will do redirect to new url\n                return true;\n\n            // Or if we've started out with a hash-based route, but we're currently\n            // in a browser where it could be `pushState`-based instead...\n            } else if (history._hasPushState && atRoot && loc.hash) {\n                this.fragment = history.getHash().replace(routeStripper, '');\n                this.history.replaceState({}, document.title, history.root + history.fragment + loc.search);\n            }\n        }\n\n        if (!history.options.silent) {\n            return history.loadUrl(options.startRoute);\n        }\n    };\n\n    /**\n     * Disable history, perhaps temporarily. Not useful in a real app, but possibly useful for unit testing Routers.\n     * @method deactivate\n     */\n    history.deactivate = function() {\n        $(window).off('popstate', history.checkUrl).off('hashchange', history.checkUrl);\n        clearInterval(history._checkUrlInterval);\n        history.active = false;\n    };\n\n    /**\n     * Checks the current URL to see if it has changed, and if it has, calls `loadUrl`, normalizing across the hidden iframe.\n     * @method checkUrl\n     * @return {boolean} Returns true/false from loading the url.\n     */\n    history.checkUrl = function() {\n        var current = history.getFragment();\n        if (current === history.fragment && history.iframe) {\n            current = history.getFragment(history.getHash(history.iframe));\n        }\n\n        if (current === history.fragment) {\n            return false;\n        }\n\n        if (history.iframe) {\n            history.navigate(current, false);\n        }\n        \n        history.loadUrl();\n    };\n    \n    /**\n     * Attempts to load the current URL fragment. A pass-through to options.routeHandler.\n     * @method loadUrl\n     * @return {boolean} Returns true/false from the route handler.\n     */\n    history.loadUrl = function(fragmentOverride) {\n        var fragment = history.fragment = history.getFragment(fragmentOverride);\n\n        return history.options.routeHandler ?\n            history.options.routeHandler(fragment) :\n            false;\n    };\n\n    /**\n     * Save a fragment into the hash history, or replace the URL state if the\n     * 'replace' option is passed. You are responsible for properly URL-encoding\n     * the fragment in advance.\n     * The options object can contain `trigger: false` if you wish to not have the\n     * route callback be fired, or `replace: true`, if\n     * you wish to modify the current URL without adding an entry to the history.\n     * @method navigate\n     * @param {string} fragment The url fragment to navigate to.\n     * @param {object|boolean} options An options object with optional trigger and replace flags. You can also pass a boolean directly to set the trigger option. Trigger is `true` by default.\n     * @return {boolean} Returns true/false from loading the url.\n     */\n    history.navigate = function(fragment, options) {\n        if (!history.active) {\n            return false;\n        }\n\n        if(options === undefined) {\n            options = {\n                trigger: true\n            };\n        }else if(system.isBoolean(options)) {\n            options = {\n                trigger: options\n            };\n        }\n\n        fragment = history.getFragment(fragment || '');\n\n        if (history.fragment === fragment) {\n            return;\n        }\n\n        history.fragment = fragment;\n\n        var url = history.root + fragment;\n\n        // Don't include a trailing slash on the root.\n        if(fragment === '' && url !== '/') {\n            url = url.slice(0, -1);\n        }\n\n        // If pushState is available, we use it to set the fragment as a real URL.\n        if (history._hasPushState) {\n            history.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n            // If hash changes haven't been explicitly disabled, update the hash\n            // fragment to store history.\n        } else if (history._wantsHashChange) {\n            updateHash(history.location, fragment, options.replace);\n            \n            if (history.iframe && (fragment !== history.getFragment(history.getHash(history.iframe)))) {\n                // Opening and closing the iframe tricks IE7 and earlier to push a\n                // history entry on hash-tag change.  When replace is true, we don't\n                // want history.\n                if (!options.replace) {\n                    history.iframe.document.open().close();\n                }\n                \n                updateHash(history.iframe.location, fragment, options.replace);\n            }\n\n            // If you've told us that you explicitly don't want fallback hashchange-\n            // based history, then `navigate` becomes a page refresh.\n        } else {\n            return history.location.assign(url);\n        }\n\n        if (options.trigger) {\n            return history.loadUrl(fragment);\n        }\n    };\n\n    /**\n     * Navigates back in the browser history.\n     * @method navigateBack\n     */\n    history.navigateBack = function() {\n        history.history.back();\n    };\n\n    /**\n     * @class HistoryOptions\n     * @static\n     */\n\n    /**\n     * The function that will be called back when the fragment changes.\n     * @property {function} routeHandler\n     */\n\n    /**\n     * The url root used to extract the fragment when using push state.\n     * @property {string} root\n     */\n\n    /**\n     * Use hash change when present.\n     * @property {boolean} hashChange\n     * @default true\n     */\n\n    /**\n     * Use push state when present.\n     * @property {boolean} pushState\n     * @default false\n     */\n\n    /**\n     * Prevents loading of the current url when activating history.\n     * @property {boolean} silent\n     * @default false\n     */\n\n    return history;\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * Connects the history module's url and history tracking support to Durandal's activation and composition engine allowing you to easily build navigation-style applications.\n * @module router\n * @requires system\n * @requires app\n * @requires activator\n * @requires events\n * @requires composition\n * @requires history\n * @requires knockout\n * @requires jquery\n */\ndefine('plugins/router',['durandal/system', 'durandal/app', 'durandal/activator', 'durandal/events', 'durandal/composition', 'plugins/history', 'knockout', 'jquery'], function(system, app, activator, events, composition, history, ko, $) {\n    var optionalParam = /\\((.*?)\\)/g;\n    var namedParam = /(\\(\\?)?:\\w+/g;\n    var splatParam = /\\*\\w+/g;\n    var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n    var startDeferred, rootRouter;\n    var trailingSlash = /\\/$/;\n    var routesAreCaseSensitive = false;\n    var lastUrl = '/', lastTryUrl = '/';\n\n    function routeStringToRegExp(routeString) {\n        routeString = routeString.replace(escapeRegExp, '\\\\$&')\n            .replace(optionalParam, '(?:$1)?')\n            .replace(namedParam, function(match, optional) {\n                return optional ? match : '([^\\/]+)';\n            })\n            .replace(splatParam, '(.*?)');\n\n        return new RegExp('^' + routeString + '$', routesAreCaseSensitive ? undefined : 'i');\n    }\n\n    function stripParametersFromRoute(route) {\n        var colonIndex = route.indexOf(':');\n        var length = colonIndex > 0 ? colonIndex - 1 : route.length;\n        return route.substring(0, length);\n    }\n\n    function endsWith(str, suffix) {\n        return str.indexOf(suffix, str.length - suffix.length) !== -1;\n    }\n\n    function compareArrays(first, second) {\n        if (!first || !second){\n            return false;\n        }\n\n        if (first.length != second.length) {\n            return false;\n        }\n\n        for (var i = 0, len = first.length; i < len; i++) {\n            if (first[i] != second[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function reconstructUrl(instruction){\n        if(!instruction.queryString){\n            return instruction.fragment;\n        }\n\n        return instruction.fragment + '?' + instruction.queryString;\n    }\n\n    /**\n     * @class Router\n     * @uses Events\n     */\n\n    /**\n     * Triggered when the navigation logic has completed.\n     * @event router:navigation:complete\n     * @param {object} instance The activated instance.\n     * @param {object} instruction The routing instruction.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered when the navigation has been cancelled.\n     * @event router:navigation:cancelled\n     * @param {object} instance The activated instance.\n     * @param {object} instruction The routing instruction.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered when navigation begins.\n     * @event router:navigation:processing\n     * @param {object} instruction The routing instruction.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered right before a route is activated.\n     * @event router:route:activating\n     * @param {object} instance The activated instance.\n     * @param {object} instruction The routing instruction.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered right before a route is configured.\n     * @event router:route:before-config\n     * @param {object} config The route config.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered just after a route is configured.\n     * @event router:route:after-config\n     * @param {object} config The route config.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered when the view for the activated instance is attached.\n     * @event router:navigation:attached\n     * @param {object} instance The activated instance.\n     * @param {object} instruction The routing instruction.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered when the composition that the activated instance participates in is complete.\n     * @event router:navigation:composition-complete\n     * @param {object} instance The activated instance.\n     * @param {object} instruction The routing instruction.\n     * @param {Router} router The router.\n     */\n\n    /**\n     * Triggered when the router does not find a matching route.\n     * @event router:route:not-found\n     * @param {string} fragment The url fragment.\n     * @param {Router} router The router.\n     */\n\n    var createRouter = function() {\n        var queue = [],\n            isProcessing = ko.observable(false),\n            currentActivation,\n            currentInstruction,\n            activeItem = activator.create();\n\n        var router = {\n            /**\n             * The route handlers that are registered. Each handler consists of a `routePattern` and a `callback`.\n             * @property {object[]} handlers\n             */\n            handlers: [],\n            /**\n             * The route configs that are registered.\n             * @property {object[]} routes\n             */\n            routes: [],\n            /**\n             * The route configurations that have been designated as displayable in a nav ui (nav:true).\n             * @property {KnockoutObservableArray} navigationModel\n             */\n            navigationModel: ko.observableArray([]),\n            /**\n             * The active item/screen based on the current navigation state.\n             * @property {Activator} activeItem\n             */\n            activeItem: activeItem,\n            /**\n             * Indicates that the router (or a child router) is currently in the process of navigating.\n             * @property {KnockoutComputed} isNavigating\n             */\n            isNavigating: ko.computed(function() {\n                var current = activeItem();\n                var processing = isProcessing();\n                var currentRouterIsProcesing = current\n                    && current.router\n                    && current.router != router\n                    && current.router.isNavigating() ? true : false;\n                return  processing || currentRouterIsProcesing;\n            }),\n            /**\n             * An observable surfacing the active routing instruction that is currently being processed or has recently finished processing.\n             * The instruction object has `config`, `fragment`, `queryString`, `params` and `queryParams` properties.\n             * @property {KnockoutObservable} activeInstruction\n             */\n            activeInstruction:ko.observable(null),\n            __router__:true\n        };\n\n        events.includeIn(router);\n\n        activeItem.settings.areSameItem = function (currentItem, newItem, currentActivationData, newActivationData) {\n            if (currentItem == newItem) {\n                return compareArrays(currentActivationData, newActivationData);\n            }\n\n            return false;\n        };\n\n        activeItem.settings.findChildActivator = function(item) {\n            if (item && item.router && item.router.parent == router) {\n                return item.router.activeItem;\n            }\n\n            return null;\n        };\n\n        function hasChildRouter(instance, parentRouter) {\n            return instance.router && instance.router.parent == parentRouter;\n        }\n\n        function setCurrentInstructionRouteIsActive(flag) {\n            if (currentInstruction && currentInstruction.config.isActive) {\n                currentInstruction.config.isActive(flag);\n            }\n        }\n\n        function completeNavigation(instance, instruction, mode) {\n            system.log('Navigation Complete', instance, instruction);\n\n            var fromModuleId = system.getModuleId(currentActivation);\n            if (fromModuleId) {\n                router.trigger('router:navigation:from:' + fromModuleId);\n            }\n\n            currentActivation = instance;\n\n            setCurrentInstructionRouteIsActive(false);\n            currentInstruction = instruction;\n            setCurrentInstructionRouteIsActive(true);\n\n            var toModuleId = system.getModuleId(currentActivation);\n            if (toModuleId) {\n                router.trigger('router:navigation:to:' + toModuleId);\n            }\n\n            if (!hasChildRouter(instance, router)) {\n                router.updateDocumentTitle(instance, instruction);\n            }\n\n            switch (mode) {\n                case 'rootRouter':\n                    lastUrl = reconstructUrl(currentInstruction);\n                    break;\n                case 'rootRouterWithChild':\n                    lastTryUrl = reconstructUrl(currentInstruction);\n                    break;\n                case 'lastChildRouter':\n                    lastUrl = lastTryUrl;\n                    break;\n            }\n\n            rootRouter.explicitNavigation = false;\n            rootRouter.navigatingBack = false;\n\n            router.trigger('router:navigation:complete', instance, instruction, router);\n        }\n\n        function cancelNavigation(instance, instruction) {\n            system.log('Navigation Cancelled');\n\n            router.activeInstruction(currentInstruction);\n\n            router.navigate(lastUrl, false);\n\n            isProcessing(false);\n            rootRouter.explicitNavigation = false;\n            rootRouter.navigatingBack = false;\n            router.trigger('router:navigation:cancelled', instance, instruction, router);\n        }\n\n        function redirect(url) {\n            system.log('Navigation Redirecting');\n\n            isProcessing(false);\n            rootRouter.explicitNavigation = false;\n            rootRouter.navigatingBack = false;\n            router.navigate(url, { trigger: true, replace: true });\n        }\n\n        function activateRoute(activator, instance, instruction) {\n            rootRouter.navigatingBack = !rootRouter.explicitNavigation && currentActivation != instruction.fragment;\n            router.trigger('router:route:activating', instance, instruction, router);\n\n            var options = {\n                canDeactivate: !router.parent\n            };\n\n            activator.activateItem(instance, instruction.params, options).then(function(succeeded) {\n                if (succeeded) {\n                    var previousActivation = currentActivation;\n                    var withChild = hasChildRouter(instance, router);\n                    var mode = '';\n\n                    if (router.parent) {\n                        if(!withChild) {\n                            mode = 'lastChildRouter';\n                        }\n                    } else {\n                        if (withChild) {\n                            mode = 'rootRouterWithChild';\n                        } else {\n                            mode = 'rootRouter';\n                        }\n                    }\n\n                    completeNavigation(instance, instruction, mode);\n\n                    if (withChild) {\n                        instance.router.trigger('router:route:before-child-routes', instance, instruction, router);\n\n                        var fullFragment = instruction.fragment;\n                        if (instruction.queryString) {\n                            fullFragment += \"?\" + instruction.queryString;\n                        }\n\n                        instance.router.loadUrl(fullFragment);\n                    }\n\n                    if (previousActivation == instance) {\n                        router.attached();\n                        router.compositionComplete();\n                    }\n                } else if(activator.settings.lifecycleData && activator.settings.lifecycleData.redirect){\n                    redirect(activator.settings.lifecycleData.redirect);\n                }else{\n                    cancelNavigation(instance, instruction);\n                }\n\n                if (startDeferred) {\n                    startDeferred.resolve();\n                    startDeferred = null;\n                }\n            }).fail(function(err){\n                system.error(err);\n            });\n        }\n\n        /**\n         * Inspects routes and modules before activation. Can be used to protect access by cancelling navigation or redirecting.\n         * @method guardRoute\n         * @param {object} instance The module instance that is about to be activated by the router.\n         * @param {object} instruction The route instruction. The instruction object has config, fragment, queryString, params and queryParams properties.\n         * @return {Promise|Boolean|String} If a boolean, determines whether or not the route should activate or be cancelled. If a string, causes a redirect to the specified route. Can also be a promise for either of these value types.\n         */\n        function handleGuardedRoute(activator, instance, instruction) {\n            var resultOrPromise = router.guardRoute(instance, instruction);\n            if (resultOrPromise || resultOrPromise === '') {\n                if (resultOrPromise.then) {\n                    resultOrPromise.then(function(result) {\n                        if (result) {\n                            if (system.isString(result)) {\n                                redirect(result);\n                            } else {\n                                activateRoute(activator, instance, instruction);\n                            }\n                        } else {\n                            cancelNavigation(instance, instruction);\n                        }\n                    });\n                } else {\n                    if (system.isString(resultOrPromise)) {\n                        redirect(resultOrPromise);\n                    } else {\n                        activateRoute(activator, instance, instruction);\n                    }\n                }\n            } else {\n                cancelNavigation(instance, instruction);\n            }\n        }\n\n        function ensureActivation(activator, instance, instruction) {\n            if (router.guardRoute) {\n                handleGuardedRoute(activator, instance, instruction);\n            } else {\n                activateRoute(activator, instance, instruction);\n            }\n        }\n\n        function canReuseCurrentActivation(instruction) {\n            return currentInstruction\n                && currentInstruction.config.moduleId == instruction.config.moduleId\n                && currentActivation\n                && ((currentActivation.canReuseForRoute && currentActivation.canReuseForRoute.apply(currentActivation, instruction.params))\n                || (!currentActivation.canReuseForRoute && currentActivation.router && currentActivation.router.loadUrl));\n        }\n\n        function dequeueInstruction() {\n            if (isProcessing()) {\n                return;\n            }\n\n            var instruction = queue.shift();\n            queue = [];\n\n            if (!instruction) {\n                return;\n            }\n\n            isProcessing(true);\n            router.activeInstruction(instruction);\n            router.trigger('router:navigation:processing', instruction, router);\n\n            if (canReuseCurrentActivation(instruction)) {\n                var tempActivator = activator.create();\n                tempActivator.forceActiveItem(currentActivation); //enforce lifecycle without re-compose\n                tempActivator.settings.areSameItem = activeItem.settings.areSameItem;\n                tempActivator.settings.findChildActivator = activeItem.settings.findChildActivator;\n                ensureActivation(tempActivator, currentActivation, instruction);\n            } else if(!instruction.config.moduleId) {\n                ensureActivation(activeItem, {\n                    viewUrl:instruction.config.viewUrl,\n                    canReuseForRoute:function() {\n                        return true;\n                    }\n                }, instruction);\n            } else {\n                system.acquire(instruction.config.moduleId).then(function(m) {\n                    var instance = system.resolveObject(m);\n\n                    if(instruction.config.viewUrl) {\n                        instance.viewUrl = instruction.config.viewUrl;\n                    }\n\n                    ensureActivation(activeItem, instance, instruction);\n                }).fail(function(err) {\n                    system.error('Failed to load routed module (' + instruction.config.moduleId + '). Details: ' + err.message, err);\n                });\n            }\n        }\n\n        function queueInstruction(instruction) {\n            queue.unshift(instruction);\n            dequeueInstruction();\n        }\n\n        // Given a route, and a URL fragment that it matches, return the array of\n        // extracted decoded parameters. Empty or unmatched parameters will be\n        // treated as `null` to normalize cross-browser behavior.\n        function createParams(routePattern, fragment, queryString) {\n            var params = routePattern.exec(fragment).slice(1);\n\n            for (var i = 0; i < params.length; i++) {\n                var current = params[i];\n                params[i] = current ? decodeURIComponent(current) : null;\n            }\n\n            var queryParams = router.parseQueryString(queryString);\n            if (queryParams) {\n                params.push(queryParams);\n            }\n\n            return {\n                params:params,\n                queryParams:queryParams\n            };\n        }\n\n        function configureRoute(config){\n            router.trigger('router:route:before-config', config, router);\n\n            if (!system.isRegExp(config.route)) {\n                config.title = config.title || router.convertRouteToTitle(config.route);\n\n                if (!config.viewUrl) {\n                    config.moduleId = config.moduleId || router.convertRouteToModuleId(config.route);\n                }\n                \n                config.hash = config.hash || router.convertRouteToHash(config.route);\n\n                if (config.hasChildRoutes) {\n                    config.route = config.route + '*childRoutes';\n                }\n\n                config.routePattern = routeStringToRegExp(config.route);\n            }else{\n                config.routePattern = config.route;\n            }\n\n            config.isActive = config.isActive || ko.observable(false);\n            router.trigger('router:route:after-config', config, router);\n            router.routes.push(config);\n\n            router.route(config.routePattern, function(fragment, queryString) {\n                var paramInfo = createParams(config.routePattern, fragment, queryString);\n                queueInstruction({\n                    fragment: fragment,\n                    queryString:queryString,\n                    config: config,\n                    params: paramInfo.params,\n                    queryParams:paramInfo.queryParams\n                });\n            });\n        };\n\n        function mapRoute(config) {\n            if(system.isArray(config.route)){\n                var isActive = config.isActive || ko.observable(false);\n\n                for(var i = 0, length = config.route.length; i < length; i++){\n                    var current = system.extend({}, config);\n\n                    current.route = config.route[i];\n                    current.isActive = isActive;\n\n                    if(i > 0){\n                        delete current.nav;\n                    }\n\n                    configureRoute(current);\n                }\n            }else{\n                configureRoute(config);\n            }\n\n            return router;\n        }\n\n        /**\n         * Parses a query string into an object.\n         * @method parseQueryString\n         * @param {string} queryString The query string to parse.\n         * @return {object} An object keyed according to the query string parameters.\n         */\n        router.parseQueryString = function (queryString) {\n            var queryObject, pairs;\n\n            if (!queryString) {\n                return null;\n            }\n\n            pairs = queryString.split('&');\n\n            if (pairs.length == 0) {\n                return null;\n            }\n\n            queryObject = {};\n\n            for (var i = 0; i < pairs.length; i++) {\n                var pair = pairs[i];\n                if (pair === '') {\n                    continue;\n                }\n\n                var parts = pair.split(/=(.+)?/),\n                    key = parts[0],\n                    value = parts[1] && decodeURIComponent(parts[1].replace(/\\+/g, ' '));\n\n                var existing = queryObject[key];\n\n                if (existing) {\n                    if (system.isArray(existing)) {\n                        existing.push(value);\n                    } else {\n                        queryObject[key] = [existing, value];\n                    }\n                }\n                else {\n                    queryObject[key] = value;\n                }\n            }\n\n            return queryObject;\n        };\n\n        /**\n         * Add a route to be tested when the url fragment changes.\n         * @method route\n         * @param {RegEx} routePattern The route pattern to test against.\n         * @param {function} callback The callback to execute when the route pattern is matched.\n         */\n        router.route = function(routePattern, callback) {\n            router.handlers.push({ routePattern: routePattern, callback: callback });\n        };\n\n        /**\n         * Attempt to load the specified URL fragment. If a route succeeds with a match, returns `true`. If no defined routes matches the fragment, returns `false`.\n         * @method loadUrl\n         * @param {string} fragment The URL fragment to find a match for.\n         * @return {boolean} True if a match was found, false otherwise.\n         */\n        router.loadUrl = function(fragment) {\n            var handlers = router.handlers,\n                queryString = null,\n                coreFragment = fragment,\n                queryIndex = fragment.indexOf('?');\n\n            if (queryIndex != -1) {\n                coreFragment = fragment.substring(0, queryIndex);\n                queryString = fragment.substr(queryIndex + 1);\n            }\n\n            if(router.relativeToParentRouter){\n                var instruction = this.parent.activeInstruction();\n\t\t\t\tcoreFragment = queryIndex == -1 ? instruction.params.join('/') : instruction.params.slice(0, -1).join('/');\n\n                if(coreFragment && coreFragment.charAt(0) == '/'){\n                    coreFragment = coreFragment.substr(1);\n                }\n\n                if(!coreFragment){\n                    coreFragment = '';\n                }\n\n                coreFragment = coreFragment.replace('//', '/').replace('//', '/');\n            }\n\n            coreFragment = coreFragment.replace(trailingSlash, '');\n\n            for (var i = 0; i < handlers.length; i++) {\n                var current = handlers[i];\n                if (current.routePattern.test(coreFragment)) {\n                    current.callback(coreFragment, queryString);\n                    return true;\n                }\n            }\n\n            system.log('Route Not Found', fragment, currentInstruction);\n            router.trigger('router:route:not-found', fragment, router);\n\n            if (router.parent) {\n                lastUrl = lastTryUrl;\n            }\n\n            history.navigate(lastUrl, { trigger:false, replace:true });\n\n            rootRouter.explicitNavigation = false;\n            rootRouter.navigatingBack = false;\n\n            return false;\n        };\n\n        var titleSubscription;\n        function setTitle(value) {\n            var appTitle = ko.unwrap(app.title);\n\n            if (appTitle) {\n                document.title = value + \" | \" + appTitle;\n            } else {\n                document.title = value;\n            }\n        }  \n        \n        // Allow observable to be used for app.title\n        if(ko.isObservable(app.title)) {\n            app.title.subscribe(function () {\n                var instruction = router.activeInstruction();\n                var title = instruction != null ? ko.unwrap(instruction.config.title) : '';\n                setTitle(title);\n            });\n        }\n        \n        /**\n         * Updates the document title based on the activated module instance, the routing instruction and the app.title.\n         * @method updateDocumentTitle\n         * @param {object} instance The activated module.\n         * @param {object} instruction The routing instruction associated with the action. It has a `config` property that references the original route mapping config.\n         */\n        router.updateDocumentTitle = function (instance, instruction) {\n            var appTitle = ko.unwrap(app.title),\n                title = instruction.config.title;\n                \n            if (titleSubscription) {\n                titleSubscription.dispose();\n            }\n\n            if (title) {\n                if (ko.isObservable(title)) {\n                    titleSubscription = title.subscribe(setTitle);\n                    setTitle(title());\n                } else {\n                    setTitle(title);\n                }\n            } else if (appTitle) {\n                document.title = appTitle;\n            }\n        };\n\n        /**\n         * Save a fragment into the hash history, or replace the URL state if the\n         * 'replace' option is passed. You are responsible for properly URL-encoding\n         * the fragment in advance.\n         * The options object can contain `trigger: false` if you wish to not have the\n         * route callback be fired, or `replace: true`, if\n         * you wish to modify the current URL without adding an entry to the history.\n         * @method navigate\n         * @param {string} fragment The url fragment to navigate to.\n         * @param {object|boolean} options An options object with optional trigger and replace flags. You can also pass a boolean directly to set the trigger option. Trigger is `true` by default.\n         * @return {boolean} Returns true/false from loading the url.\n         */\n        router.navigate = function(fragment, options) {\n            if(fragment && fragment.indexOf('://') != -1) {\n                window.location.href = fragment;\n                return true;\n            }\n\n            if(options === undefined || (system.isBoolean(options) && options) || (system.isObject(options) && options.trigger)) {\n                rootRouter.explicitNavigation = true;\n            }\n\n            if ((system.isBoolean(options) && !options) || (options && options.trigger != undefined && !options.trigger)) {\n                lastUrl = fragment;\n            }\n\n            return history.navigate(fragment, options);\n        };\n\n        /**\n         * Navigates back in the browser history.\n         * @method navigateBack\n         */\n        router.navigateBack = function() {\n            history.navigateBack();\n        };\n\n        router.attached = function() {\n            router.trigger('router:navigation:attached', currentActivation, currentInstruction, router);\n        };\n\n        router.compositionComplete = function(){\n            isProcessing(false);\n            router.trigger('router:navigation:composition-complete', currentActivation, currentInstruction, router);\n            dequeueInstruction();\n        };\n\n        /**\n         * Converts a route to a hash suitable for binding to a link's href.\n         * @method convertRouteToHash\n         * @param {string} route\n         * @return {string} The hash.\n         */\n        router.convertRouteToHash = function(route) {\n            route = route.replace(/\\*.*$/, '');\n\n            if(router.relativeToParentRouter){\n                var instruction = router.parent.activeInstruction(),\n                    hash = route ? instruction.config.hash + '/' + route : instruction.config.hash;\n\n                if(history._hasPushState){\n                    hash = '/' + hash;\n                }\n\n                hash = hash.replace('//', '/').replace('//', '/');\n                return hash;\n            }\n\n            if(history._hasPushState){\n                return route;\n            }\n\n            return \"#\" + route;\n        };\n\n        /**\n         * Converts a route to a module id. This is only called if no module id is supplied as part of the route mapping.\n         * @method convertRouteToModuleId\n         * @param {string} route\n         * @return {string} The module id.\n         */\n        router.convertRouteToModuleId = function(route) {\n            return stripParametersFromRoute(route);\n        };\n\n        /**\n         * Converts a route to a displayable title. This is only called if no title is specified as part of the route mapping.\n         * @method convertRouteToTitle\n         * @param {string} route\n         * @return {string} The title.\n         */\n        router.convertRouteToTitle = function(route) {\n            var value = stripParametersFromRoute(route);\n            return value.substring(0, 1).toUpperCase() + value.substring(1);\n        };\n\n        /**\n         * Maps route patterns to modules.\n         * @method map\n         * @param {string|object|object[]} route A route, config or array of configs.\n         * @param {object} [config] The config for the specified route.\n         * @chainable\n         * @example\n         router.map([\n         { route: '', title:'Home', moduleId: 'homeScreen', nav: true },\n         { route: 'customer/:id', moduleId: 'customerDetails'}\n         ]);\n         */\n        router.map = function(route, config) {\n            if (system.isArray(route)) {\n                for (var i = 0; i < route.length; i++) {\n                    router.map(route[i]);\n                }\n\n                return router;\n            }\n\n            if (system.isString(route) || system.isRegExp(route)) {\n                if (!config) {\n                    config = {};\n                } else if (system.isString(config)) {\n                    config = { moduleId: config };\n                }\n\n                config.route = route;\n            } else {\n                config = route;\n            }\n\n            return mapRoute(config);\n        };\n\n        /**\n         * Builds an observable array designed to bind a navigation UI to. The model will exist in the `navigationModel` property.\n         * @method buildNavigationModel\n         * @param {number} defaultOrder The default order to use for navigation visible routes that don't specify an order. The default is 100 and each successive route will be one more than that.\n         * @chainable\n         */\n        router.buildNavigationModel = function(defaultOrder) {\n            var nav = [], routes = router.routes;\n            var fallbackOrder = defaultOrder || 100;\n\n            for (var i = 0; i < routes.length; i++) {\n                var current = routes[i];\n\n                if (current.nav) {\n                    if (!system.isNumber(current.nav)) {\n                        current.nav = ++fallbackOrder;\n                    }\n\n                    nav.push(current);\n                }\n            }\n\n            nav.sort(function(a, b) { return a.nav - b.nav; });\n            router.navigationModel(nav);\n\n            return router;\n        };\n\n        /**\n         * Configures how the router will handle unknown routes.\n         * @method mapUnknownRoutes\n         * @param {string|function} [config] If not supplied, then the router will map routes to modules with the same name.\n         * If a string is supplied, it represents the module id to route all unknown routes to.\n         * Finally, if config is a function, it will be called back with the route instruction containing the route info. The function can then modify the instruction by adding a moduleId and the router will take over from there.\n         * @param {string} [replaceRoute] If config is a module id, then you can optionally provide a route to replace the url with.\n         * @chainable\n         */\n        router.mapUnknownRoutes = function(config, replaceRoute) {\n            var catchAllRoute = \"*catchall\";\n            var catchAllPattern = routeStringToRegExp(catchAllRoute);\n\n            router.route(catchAllPattern, function (fragment, queryString) {\n                var paramInfo = createParams(catchAllPattern, fragment, queryString);\n                var instruction = {\n                    fragment: fragment,\n                    queryString: queryString,\n                    config: {\n                        route: catchAllRoute,\n                        routePattern: catchAllPattern\n                    },\n                    params: paramInfo.params,\n                    queryParams: paramInfo.queryParams\n                };\n\n                if (!config) {\n                    instruction.config.moduleId = fragment;\n                } else if (system.isString(config)) {\n                    instruction.config.moduleId = config;\n                    if(replaceRoute){\n                        history.navigate(replaceRoute, { trigger:false, replace:true });\n                    }\n                } else if (system.isFunction(config)) {\n                    var result = config(instruction);\n                    if (result && result.then) {\n                        result.then(function() {\n                            router.trigger('router:route:before-config', instruction.config, router);\n                            router.trigger('router:route:after-config', instruction.config, router);\n                            queueInstruction(instruction);\n                        });\n                        return;\n                    }\n                } else {\n                    instruction.config = config;\n                    instruction.config.route = catchAllRoute;\n                    instruction.config.routePattern = catchAllPattern;\n                }\n\n                router.trigger('router:route:before-config', instruction.config, router);\n                router.trigger('router:route:after-config', instruction.config, router);\n                queueInstruction(instruction);\n            });\n\n            return router;\n        };\n\n        /**\n         * Resets the router by removing handlers, routes, event handlers and previously configured options.\n         * @method reset\n         * @chainable\n         */\n        router.reset = function() {\n            currentInstruction = currentActivation = undefined;\n            router.handlers = [];\n            router.routes = [];\n            router.off();\n            delete router.options;\n            return router;\n        };\n\n        /**\n         * Makes all configured routes and/or module ids relative to a certain base url.\n         * @method makeRelative\n         * @param {string|object} settings If string, the value is used as the base for routes and module ids. If an object, you can specify `route` and `moduleId` separately. In place of specifying route, you can set `fromParent:true` to make routes automatically relative to the parent router's active route.\n         * @chainable\n         */\n        router.makeRelative = function(settings){\n            if(system.isString(settings)){\n                settings = {\n                    moduleId:settings,\n                    route:settings\n                };\n            }\n\n            if(settings.moduleId && !endsWith(settings.moduleId, '/')){\n                settings.moduleId += '/';\n            }\n\n            if(settings.route && !endsWith(settings.route, '/')){\n                settings.route += '/';\n            }\n\n            if(settings.fromParent){\n                router.relativeToParentRouter = true;\n            }\n\n            router.on('router:route:before-config').then(function(config){\n                if(settings.moduleId){\n                    config.moduleId = settings.moduleId + config.moduleId;\n                }\n\n                if(settings.route){\n                    if(config.route === ''){\n                        config.route = settings.route.substring(0, settings.route.length - 1);\n                    }else{\n                        config.route = settings.route + config.route;\n                    }\n                }\n            });\n\n            if (settings.dynamicHash) {\n                router.on('router:route:after-config').then(function (config) {\n                    config.routePattern = routeStringToRegExp(config.route ? settings.dynamicHash + '/' + config.route : settings.dynamicHash);\n                    config.dynamicHash = config.dynamicHash || ko.observable(config.hash);\n                });\n\n                router.on('router:route:before-child-routes').then(function(instance, instruction, parentRouter) {\n                    var childRouter = instance.router;\n\n                    for(var i = 0; i < childRouter.routes.length; i++) {\n                        var route = childRouter.routes[i];\n                        var params = instruction.params.slice(0);\n\n                        route.hash = childRouter.convertRouteToHash(route.route)\n                            .replace(namedParam, function(match) {\n                                return params.length > 0 ? params.shift() : match;\n                            });\n\n                        route.dynamicHash(route.hash);\n                    }\n                });\n            }\n\n            return router;\n        };\n\n        /**\n         * Creates a child router.\n         * @method createChildRouter\n         * @return {Router} The child router.\n         */\n        router.createChildRouter = function() {\n            var childRouter = createRouter();\n            childRouter.parent = router;\n            return childRouter;\n        };\n\n        return router;\n    };\n\n    /**\n     * @class RouterModule\n     * @extends Router\n     * @static\n     */\n    rootRouter = createRouter();\n    rootRouter.explicitNavigation = false;\n    rootRouter.navigatingBack = false;\n\n    /**\n     * Makes the RegExp generated for routes case sensitive, rather than the default of case insensitive.\n     * @method makeRoutesCaseSensitive\n     */\n    rootRouter.makeRoutesCaseSensitive = function(){\n        routesAreCaseSensitive = true;\n    };\n\n    /**\n     * Verify that the target is the current window\n     * @method targetIsThisWindow\n     * @return {boolean} True if the event's target is the current window, false otherwise.\n     */\n    rootRouter.targetIsThisWindow = function(event) {\n        var targetWindow = $(event.target).attr('target');\n\n        if (!targetWindow ||\n            targetWindow === window.name ||\n            targetWindow === '_self' ||\n            (targetWindow === 'top' && window === window.top)) { return true; }\n\n        return false;\n    };\n\n    /**\n     * Activates the router and the underlying history tracking mechanism.\n     * @method activate\n     * @return {Promise} A promise that resolves when the router is ready.\n     */\n    rootRouter.activate = function(options) {\n        return system.defer(function(dfd) {\n            startDeferred = dfd;\n            rootRouter.options = system.extend({ routeHandler: rootRouter.loadUrl }, rootRouter.options, options);\n\n            history.activate(rootRouter.options);\n\n            if(history._hasPushState){\n                var routes = rootRouter.routes,\n                    i = routes.length;\n\n                while(i--){\n                    var current = routes[i];\n                    current.hash = current.hash.replace('#', '/');\n                }\n            }\n\n            var rootStripper = rootRouter.options.root && new RegExp(\"^\" + rootRouter.options.root + \"/\");\n\n            $(document).delegate(\"a\", 'click', function(evt){\n                if(history._hasPushState){\n                    if(!evt.altKey && !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && rootRouter.targetIsThisWindow(evt)){\n                        var href = $(this).attr(\"href\");\n\n                        // Ensure the protocol is not part of URL, meaning its relative.\n                        // Stop the event bubbling to ensure the link will not cause a page refresh.\n                        if (href != null && !(href.charAt(0) === \"#\" || /^[a-z]+:/i.test(href))) {\n                            rootRouter.explicitNavigation = true;\n                            evt.preventDefault();\n\n                            if (rootStripper) {\n                                href = href.replace(rootStripper, \"\");\n                            }\n\n                            history.navigate(href);\n                        }\n                    }\n                }else{\n                    rootRouter.explicitNavigation = true;\n                }\n            });\n\n            if(history.options.silent && startDeferred){\n                startDeferred.resolve();\n                startDeferred = null;\n            }\n        }).promise();\n    };\n\n    /**\n     * Disable history, perhaps temporarily. Not useful in a real app, but possibly useful for unit testing Routers.\n     * @method deactivate\n     */\n    rootRouter.deactivate = function() {\n        history.deactivate();\n    };\n\n    /**\n     * Installs the router's custom ko binding handler.\n     * @method install\n     */\n    rootRouter.install = function(){\n        ko.bindingHandlers.router = {\n            init: function() {\n                return { controlsDescendantBindings: true };\n            },\n            update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n                var settings = ko.utils.unwrapObservable(valueAccessor()) || {};\n\n                if (settings.__router__) {\n                    settings = {\n                        model:settings.activeItem(),\n                        attached:settings.attached,\n                        compositionComplete:settings.compositionComplete,\n                        activate: false\n                    };\n                } else {\n                    var theRouter = ko.utils.unwrapObservable(settings.router || viewModel.router) || rootRouter;\n                    settings.model = theRouter.activeItem();\n                    settings.attached = theRouter.attached;\n                    settings.compositionComplete = theRouter.compositionComplete;\n                    settings.activate = false;\n                }\n\n                composition.compose(element, settings, bindingContext);\n            }\n        };\n\n        ko.virtualElements.allowedBindings.router = true;\n    };\n\n    return rootRouter;\n});\n\n",
    "/*!\n * Bootstrap v3.3.1 (http://getbootstrap.com)\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap's JavaScript requires jQuery\");+function(a){var b=a.fn.jquery.split(\" \")[0].split(\".\");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error(\"Bootstrap's JavaScript requires jQuery version 1.9.1 or higher\")}(jQuery),+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(\"bsTransitionEnd\",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var c=a(this),e=c.data(\"bs.alert\");e||c.data(\"bs.alert\",e=new d(this)),\"string\"==typeof b&&e[b].call(c)})}var c='[data-dismiss=\"alert\"]',d=function(b){a(b).on(\"click\",c,this.close)};d.VERSION=\"3.3.1\",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger(\"closed.bs.alert\").remove()}var e=a(this),f=e.attr(\"data-target\");f||(f=e.attr(\"href\"),f=f&&f.replace(/.*(?=#[^\\s]*$)/,\"\"));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(\".alert\")),g.trigger(b=a.Event(\"close.bs.alert\")),b.isDefaultPrevented()||(g.removeClass(\"in\"),a.support.transition&&g.hasClass(\"fade\")?g.one(\"bsTransitionEnd\",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on(\"click.bs.alert.data-api\",c,d.prototype.close)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.button\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.button\",e=new c(this,f)),\"toggle\"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION=\"3.3.1\",c.DEFAULTS={loadingText:\"loading...\"},c.prototype.setState=function(b){var c=\"disabled\",d=this.$element,e=d.is(\"input\")?\"val\":\"html\",f=d.data();b+=\"Text\",null==f.resetText&&d.data(\"resetText\",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),\"loadingText\"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle=\"buttons\"]');if(b.length){var c=this.$element.find(\"input\");\"radio\"==c.prop(\"type\")&&(c.prop(\"checked\")&&this.$element.hasClass(\"active\")?a=!1:b.find(\".active\").removeClass(\"active\")),a&&c.prop(\"checked\",!this.$element.hasClass(\"active\")).trigger(\"change\")}else this.$element.attr(\"aria-pressed\",!this.$element.hasClass(\"active\"));a&&this.$element.toggleClass(\"active\")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',function(c){var d=a(c.target);d.hasClass(\"btn\")||(d=d.closest(\".btn\")),b.call(d,\"toggle\"),c.preventDefault()}).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',function(b){a(b.target).closest(\".btn\").toggleClass(\"focus\",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.carousel\"),f=a.extend({},c.DEFAULTS,d.data(),\"object\"==typeof b&&b),g=\"string\"==typeof b?b:f.slide;e||d.data(\"bs.carousel\",e=new c(this,f)),\"number\"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on(\"keydown.bs.carousel\",a.proxy(this.keydown,this)),\"hover\"==this.options.pause&&!(\"ontouchstart\"in document.documentElement)&&this.$element.on(\"mouseenter.bs.carousel\",a.proxy(this.pause,this)).on(\"mouseleave.bs.carousel\",a.proxy(this.cycle,this))};c.VERSION=\"3.3.1\",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(\".item\"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=\"prev\"==a?-1:1,d=this.getItemIndex(b),e=(d+c)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(\".item.active\"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?\"next\":\"prev\",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},c.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},c.prototype.slide=function(b,d){var e=this.$element.find(\".item.active\"),f=d||this.getItemForDirection(b,e),g=this.interval,h=\"next\"==b?\"left\":\"right\",i=\"next\"==b?\"first\":\"last\",j=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(\".item\")[i]()}if(f.hasClass(\"active\"))return this.sliding=!1;var k=f[0],l=a.Event(\"slide.bs.carousel\",{relatedTarget:k,direction:h});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(\".active\").removeClass(\"active\");var m=a(this.$indicators.children()[this.getItemIndex(f)]);m&&m.addClass(\"active\")}var n=a.Event(\"slid.bs.carousel\",{relatedTarget:k,direction:h});return a.support.transition&&this.$element.hasClass(\"slide\")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one(\"bsTransitionEnd\",function(){f.removeClass([b,h].join(\" \")).addClass(\"active\"),e.removeClass([\"active\",h].join(\" \")),j.sliding=!1,setTimeout(function(){j.$element.trigger(n)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass(\"active\"),f.addClass(\"active\"),this.sliding=!1,this.$element.trigger(n)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr(\"data-target\")||(d=e.attr(\"href\"))&&d.replace(/.*(?=#[^\\s]+$)/,\"\"));if(f.hasClass(\"carousel\")){var g=a.extend({},f.data(),e.data()),h=e.attr(\"data-slide-to\");h&&(g.interval=!1),b.call(f,g),h&&f.data(\"bs.carousel\").to(h),c.preventDefault()}};a(document).on(\"click.bs.carousel.data-api\",\"[data-slide]\",e).on(\"click.bs.carousel.data-api\",\"[data-slide-to]\",e),a(window).on(\"load\",function(){a('[data-ride=\"carousel\"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){\"use strict\";function b(b){var c,d=b.attr(\"data-target\")||(c=b.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data(\"bs.collapse\"),f=a.extend({},d.DEFAULTS,c.data(),\"object\"==typeof b&&b);!e&&f.toggle&&\"show\"==b&&(f.toggle=!1),e||c.data(\"bs.collapse\",e=new d(this,f)),\"string\"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href=\"#'+b.id+'\"], [data-target=\"#'+b.id+'\"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION=\"3.3.1\",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle=\"collapse\"]'},d.prototype.dimension=function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var b,e=this.$parent&&this.$parent.find(\"> .panel\").children(\".in, .collapsing\");if(!(e&&e.length&&(b=e.data(\"bs.collapse\"),b&&b.transitioning))){var f=a.Event(\"show.bs.collapse\");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,\"hide\"),b||e.data(\"bs.collapse\",null));var g=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[g](0).attr(\"aria-expanded\",!0),this.$trigger.removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.transitioning=1;var h=function(){this.$element.removeClass(\"collapsing\").addClass(\"collapse in\")[g](\"\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!a.support.transition)return h.call(this);var i=a.camelCase([\"scroll\",g].join(\"-\"));this.$element.one(\"bsTransitionEnd\",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var b=a.Event(\"hide.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse in\").attr(\"aria-expanded\",!1),this.$trigger.addClass(\"collapsed\").attr(\"aria-expanded\",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")};return a.support.transition?void this.$element[c](0).one(\"bsTransitionEnd\",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"'+this.options.parent+'\"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass(\"in\");a.attr(\"aria-expanded\",c),b.toggleClass(\"collapsed\",!c).attr(\"aria-expanded\",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',function(d){var e=a(this);e.attr(\"data-target\")||d.preventDefault();var f=b(e),g=f.data(\"bs.collapse\"),h=g?\"toggle\":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){\"use strict\";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass(\"open\")&&(e.trigger(b=a.Event(\"hide.bs.dropdown\",f)),b.isDefaultPrevented()||(d.attr(\"aria-expanded\",\"false\"),e.removeClass(\"open\").trigger(\"hidden.bs.dropdown\",f)))}))}function c(b){var c=b.attr(\"data-target\");c||(c=b.attr(\"href\"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\"));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data(\"bs.dropdown\");d||c.data(\"bs.dropdown\",d=new g(this)),\"string\"==typeof b&&d[b].call(c)})}var e=\".dropdown-backdrop\",f='[data-toggle=\"dropdown\"]',g=function(b){a(b).on(\"click.bs.dropdown\",this.toggle)};g.VERSION=\"3.3.1\",g.prototype.toggle=function(d){var e=a(this);if(!e.is(\".disabled, :disabled\")){var f=c(e),g=f.hasClass(\"open\");if(b(),!g){\"ontouchstart\"in document.documentElement&&!f.closest(\".navbar-nav\").length&&a('<div class=\"dropdown-backdrop\"/>').insertAfter(a(this)).on(\"click\",b);var h={relatedTarget:this};if(f.trigger(d=a.Event(\"show.bs.dropdown\",h)),d.isDefaultPrevented())return;e.trigger(\"focus\").attr(\"aria-expanded\",\"true\"),f.toggleClass(\"open\").trigger(\"shown.bs.dropdown\",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(\".disabled, :disabled\")){var e=c(d),g=e.hasClass(\"open\");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger(\"focus\"),d.trigger(\"click\");var h=\" li:not(.divider):visible a\",i=e.find('[role=\"menu\"]'+h+', [role=\"listbox\"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger(\"focus\")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on(\"click.bs.dropdown.data-api\",b).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\"click.bs.dropdown.data-api\",f,g.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",f,g.prototype.keydown).on(\"keydown.bs.dropdown.data-api\",'[role=\"menu\"]',g.prototype.keydown).on(\"keydown.bs.dropdown.data-api\",'[role=\"listbox\"]',g.prototype.keydown)}(jQuery),+function(a){\"use strict\";function b(b,d){return this.each(function(){var e=a(this),f=e.data(\"bs.modal\"),g=a.extend({},c.DEFAULTS,e.data(),\"object\"==typeof b&&b);f||e.data(\"bs.modal\",f=new c(this,g)),\"string\"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(\".modal-content\").load(this.options.remote,a.proxy(function(){this.$element.trigger(\"loaded.bs.modal\")},this))};c.VERSION=\"3.3.1\",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event(\"show.bs.modal\",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass(\"modal-open\"),this.escape(),this.resize(),this.$element.on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass(\"fade\");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass(\"in\").attr(\"aria-hidden\",!1),d.enforceFocus();var f=a.Event(\"shown.bs.modal\",{relatedTarget:b});e?d.$element.find(\".modal-dialog\").one(\"bsTransitionEnd\",function(){d.$element.trigger(\"focus\").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger(\"focus\").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event(\"hide.bs.modal\"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").attr(\"aria-hidden\",!0).off(\"click.dismiss.bs.modal\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(\"bsTransitionEnd\",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger(\"focus\")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keydown.dismiss.bs.modal\",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off(\"keydown.dismiss.bs.modal\")},c.prototype.resize=function(){this.isShown?a(window).on(\"resize.bs.modal\",a.proxy(this.handleUpdate,this)):a(window).off(\"resize.bs.modal\")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass(\"modal-open\"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger(\"hidden.bs.modal\")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class=\"modal-backdrop '+e+'\" />').prependTo(this.$element).on(\"click.dismiss.bs.modal\",a.proxy(function(a){a.target===a.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!b)return;f?this.$backdrop.one(\"bsTransitionEnd\",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass(\"in\");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(\"bsTransitionEnd\",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css(\"height\",0).css(\"height\",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:\"\",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:\"\"})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:\"\",paddingRight:\"\"})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css(\"padding-right\")||0,10);this.bodyIsOverflowing&&this.$body.css(\"padding-right\",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css(\"padding-right\",\"\")},c.prototype.measureScrollbar=function(){var a=document.createElement(\"div\");a.className=\"modal-scrollbar-measure\",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(c){var d=a(this),e=d.attr(\"href\"),f=a(d.attr(\"data-target\")||e&&e.replace(/.*(?=#[^\\s]+$)/,\"\")),g=f.data(\"bs.modal\")?\"toggle\":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is(\"a\")&&c.preventDefault(),f.one(\"show.bs.modal\",function(a){a.isDefaultPrevented()||f.one(\"hidden.bs.modal\",function(){d.is(\":visible\")&&d.trigger(\"focus\")})}),b.call(f,g,this)})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tooltip\"),f=\"object\"==typeof b&&b,g=f&&f.selector;(e||\"destroy\"!=b)&&(g?(e||d.data(\"bs.tooltip\",e={}),e[g]||(e[g]=new c(this,f))):e||d.data(\"bs.tooltip\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init(\"tooltip\",a,b)};c.VERSION=\"3.3.1\",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1,viewport:{selector:\"body\",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(\" \"),f=e.length;f--;){var g=e[f];if(\"click\"==g)this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this));else if(\"manual\"!=g){var h=\"hover\"==g?\"mouseenter\":\"focusin\",i=\"hover\"==g?\"mouseleave\":\"focusout\";this.$element.on(h+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+\".\"+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&\"number\"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c&&c.$tip&&c.$tip.is(\":visible\")?void(c.hoverState=\"in\"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),clearTimeout(c.timeout),c.hoverState=\"in\",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){\"in\"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),clearTimeout(c.timeout),c.hoverState=\"out\",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){\"out\"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr(\"id\",g),this.$element.attr(\"aria-describedby\",g),this.options.animation&&f.addClass(\"fade\");var h=\"function\"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\\s?auto?\\s?/i,j=i.test(h);j&&(h=h.replace(i,\"\")||\"top\"),f.detach().css({top:0,left:0,display:\"block\"}).addClass(h).data(\"bs.\"+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h=\"bottom\"==h&&k.bottom+m>p.bottom?\"top\":\"top\"==h&&k.top-m<p.top?\"bottom\":\"right\"==h&&k.right+l>p.width?\"left\":\"left\"==h&&k.left-l<p.left?\"right\":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger(\"shown.bs.\"+e.type),e.hoverState=null,\"out\"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css(\"margin-top\"),10),h=parseInt(d.css(\"margin-left\"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass(\"in\");var i=d[0].offsetWidth,j=d[0].offsetHeight;\"top\"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?\"offsetWidth\":\"offsetHeight\";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?\"left\":\"top\",50*(1-a/b)+\"%\").css(c?\"top\":\"left\",\"\")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},c.prototype.hide=function(b){function d(){\"in\"!=e.hoverState&&f.detach(),e.$element.removeAttr(\"aria-describedby\").trigger(\"hidden.bs.\"+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event(\"hide.bs.\"+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass(\"in\"),a.support.transition&&this.$tip.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr(\"title\")||\"string\"!=typeof a.attr(\"data-original-title\"))&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d=\"BODY\"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return\"bottom\"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:\"top\"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:\"left\"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(\"function\"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data(\"bs.\"+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c))),c.tip().hasClass(\"in\")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off(\".\"+a.type).removeData(\"bs.\"+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.popover\"),f=\"object\"==typeof b&&b,g=f&&f.selector;(e||\"destroy\"!=b)&&(g?(e||d.data(\"bs.popover\",e={}),e[g]||(e[g]=new c(this,f))):e||d.data(\"bs.popover\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.init(\"popover\",a,b)};if(!a.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");c.VERSION=\"3.3.1\",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\").children().detach().end()[this.options.html?\"string\"==typeof c?\"html\":\"append\":\"text\"](c),a.removeClass(\"fade top bottom left right in\"),a.find(\".popover-title\").html()||a.find(\".popover-title\").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr(\"data-content\")||(\"function\"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){\"use strict\";function b(c,d){var e=a.proxy(this.process,this);this.$body=a(\"body\"),this.$scrollElement=a(a(c).is(\"body\")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||\"\")+\" .nav li > a\",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on(\"scroll.bs.scrollspy\",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data(\"bs.scrollspy\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.scrollspy\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})}b.VERSION=\"3.3.1\",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=\"offset\",c=0;a.isWindow(this.$scrollElement[0])||(b=\"position\",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data(\"target\")||d.attr(\"href\"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(\":visible\")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',d=a(c).parents(\"li\").addClass(\"active\");d.parent(\".dropdown-menu\").length&&(d=d.closest(\"li.dropdown\").addClass(\"active\")),d.trigger(\"activate.bs.scrollspy\")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,\".active\").removeClass(\"active\")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on(\"load.bs.scrollspy.data-api\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tab\");e||d.data(\"bs.tab\",e=new c(this)),\"string\"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION=\"3.3.1\",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.data(\"target\");if(d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),!b.parent(\"li\").hasClass(\"active\")){var e=c.find(\".active:last a\"),f=a.Event(\"hide.bs.tab\",{relatedTarget:b[0]}),g=a.Event(\"show.bs.tab\",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest(\"li\"),c),this.activate(h,h.parent(),function(){e.trigger({type:\"hidden.bs.tab\",relatedTarget:b[0]}),b.trigger({type:\"shown.bs.tab\",relatedTarget:e[0]})\n})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!1),b.addClass(\"active\").find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),h?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\")&&b.closest(\"li.dropdown\").addClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),e&&e()}var g=d.find(\"> .active\"),h=e&&a.support.transition&&(g.length&&g.hasClass(\"fade\")||!!d.find(\"> .fade\").length);g.length&&h?g.one(\"bsTransitionEnd\",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass(\"in\")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),\"show\")};a(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"]',e).on(\"click.bs.tab.data-api\",'[data-toggle=\"pill\"]',e)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.affix\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.affix\",e=new c(this,f)),\"string\"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on(\"scroll.bs.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION=\"3.3.1\",c.RESET=\"affix affix-top affix-bottom\",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&\"top\"==this.affixed)return c>e?\"top\":!1;if(\"bottom\"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:\"bottom\":a-d>=e+g?!1:\"bottom\";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=i?\"top\":null!=d&&i+j>=a-d?\"bottom\":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass(\"affix\");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a(\"body\").height();\"object\"!=typeof d&&(f=e=d),\"function\"==typeof e&&(e=d.top(this.$element)),\"function\"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css(\"top\",\"\");var i=\"affix\"+(h?\"-\"+h:\"\"),j=a.Event(i+\".bs.affix\");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin=\"bottom\"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace(\"affix\",\"affixed\")+\".bs.affix\")}\"bottom\"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);\ndefine(\"bootstrap\", [\"jquery\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.jQuery;\n    };\n}(this)));\n\n",
    "define('viewmodels/shell',['durandal/app', 'plugins/router', 'knockout', 'dataContext', 'userContext', 'bootstrap'], function (app, router, ko, dataContext, userContext) {\r\n    var\r\n        newSubject = ko.observable(),\r\n        isBusy = ko.observable(false),\r\n        removingSubjectData = ko.observable(false),\r\n        subjects = ko.observableArray();\r\n\r\n    return {\r\n        newSubject: newSubject,\r\n        subjects: subjects,\r\n        userName: userContext.userName,\r\n        isBusy: isBusy,\r\n        removingSubjectData: removingSubjectData,\r\n        \r\n        refreshSubjects: refreshSubjects,\r\n        addNewSubject: addNewSubject,\r\n        removeSubject: removeSubject,\r\n        logOut: logOut,\r\n\r\n        router: router,\r\n        canActivate: function () { return userContext.session() ? true : { redirect: 'signin' }; },\r\n        activate: function () {\r\n            router.map([\r\n                { route: ['', 'organizer'], title: 'Organizer', moduleId: 'viewmodels/organizer', icon: 'tasks', nav: true },\r\n                { route: 'schedule', title: 'Schedule', moduleId: 'viewmodels/schedule', icon: 'calendar', nav: true },\r\n                { route: 'subjects/:name*sections', title: 'Subjects', moduleId: 'viewmodels/subject/shell', hash: '#subjects/:name', icon: 'book', nav: false },\r\n\r\n                { route: 'signin', title: 'Sign in', moduleId: 'viewmodels/signin', nav: false },\r\n                { route: 'signup', title: 'Sign up', moduleId: 'viewmodels/signup', nav: false },\r\n                { route: '404', title: 'Page not found', moduleId: 'viewmodels/404', nav: false }\r\n            ]).buildNavigationModel()\r\n              .mapUnknownRoutes('viewmodels/404', 'not-found');\r\n\r\n            return router.activate();\r\n        }\r\n    };\r\n\r\n    function refreshSubjects() {\r\n        subjects([]);\r\n        isBusy(true);\r\n\r\n        dataContext.getCollection({ className: 'Subject' })\r\n            .then(function (recievedSubjects) {\r\n                subjects(recievedSubjects);\r\n                subjects.sort(function (a, b) { return a.name.localeCompare(b.name); });\r\n\r\n                isBusy(false);\r\n            });\r\n    }\r\n    function addNewSubject() {\r\n        return dataContext.add({\r\n            className: 'Subject',\r\n            data: { name: newSubject() }\r\n        }).then(function (objectId) {\r\n            router.navigate('subjects/' + newSubject());\r\n            subjects.push({ name: newSubject(), objectId: objectId });\r\n            subjects.sort(function (a, b) { return a.name.localeCompare(b.name); });\r\n            newSubject('');\r\n        });\r\n    }\r\n    function removeSubject(subject) {\r\n        app.showMessage('Do you want to remove this subject and all related data?', '', ['No', 'Yes'], true)\r\n            .then(function (dialogResult) {\r\n                if (dialogResult == 'Yes') {\r\n                    var\r\n                        currantRoute = router.activeInstruction().fragment,\r\n                        redirectNeeded = (currantRoute === 'subjects/' + subject.name ||\r\n                                         ~currantRoute.indexOf('subjects/' + subject.name + '/'));\r\n                    \r\n                    return dataContext.remove({\r\n                        className: 'Subject',\r\n                        id: subject.objectId\r\n                    }).then(function () {\r\n                        subjects.remove(subject);\r\n                        removingSubjectData(true);\r\n                        return dataContext.removeCollection({ className: 'Task', queryConstraints: { subject: subject.name } });\r\n                    }).then(function () {\r\n                        return dataContext.removeCollection({ className: 'Event', queryConstraints: { subject: subject.name } });\r\n                    }).then(function () {\r\n                        return dataContext.removeCollection({ className: 'Notes', queryConstraints: { subject: subject.name } });\r\n                    }).then(function () {\r\n                        return dataContext.removeCollection({ className: 'Flashcards', queryConstraints: { deck: subject.name } });\r\n                    }).then(function () {\r\n                        removingSubjectData(false);\r\n                        if (redirectNeeded) { router.navigate(''); }\r\n                    });\r\n                } else {\r\n                    return;\r\n                }\r\n            });\r\n    }\r\n    function logOut() {\r\n        app.showMessage('Do you want to log out?', '', ['No', 'Yes'], true)\r\n            .then(function (dialogResult) {\r\n                if (dialogResult == 'Yes') {\r\n                    router.navigate('signin');\r\n                    userContext.logOut();\r\n                } else {\r\n                    return;\r\n                }\r\n            });\r\n    }\r\n});\n",
    "define('viewmodels/signin',['durandal/app', 'knockout', 'plugins/router', 'userContext'], function (app, ko, router, userContext) {\r\n\r\n    return {\r\n        username: ko.observable(),\r\n        password: ko.observable(),\r\n\r\n        submit: function () {\r\n            userContext.signin(this.username(), this.password())\r\n                .then(function () {\r\n                    router.navigate('');\r\n                })\r\n                .catch(function () {\r\n                    app.showMessage('Wrong username or password!', '', ['OK'], true);\r\n                });\r\n        },\r\n\r\n        canActivate: function () {\r\n            return userContext.session() ? { redirect: '' } : true;\r\n        },\r\n        deactivate: function () {\r\n            this.username('');\r\n            this.password('');\r\n        }\r\n    }\r\n\r\n});\n",
    "define('viewmodels/signup',['durandal/app', 'knockout', 'plugins/router', 'userContext'], function (app, ko, router, userContext) {\r\n\r\n    return {\r\n        username: ko.observable(),\r\n        password: ko.observable(),\r\n        passwordConfirm: ko.observable(),\r\n\r\n        submit: function () {\r\n            if (this.password() === this.passwordConfirm()) {\r\n                userContext.signup(this.username(), this.password())\r\n                    .then(function () {\r\n                        router.navigate('');\r\n                    })\r\n                    .catch(function () {\r\n                        app.showMessage('This username is already taken!', '', ['OK'], true);\r\n                    });\r\n            } else {\r\n                this.password('');\r\n                this.passwordConfirm('');\r\n            }\r\n        },\r\n\r\n        canActivate: function () {\r\n            return userContext.session() ? { redirect: '' } : true;\r\n        },\r\n        deactivate: function () {\r\n            this.username('');\r\n            this.password('');\r\n            this.passwordConfirm('');\r\n        }\r\n    }\r\n\r\n});\n",
    "define('viewmodels/subject/deck',['knockout', 'moment', 'dataContext', 'userContext', 'constructors/card'], function (ko, moment, dataContext, userContext, Card) {\r\n    var\r\n        subject = ko.observable(),\r\n        flashcards = ko.observableArray(),\r\n        cardToEdit = ko.observable(),\r\n        cardToSave = {\r\n            front: ko.observable(),\r\n            back: ko.observable()\r\n        },\r\n        isDirty = ko.computed(function () {\r\n            if (cardToEdit() && (cardToEdit().front() != cardToSave.front() || cardToEdit().back() != cardToSave.back())) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }),\r\n        isBusy = ko.observable(false);\r\n\r\n    return {\r\n        subject: subject,\r\n        flashcards: flashcards,\r\n        cardToSave: cardToSave,\r\n        cardToEdit: cardToEdit,\r\n        isDirty: isDirty,\r\n        isBusy: isBusy,\r\n\r\n        saveCard: saveCard,\r\n        editCard: editCard,\r\n        deleteCard: deleteCard,\r\n        resetState: resetState,\r\n\r\n        canActivate: function () {\r\n            return userContext.session() ? true : { redirect: 'signin' };\r\n        },\r\n        activate: function (subjectName) {\r\n            subject(subjectName);\r\n            return getCards();\r\n        }\r\n    };\r\n\r\n    function saveCard() {\r\n        isBusy(true);\r\n\r\n        if (cardToEdit()) {\r\n            updateCard().then(function () {\r\n                resetState();\r\n                isBusy(false);\r\n            });\r\n        } else {\r\n            addCard().then(function () {\r\n                resetState();\r\n                isBusy(false);\r\n            });\r\n        }\r\n    }\r\n    function editCard(card) {\r\n        cardToEdit(card);\r\n        cardToSave.front(card.front());\r\n        cardToSave.back(card.back());\r\n    }\r\n    function deleteCard(card) {\r\n        isBusy(true);\r\n\r\n        return dataContext.remove({\r\n            className: 'Flashcard',\r\n            id: card.objectId\r\n        }).then(function () {\r\n            flashcards.remove(card);\r\n            isBusy(false);\r\n        })\r\n    }\r\n    function resetState() {\r\n        cardToEdit(undefined);\r\n        cardToSave.front(undefined);\r\n        cardToSave.back(undefined);\r\n    }\r\n\r\n    function updateCard() {\r\n        var\r\n           updatedCard = {\r\n               front: cardToSave.front(),\r\n               back: cardToSave.back()\r\n           };\r\n\r\n        return dataContext.update({\r\n            className: 'Flashcard',\r\n            id: cardToEdit().objectId,\r\n            data: updatedCard\r\n        }).then(function () {\r\n            cardToEdit().front(cardToSave.front());\r\n            cardToEdit().back(cardToSave.back());\r\n        })\r\n    }\r\n    function addCard() {\r\n        var\r\n            createdCard = {\r\n                front: cardToSave.front(),\r\n                back: cardToSave.back(),\r\n                dueDate: moment(),\r\n                deck: subject()\r\n            };\r\n\r\n        return dataContext.add({\r\n            className: 'Flashcard',\r\n            data: createdCard\r\n        }).then(function (objectId) {\r\n            createdCard.objectId = objectId;\r\n            flashcards.unshift(new Card(createdCard));\r\n        })\r\n    }\r\n    function getCards() {\r\n        return dataContext.getCollection({\r\n            className: 'Flashcard',\r\n            queryConstraints: { deck: subject() }\r\n        }).then(function (cards) {\r\n            var\r\n                observableCards = [],\r\n                number = cards.length,\r\n                i;\r\n            for (i = 0; i < number; i++) {\r\n                observableCards.push(new Card(cards[i]));\r\n            }\r\n            observableCards.sort(function (first, second) {\r\n                return first.dueDate() - second.dueDate();\r\n            });\r\n            flashcards(observableCards);\r\n        });\r\n    }\r\n});\n",
    "define('viewmodels/subject/flashcards',['knockout', 'moment', 'dataContext', 'userContext', 'constructors/card', 'jquery'], function (ko, moment, dataContext, userContext, Card, $) {\n    var\n        subject = ko.observable(),\n        isAnswerVisible = ko.observable(false),\n        flashcards = ko.observableArray(),\n        currentCard = ko.observable();\n\n    return {\n        subject: subject,\n        flashcards: flashcards,\n        currentCard: currentCard,\n        isAnswerVisible: isAnswerVisible,\n\n        showNextCard: showNextCard,\n        reviewCard: reviewCard,\n\n        activate: function (subjectName) {\n            subject(subjectName);\n            return getCards();\n        }\n    };\n        \n    function showNextCard() {\n        var cardsLeft = flashcards().length;\n        if (cardsLeft) {\n            currentCard(flashcards()[cardsLeft - 1]);\n        } else {\n            currentCard('');\n        }\n        isAnswerVisible(false);\n    }\n    function reviewCard(grade) {\n        var\n            card = currentCard(),\n            rewiews = card.repetition,\n            newRepetition,\n            newInterval,\n            newEF,\n            newDueDate,\n            memorized = false;\n\n        if (grade >= 3) {\n            if (rewiews === 0) {\n                newRepetition = 1;\n                newInterval = 1;\n            } else if (rewiews === 1) {\n                newRepetition = 2;\n                newInterval = 6;\n            } else {\n                newRepetition = rewiews + 1;\n                newInterval = Math.round(card.interval * card.easinessFactor);\n            }\n            newDueDate = moment(card.dueDate()).add(newInterval, 'd');\n            memorized = true;\n        } else {\n            newRepetition = 0;\n            newInterval = 1;\n        }\n        newEF = card.easinessFactor + (0.1 - (5 - grade) * (0.08 + (5 - grade) * 0.02));\n        newEF = Math.round(newEF * 1000) / 1000;\n        newEF = (newEF < 1.3) ? 1.3 : newEF;\n\n        dataContext.update({\n            className: 'Flashcard',\n            id: card.objectId,\n            data: {\n                repetition: newRepetition,\n                interval: newInterval,\n                easinessFactor: newEF,\n                dueDate: newDueDate\n            }\n        }).then(function () {\n            card.repetition = newRepetition;\n            card.interval = newInterval;\n            card.easinessFactor = newEF;\n            card.dueDate(newDueDate);\n\n            flashcards.remove(card);\n            if (!memorized) {\n                flashcards.unshift(card);\n            }\n            showNextCard();\n        })\n    }\n\n    function getCards() {\n        return dataContext.getCollection({\n            className: 'Flashcard',\n            queryConstraints: { deck: subject(), dueDate: { \"$lte\": moment() } }\n        }).then(function (cards) {\n            var\n                observableCards = [],\n                number = cards.length,\n                i;\n            for (i = 0; i < number; i++) {\n                observableCards.push(new Card(cards[i]));\n            }\n            flashcards(observableCards);\n        });\n    }\n});\n",
    "define('viewmodels/subject/notes',['plugins/router', 'knockout', 'dataContext', 'userContext'], function (router, ko, dataContext, userContext) {\r\n    var\r\n        editor = ko.observable(),\r\n        subject = ko.observable(),\r\n        id = ko.observable(),\r\n        title = ko.observable(),\r\n        data = ko.observable(),\r\n        isBusy = ko.observable(false);\r\n\r\n    return {\r\n        title: title,\r\n        editor: editor,\r\n        isBusy: isBusy,\r\n\r\n        saveData: saveData,\r\n\r\n        activate: activate,\r\n        bindingComplete: bindingComplete\r\n    };\r\n\r\n    function activate(subjectName, objectId) {\r\n        subject(subjectName);\r\n        id(objectId);\r\n\r\n        return dataContext.getById({\r\n            className: 'Notes',\r\n            id: id()\r\n        }).then(function (conspect) {\r\n            data(conspect.data);\r\n            title(conspect.title);\r\n        });\r\n    }\r\n    function bindingComplete() {\r\n        editor().setData(data());\r\n    }\r\n\r\n    function saveData() {\r\n        isBusy(true);\r\n\r\n        return dataContext.update({\r\n            className: 'Notes',\r\n            id: id(),\r\n            data: { subject: subject(), data: editor().getData() }\r\n        }).then(function () {\r\n            isBusy(false);\r\n        });\r\n    }\r\n});\n",
    "define('viewmodels/subject/notesList',['durandal/app', 'knockout', 'moment', 'dataContext', 'userContext', 'viewmodels/modals/newNotes'], function (app, ko, moment, dataContext, userContext, NewNotesModal) {\r\n    var\r\n        subject = ko.observable(),\r\n        notesList = ko.observableArray(),\r\n        isBusy = ko.observable(false);\r\n\r\n    return {\r\n        subject: subject,\r\n        notesList: notesList,\r\n        isBusy: isBusy,\r\n\r\n        createNewNotes: createNewNotes,\r\n        removeNotes: removeNotes,\r\n\r\n        canActivate: function () {\r\n            return userContext.session() ? true : { redirect: 'signin' };\r\n        },\r\n        activate: activate\r\n    };\r\n\r\n    function activate(subjectName) {\r\n        subject(subjectName);\r\n\r\n        return dataContext.getCollection({\r\n            className: 'Notes',\r\n            queryConstraints: { subject: subject() }\r\n        }).then(function (recievedNotes) {\r\n            recievedNotes.sort(function (first, second) {\r\n                return moment(second.updatedAt) - moment(first.updatedAt);\r\n            });\r\n            notesList(recievedNotes);\r\n        });\r\n    }\r\n\r\n    function createNewNotes() {\r\n        var newNotes;\r\n\r\n        NewNotesModal.show()\r\n            .then(function (title) {\r\n                if (title) {\r\n                    isBusy(true);\r\n\r\n                    newNotes = {\r\n                        title: title,\r\n                        subject: subject(),\r\n                        data: ''\r\n                    };\r\n                    dataContext.add({\r\n                        className: 'Notes',\r\n                        data: newNotes\r\n                    }).then(function (id, createdAt) {\r\n                        newNotes.objectId = id;\r\n                        newNotes.updatedAt = createdAt;\r\n                        notesList.unshift(newNotes);\r\n\r\n                        isBusy(false);\r\n                    });\r\n                }\r\n            });\r\n    }\r\n    function removeNotes(notes) {\r\n        app.showMessage('Do you want to remove this notes?', '', ['No', 'Yes'], true)\r\n            .then(function (dialogResult) {\r\n                if (dialogResult == 'Yes') {\r\n                    isBusy(true);\r\n\r\n                    dataContext.remove({\r\n                        className: 'Notes',\r\n                        id: notes.objectId\r\n                    }).then(function () {\r\n                        notesList.remove(notes);\r\n\r\n                        isBusy(false);\r\n                    });\r\n                } else {\r\n                    return;\r\n                }\r\n            });\r\n    }\r\n});\n",
    "define('viewmodels/subject/planner',['userContext'], function (userContext) {\n    return {\n\n        /// TODO : \n        ///         1) check 'canActivate' on child routes\n        ///         2) chacge 404-page on sub-shell\n        ///         3) check 404-page when not signed-in\n        ///         4) response from server on sign-in/sign-up\n\n        activate: function (subjectName) {\n            this.subject = subjectName;\n        }\n    };\n});\n",
    "define('viewmodels/subject/shell',['plugins/router', 'durandal/app', 'knockout', 'dataContext', 'userContext'], function (router, app, ko, dataContext, userContext) {\r\n    var subject = ko.observable(),\r\n\r\n        childRouter = router.createChildRouter()\r\n        .makeRelative({\r\n            moduleId: 'viewmodels/subject',\r\n            fromParent: true,\r\n            dynamicHash: ':name'\r\n        })\r\n        .map([\r\n            { route: ['', 'planner'], moduleId: 'planner', title: 'Planner', nav: true },\r\n            { route: 'allnotes', moduleId: 'notesList', title: 'Notes', nav: true },\r\n            { route: 'notes/:id', moduleId: 'notes', title: 'Notes', nav: false },\r\n            { route: 'flashcards', moduleId: 'flashcards', title: 'Flashcards', nav: true },\r\n            { route: 'deck', moduleId: 'deck', title: 'Deck', nav: false }\r\n        ]).buildNavigationModel()\r\n          .mapUnknownRoutes('../../viewmodels/404', 'subject/not-found');\r\n\r\n    return {\r\n        router: childRouter,\r\n        subject: subject,\r\n\r\n        deleteSubject: deleteSubject,\r\n\r\n        canActivate: canActivate\r\n    };\r\n\r\n    function canActivate(subjectName) {\r\n        if (userContext.session()) {\r\n            return dataContext.doesSubjectExist(subjectName)\r\n                .then(function (exists) {\r\n                    if (exists) {\r\n                        subject(subjectName);\r\n                        return true;\r\n                    }\r\n                    return { redirect: '404' };\r\n                });\r\n        } else {\r\n            return { redirect: 'signin' };\r\n        }\r\n    }\r\n\r\n    function deleteSubject() {\r\n        app.showMessage('Do you want to remove this subject?', '', ['No', 'Yes'], true)\r\n            .then(function (dialogResult) {\r\n                if (dialogResult == 'Yes') {\r\n                    dataContext.removeSubject(subject())\r\n                        .then(function () {\r\n                            router.navigate('');\r\n                        });\r\n                } else {\r\n                    return;\r\n                }\r\n            });\r\n    }\r\n});\n",
    "define('viewmodels/tasks',['knockout', 'moment', 'dataContext', 'constructors/task', 'viewmodels/modals/editTask'], function (ko, moment, dataContext, Task, EditTaskModal) {\r\n    var\r\n        subject = ko.observable(),\r\n        tasks = ko.observableArray(),\r\n        importantTasks = ko.computed(function () { return filterTasks({ important: true }); }),\r\n        unimportantTasks = ko.computed(function () { return filterTasks({ important: false }); }),\r\n        selectedDate = ko.observable(),\r\n        dateSubscr,\r\n        isBusy = ko.observable(false);\r\n\r\n    return {\r\n        subject: subject,\r\n        importantTasks: importantTasks,\r\n        unimportantTasks: unimportantTasks,\r\n        isBusy: isBusy,\r\n\r\n        editTask: editTask,\r\n        deleteTask: deleteTask,\r\n\r\n        activate: activate,\r\n        detached: detached\r\n    };\r\n\r\n    function activate(activationData) {\r\n        var queryConstraints = {};\r\n\r\n        if (activationData.subject) {\r\n            subject(activationData.subject);\r\n            selectedDate(moment({ h: 0, m: 0, s: 0, ms: 0 }));\r\n            queryConstraints.subject = subject();\r\n        }\r\n        if (activationData.date) {\r\n            subject('');\r\n            selectedDate(activationData.date());\r\n            queryConstraints.date = selectedDate();\r\n\r\n            dateSubscr = activationData.date.subscribe(function (newDate) {\r\n                isBusy(true);\r\n\r\n                selectedDate(newDate);\r\n                getTasks({ date: newDate }).then(function () {\r\n                    isBusy(false);\r\n                });\r\n            });\r\n        }\r\n\r\n        return getTasks(queryConstraints);\r\n    }\r\n    function detached() {\r\n        if (dateSubscr) {\r\n            dateSubscr.dispose();\r\n        }\r\n        selectedDate(undefined);\r\n        subject(undefined);\r\n    }\r\n\r\n    function editTask(oldTask) {\r\n        if (!oldTask.objectId) {\r\n            EditTaskModal.show(new Task({\r\n                date: selectedDate(),\r\n                subject: subject()\r\n            })).then(function (createdTask) {\r\n                if (createdTask) {\r\n                    isBusy(true);\r\n\r\n                    addTask(createdTask).then(function () {\r\n                        isBusy(false);\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            EditTaskModal.show(oldTask)\r\n                .then(function (updatedTask) {\r\n                    if (updatedTask) {\r\n                        isBusy(true);\r\n\r\n                        updateTask(updatedTask, oldTask).then(function () {\r\n                            isBusy(false);\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n    }\r\n    function deleteTask(task) {\r\n        isBusy(true);\r\n\r\n        return dataContext.remove({\r\n            className: 'Task',\r\n            id: task.objectId()\r\n        }).then(function () {\r\n            tasks.remove(task);\r\n\r\n            if (!subject() && task.important()) {\r\n                dataContext.correctImportantDays(false, task.date());\r\n            }\r\n            isBusy(false);\r\n        })\r\n    }\r\n\r\n    function getTasks(queryConstraints) {\r\n        return dataContext.getCollection({\r\n            className: 'Task',\r\n            queryConstraints: queryConstraints\r\n        }).then(function (recivedTasks) {\r\n            var observableTasks = [],\r\n                number = recivedTasks.length,\r\n                i;\r\n            for (i = 0; i < number; i++) {\r\n                observableTasks.push(new Task(recivedTasks[i]));\r\n            }\r\n            tasks(observableTasks);\r\n        });\r\n    }\r\n    function filterTasks(options) {\r\n        var\r\n            filteredTasks = ko.utils.arrayFilter(tasks(), function (task) {\r\n                return options.important ? task.important() : !task.important();\r\n            });\r\n\r\n        return subject() ? filteredTasks.sort(function (first, second) { return first.date() - second.date(); })\r\n            : filteredTasks;\r\n    }\r\n    function addTask(createdTask) {\r\n        return dataContext.add({\r\n            className: 'Task',\r\n            data: createdTask\r\n        }).then(function (objectId) {\r\n            createdTask.objectId = objectId;\r\n            tasks.push(new Task(createdTask));\r\n\r\n            if (!subject() && createdTask.important) {\r\n                dataContext.correctImportantDays(true, createdTask.date);\r\n            }\r\n            return objectId;\r\n        })\r\n    }\r\n    function updateTask(updatedTask, oldTask) {\r\n        return dataContext.update({\r\n            className: 'Task',\r\n            id: oldTask.objectId(),\r\n            data: updatedTask\r\n        }).then(function () {\r\n\r\n            if (!subject()) {\r\n                if (updatedTask.date.toString() != oldTask.date().toString()) {\r\n                    dataContext.correctImportantDays(false, oldTask.date());\r\n                    dataContext.correctImportantDays(updatedTask.important, updatedTask.date);\r\n\r\n                    tasks.remove(oldTask);\r\n                } else\r\n                    if (updatedTask.important != oldTask.important()) {\r\n                        dataContext.correctImportantDays(updatedTask.important, updatedTask.date);\r\n                    }\r\n            }\r\n\r\n            for (var data in updatedTask) {\r\n                oldTask[data](updatedTask[data]);\r\n            }\r\n        });\r\n    }\r\n});\n",
    "define('viewmodels/timepicker',[],function () {\r\n    var\r\n        hh = (function () {\r\n            var hours = [], hour, i;\r\n            for (i = 0; i < 24; i++) {\r\n                hour = (i < 10) ? '0' + i : '' + i;\r\n                hours.push(hour);\r\n            }\r\n            return hours;\r\n        })(),\r\n        mm = (function () {\r\n            var minutes = [], minute, i;\r\n            for (i = 0; i < 60; i += 5) {\r\n                minute = (i < 10) ? '0' + i : '' + i;\r\n                minutes.push(minute);\r\n            }\r\n            return minutes;\r\n        })();\r\n\r\n    return {\r\n        hh: hh,\r\n        mm: mm\r\n    };\r\n});\n",
    "/*\r\nCopyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\r\nFor licensing, see LICENSE.html or http://ckeditor.com/license\r\n*/\nCKEDITOR.lang['en']={\"editor\":\"Rich Text Editor\",\"editorPanel\":\"Rich Text Editor panel\",\"common\":{\"editorHelp\":\"Press ALT 0 for help\",\"browseServer\":\"Browse Server\",\"url\":\"URL\",\"protocol\":\"Protocol\",\"upload\":\"Upload\",\"uploadSubmit\":\"Send it to the Server\",\"image\":\"Image\",\"flash\":\"Flash\",\"form\":\"Form\",\"checkbox\":\"Checkbox\",\"radio\":\"Radio Button\",\"textField\":\"Text Field\",\"textarea\":\"Textarea\",\"hiddenField\":\"Hidden Field\",\"button\":\"Button\",\"select\":\"Selection Field\",\"imageButton\":\"Image Button\",\"notSet\":\"<not set>\",\"id\":\"Id\",\"name\":\"Name\",\"langDir\":\"Language Direction\",\"langDirLtr\":\"Left to Right (LTR)\",\"langDirRtl\":\"Right to Left (RTL)\",\"langCode\":\"Language Code\",\"longDescr\":\"Long Description URL\",\"cssClass\":\"Stylesheet Classes\",\"advisoryTitle\":\"Advisory Title\",\"cssStyle\":\"Style\",\"ok\":\"OK\",\"cancel\":\"Cancel\",\"close\":\"Close\",\"preview\":\"Preview\",\"resize\":\"Resize\",\"generalTab\":\"General\",\"advancedTab\":\"Advanced\",\"validateNumberFailed\":\"This value is not a number.\",\"confirmNewPage\":\"Any unsaved changes to this content will be lost. Are you sure you want to load new page?\",\"confirmCancel\":\"You have changed some options. Are you sure you want to close the dialog window?\",\"options\":\"Options\",\"target\":\"Target\",\"targetNew\":\"New Window (_blank)\",\"targetTop\":\"Topmost Window (_top)\",\"targetSelf\":\"Same Window (_self)\",\"targetParent\":\"Parent Window (_parent)\",\"langDirLTR\":\"Left to Right (LTR)\",\"langDirRTL\":\"Right to Left (RTL)\",\"styles\":\"Style\",\"cssClasses\":\"Stylesheet Classes\",\"width\":\"Width\",\"height\":\"Height\",\"align\":\"Alignment\",\"alignLeft\":\"Left\",\"alignRight\":\"Right\",\"alignCenter\":\"Center\",\"alignJustify\":\"Justify\",\"alignTop\":\"Top\",\"alignMiddle\":\"Middle\",\"alignBottom\":\"Bottom\",\"alignNone\":\"None\",\"invalidValue\":\"Invalid value.\",\"invalidHeight\":\"Height must be a number.\",\"invalidWidth\":\"Width must be a number.\",\"invalidCssLength\":\"Value specified for the \\\"%1\\\" field must be a positive number with or without a valid CSS measurement unit (px, %, in, cm, mm, em, ex, pt, or pc).\",\"invalidHtmlLength\":\"Value specified for the \\\"%1\\\" field must be a positive number with or without a valid HTML measurement unit (px or %).\",\"invalidInlineStyle\":\"Value specified for the inline style must consist of one or more tuples with the format of \\\"name : value\\\", separated by semi-colons.\",\"cssLengthTooltip\":\"Enter a number for a value in pixels or a number with a valid CSS unit (px, %, in, cm, mm, em, ex, pt, or pc).\",\"unavailable\":\"%1<span class=\\\"cke_accessibility\\\">, unavailable</span>\"},\"basicstyles\":{\"bold\":\"Bold\",\"italic\":\"Italic\",\"strike\":\"Strikethrough\",\"subscript\":\"Subscript\",\"superscript\":\"Superscript\",\"underline\":\"Underline\"},\"blockquote\":{\"toolbar\":\"Block Quote\"},\"clipboard\":{\"copy\":\"Copy\",\"copyError\":\"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).\",\"cut\":\"Cut\",\"cutError\":\"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).\",\"paste\":\"Paste\",\"pasteArea\":\"Paste Area\",\"pasteMsg\":\"Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK\",\"securityMsg\":\"Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.\",\"title\":\"Paste\"},\"contextmenu\":{\"options\":\"Context Menu Options\"},\"button\":{\"selectedLabel\":\"%1 (Selected)\"},\"toolbar\":{\"toolbarCollapse\":\"Collapse Toolbar\",\"toolbarExpand\":\"Expand Toolbar\",\"toolbarGroups\":{\"document\":\"Document\",\"clipboard\":\"Clipboard/Undo\",\"editing\":\"Editing\",\"forms\":\"Forms\",\"basicstyles\":\"Basic Styles\",\"paragraph\":\"Paragraph\",\"links\":\"Links\",\"insert\":\"Insert\",\"styles\":\"Styles\",\"colors\":\"Colors\",\"tools\":\"Tools\"},\"toolbars\":\"Editor toolbars\"},\"horizontalrule\":{\"toolbar\":\"Insert Horizontal Line\"},\"image\":{\"alertUrl\":\"Please type the image URL\",\"alt\":\"Alternative Text\",\"border\":\"Border\",\"btnUpload\":\"Send it to the Server\",\"button2Img\":\"Do you want to transform the selected image button on a simple image?\",\"hSpace\":\"HSpace\",\"img2Button\":\"Do you want to transform the selected image on a image button?\",\"infoTab\":\"Image Info\",\"linkTab\":\"Link\",\"lockRatio\":\"Lock Ratio\",\"menu\":\"Image Properties\",\"resetSize\":\"Reset Size\",\"title\":\"Image Properties\",\"titleButton\":\"Image Button Properties\",\"upload\":\"Upload\",\"urlMissing\":\"Image source URL is missing.\",\"vSpace\":\"VSpace\",\"validateBorder\":\"Border must be a whole number.\",\"validateHSpace\":\"HSpace must be a whole number.\",\"validateVSpace\":\"VSpace must be a whole number.\"},\"indent\":{\"indent\":\"Increase Indent\",\"outdent\":\"Decrease Indent\"},\"fakeobjects\":{\"anchor\":\"Anchor\",\"flash\":\"Flash Animation\",\"hiddenfield\":\"Hidden Field\",\"iframe\":\"IFrame\",\"unknown\":\"Unknown Object\"},\"link\":{\"acccessKey\":\"Access Key\",\"advanced\":\"Advanced\",\"advisoryContentType\":\"Advisory Content Type\",\"advisoryTitle\":\"Advisory Title\",\"anchor\":{\"toolbar\":\"Anchor\",\"menu\":\"Edit Anchor\",\"title\":\"Anchor Properties\",\"name\":\"Anchor Name\",\"errorName\":\"Please type the anchor name\",\"remove\":\"Remove Anchor\"},\"anchorId\":\"By Element Id\",\"anchorName\":\"By Anchor Name\",\"charset\":\"Linked Resource Charset\",\"cssClasses\":\"Stylesheet Classes\",\"emailAddress\":\"E-Mail Address\",\"emailBody\":\"Message Body\",\"emailSubject\":\"Message Subject\",\"id\":\"Id\",\"info\":\"Link Info\",\"langCode\":\"Language Code\",\"langDir\":\"Language Direction\",\"langDirLTR\":\"Left to Right (LTR)\",\"langDirRTL\":\"Right to Left (RTL)\",\"menu\":\"Edit Link\",\"name\":\"Name\",\"noAnchors\":\"(No anchors available in the document)\",\"noEmail\":\"Please type the e-mail address\",\"noUrl\":\"Please type the link URL\",\"other\":\"<other>\",\"popupDependent\":\"Dependent (Netscape)\",\"popupFeatures\":\"Popup Window Features\",\"popupFullScreen\":\"Full Screen (IE)\",\"popupLeft\":\"Left Position\",\"popupLocationBar\":\"Location Bar\",\"popupMenuBar\":\"Menu Bar\",\"popupResizable\":\"Resizable\",\"popupScrollBars\":\"Scroll Bars\",\"popupStatusBar\":\"Status Bar\",\"popupToolbar\":\"Toolbar\",\"popupTop\":\"Top Position\",\"rel\":\"Relationship\",\"selectAnchor\":\"Select an Anchor\",\"styles\":\"Style\",\"tabIndex\":\"Tab Index\",\"target\":\"Target\",\"targetFrame\":\"<frame>\",\"targetFrameName\":\"Target Frame Name\",\"targetPopup\":\"<popup window>\",\"targetPopupName\":\"Popup Window Name\",\"title\":\"Link\",\"toAnchor\":\"Link to anchor in the text\",\"toEmail\":\"E-mail\",\"toUrl\":\"URL\",\"toolbar\":\"Link\",\"type\":\"Link Type\",\"unlink\":\"Unlink\",\"upload\":\"Upload\"},\"list\":{\"bulletedlist\":\"Insert/Remove Bulleted List\",\"numberedlist\":\"Insert/Remove Numbered List\"},\"magicline\":{\"title\":\"Insert paragraph here\"},\"maximize\":{\"maximize\":\"Maximize\",\"minimize\":\"Minimize\"},\"pastetext\":{\"button\":\"Paste as plain text\",\"title\":\"Paste as Plain Text\"},\"pastefromword\":{\"confirmCleanup\":\"The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?\",\"error\":\"It was not possible to clean up the pasted data due to an internal error\",\"title\":\"Paste from Word\",\"toolbar\":\"Paste from Word\"},\"removeformat\":{\"toolbar\":\"Remove Format\"},\"sourcearea\":{\"toolbar\":\"Source\"},\"specialchar\":{\"options\":\"Special Character Options\",\"title\":\"Select Special Character\",\"toolbar\":\"Insert Special Character\"},\"table\":{\"border\":\"Border size\",\"caption\":\"Caption\",\"cell\":{\"menu\":\"Cell\",\"insertBefore\":\"Insert Cell Before\",\"insertAfter\":\"Insert Cell After\",\"deleteCell\":\"Delete Cells\",\"merge\":\"Merge Cells\",\"mergeRight\":\"Merge Right\",\"mergeDown\":\"Merge Down\",\"splitHorizontal\":\"Split Cell Horizontally\",\"splitVertical\":\"Split Cell Vertically\",\"title\":\"Cell Properties\",\"cellType\":\"Cell Type\",\"rowSpan\":\"Rows Span\",\"colSpan\":\"Columns Span\",\"wordWrap\":\"Word Wrap\",\"hAlign\":\"Horizontal Alignment\",\"vAlign\":\"Vertical Alignment\",\"alignBaseline\":\"Baseline\",\"bgColor\":\"Background Color\",\"borderColor\":\"Border Color\",\"data\":\"Data\",\"header\":\"Header\",\"yes\":\"Yes\",\"no\":\"No\",\"invalidWidth\":\"Cell width must be a number.\",\"invalidHeight\":\"Cell height must be a number.\",\"invalidRowSpan\":\"Rows span must be a whole number.\",\"invalidColSpan\":\"Columns span must be a whole number.\",\"chooseColor\":\"Choose\"},\"cellPad\":\"Cell padding\",\"cellSpace\":\"Cell spacing\",\"column\":{\"menu\":\"Column\",\"insertBefore\":\"Insert Column Before\",\"insertAfter\":\"Insert Column After\",\"deleteColumn\":\"Delete Columns\"},\"columns\":\"Columns\",\"deleteTable\":\"Delete Table\",\"headers\":\"Headers\",\"headersBoth\":\"Both\",\"headersColumn\":\"First column\",\"headersNone\":\"None\",\"headersRow\":\"First Row\",\"invalidBorder\":\"Border size must be a number.\",\"invalidCellPadding\":\"Cell padding must be a positive number.\",\"invalidCellSpacing\":\"Cell spacing must be a positive number.\",\"invalidCols\":\"Number of columns must be a number greater than 0.\",\"invalidHeight\":\"Table height must be a number.\",\"invalidRows\":\"Number of rows must be a number greater than 0.\",\"invalidWidth\":\"Table width must be a number.\",\"menu\":\"Table Properties\",\"row\":{\"menu\":\"Row\",\"insertBefore\":\"Insert Row Before\",\"insertAfter\":\"Insert Row After\",\"deleteRow\":\"Delete Rows\"},\"rows\":\"Rows\",\"summary\":\"Summary\",\"title\":\"Table Properties\",\"toolbar\":\"Table\",\"widthPc\":\"percent\",\"widthPx\":\"pixels\",\"widthUnit\":\"width unit\"},\"undo\":{\"redo\":\"Redo\",\"undo\":\"Undo\"},\"widget\":{\"move\":\"Click and drag to move\"},\"mathjax\":{\"title\":\"Mathematics in TeX\",\"button\":\"Math\",\"dialogInput\":\"Write your TeX here\",\"docUrl\":\"http://en.wikibooks.org/wiki/LaTeX/Mathematics\",\"docLabel\":\"TeX documentation\",\"loading\":\"loading...\",\"pathName\":\"math\"},\"colorbutton\":{\"auto\":\"Automatic\",\"bgColorTitle\":\"Background Color\",\"colors\":{\"000\":\"Black\",\"800000\":\"Maroon\",\"8B4513\":\"Saddle Brown\",\"2F4F4F\":\"Dark Slate Gray\",\"008080\":\"Teal\",\"000080\":\"Navy\",\"4B0082\":\"Indigo\",\"696969\":\"Dark Gray\",\"B22222\":\"Fire Brick\",\"A52A2A\":\"Brown\",\"DAA520\":\"Golden Rod\",\"006400\":\"Dark Green\",\"40E0D0\":\"Turquoise\",\"0000CD\":\"Medium Blue\",\"800080\":\"Purple\",\"808080\":\"Gray\",\"F00\":\"Red\",\"FF8C00\":\"Dark Orange\",\"FFD700\":\"Gold\",\"008000\":\"Green\",\"0FF\":\"Cyan\",\"00F\":\"Blue\",\"EE82EE\":\"Violet\",\"A9A9A9\":\"Dim Gray\",\"FFA07A\":\"Light Salmon\",\"FFA500\":\"Orange\",\"FFFF00\":\"Yellow\",\"00FF00\":\"Lime\",\"AFEEEE\":\"Pale Turquoise\",\"ADD8E6\":\"Light Blue\",\"DDA0DD\":\"Plum\",\"D3D3D3\":\"Light Grey\",\"FFF0F5\":\"Lavender Blush\",\"FAEBD7\":\"Antique White\",\"FFFFE0\":\"Light Yellow\",\"F0FFF0\":\"Honeydew\",\"F0FFFF\":\"Azure\",\"F0F8FF\":\"Alice Blue\",\"E6E6FA\":\"Lavender\",\"FFF\":\"White\"},\"more\":\"More Colors...\",\"panelTitle\":\"Colors\",\"textColorTitle\":\"Text Color\"},\"font\":{\"fontSize\":{\"label\":\"Size\",\"voiceLabel\":\"Font Size\",\"panelTitle\":\"Font Size\"},\"label\":\"Font\",\"panelTitle\":\"Font Name\",\"voiceLabel\":\"Font\"},\"justify\":{\"block\":\"Justify\",\"center\":\"Center\",\"left\":\"Align Left\",\"right\":\"Align Right\"},\"preview\":{\"preview\":\"Preview\"},\"print\":{\"toolbar\":\"Print\"},\"codesnippet\":{\"button\":\"Insert Code Snippet\",\"codeContents\":\"Code content\",\"emptySnippetError\":\"A code snippet cannot be empty.\",\"language\":\"Language\",\"title\":\"Code snippet\",\"pathName\":\"code snippet\"},\"pbckcode\":{\"title\":\"PBCKCODE\",\"addCode\":\"Add code\",\"editCode\":\"Edit code\",\"editor\":\"Editor\",\"settings\":\"Settings\",\"mode\":\"Mode\",\"tabSize\":\"Tab size\",\"theme\":\"Theme\",\"softTab\":\"Enable soft tabs\",\"emmet\":\"Enable Emmet\"},\"colordialog\":{\"clear\":\"Clear\",\"highlight\":\"Highlight\",\"options\":\"Color Options\",\"selected\":\"Selected Color\",\"title\":\"Select color\"}};\ndefine(\"en\", function(){});\n\n",
    "/**\r\n * Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.\r\n * For licensing, see LICENSE.md or http://ckeditor.com/license\r\n */\r\n\r\n// This file contains style definitions that can be used by CKEditor plugins.\r\n//\r\n// The most common use for it is the \"stylescombo\" plugin, which shows a combo\r\n// in the editor toolbar, containing all styles. Other plugins instead, like\r\n// the div plugin, use a subset of the styles on their feature.\r\n//\r\n// If you don't have plugins that depend on this file, you can simply ignore it.\r\n// Otherwise it is strongly recommended to customize this file to match your\r\n// website requirements and design properly.\r\n\r\nCKEDITOR.stylesSet.add( 'default', [\r\n\t/* Block Styles */\r\n\r\n\t// These styles are already available in the \"Format\" combo (\"format\" plugin),\r\n\t// so they are not needed here by default. You may enable them to avoid\r\n\t// placing the \"Format\" combo in the toolbar, maintaining the same features.\r\n\t/*\r\n\t{ name: 'Paragraph',\t\telement: 'p' },\r\n\t{ name: 'Heading 1',\t\telement: 'h1' },\r\n\t{ name: 'Heading 2',\t\telement: 'h2' },\r\n\t{ name: 'Heading 3',\t\telement: 'h3' },\r\n\t{ name: 'Heading 4',\t\telement: 'h4' },\r\n\t{ name: 'Heading 5',\t\telement: 'h5' },\r\n\t{ name: 'Heading 6',\t\telement: 'h6' },\r\n\t{ name: 'Preformatted Text',element: 'pre' },\r\n\t{ name: 'Address',\t\t\telement: 'address' },\r\n\t*/\r\n\r\n\t{ name: 'Italic Title',\t\telement: 'h2', styles: { 'font-style': 'italic' } },\r\n\t{ name: 'Subtitle',\t\t\telement: 'h3', styles: { 'color': '#aaa', 'font-style': 'italic' } },\r\n\t{\r\n\t\tname: 'Special Container',\r\n\t\telement: 'div',\r\n\t\tstyles: {\r\n\t\t\tpadding: '5px 10px',\r\n\t\t\tbackground: '#eee',\r\n\t\t\tborder: '1px solid #ccc'\r\n\t\t}\r\n\t},\r\n\r\n\t/* Inline Styles */\r\n\r\n\t// These are core styles available as toolbar buttons. You may opt enabling\r\n\t// some of them in the Styles combo, removing them from the toolbar.\r\n\t// (This requires the \"stylescombo\" plugin)\r\n\t/*\r\n\t{ name: 'Strong',\t\t\telement: 'strong', overrides: 'b' },\r\n\t{ name: 'Emphasis',\t\t\telement: 'em'\t, overrides: 'i' },\r\n\t{ name: 'Underline',\t\telement: 'u' },\r\n\t{ name: 'Strikethrough',\telement: 'strike' },\r\n\t{ name: 'Subscript',\t\telement: 'sub' },\r\n\t{ name: 'Superscript',\t\telement: 'sup' },\r\n\t*/\r\n\r\n\t{ name: 'Marker',\t\t\telement: 'span', attributes: { 'class': 'marker' } },\r\n\r\n\t{ name: 'Big',\t\t\t\telement: 'big' },\r\n\t{ name: 'Small',\t\t\telement: 'small' },\r\n\t{ name: 'Typewriter',\t\telement: 'tt' },\r\n\r\n\t{ name: 'Computer Code',\telement: 'code' },\r\n\t{ name: 'Keyboard Phrase',\telement: 'kbd' },\r\n\t{ name: 'Sample Text',\t\telement: 'samp' },\r\n\t{ name: 'Variable',\t\t\telement: 'var' },\r\n\r\n\t{ name: 'Deleted Text',\t\telement: 'del' },\r\n\t{ name: 'Inserted Text',\telement: 'ins' },\r\n\r\n\t{ name: 'Cited Work',\t\telement: 'cite' },\r\n\t{ name: 'Inline Quotation',\telement: 'q' },\r\n\r\n\t{ name: 'Language: RTL',\telement: 'span', attributes: { 'dir': 'rtl' } },\r\n\t{ name: 'Language: LTR',\telement: 'span', attributes: { 'dir': 'ltr' } },\r\n\r\n\t/* Object Styles */\r\n\r\n\t{\r\n\t\tname: 'Styled image (left)',\r\n\t\telement: 'img',\r\n\t\tattributes: { 'class': 'left' }\r\n\t},\r\n\r\n\t{\r\n\t\tname: 'Styled image (right)',\r\n\t\telement: 'img',\r\n\t\tattributes: { 'class': 'right' }\r\n\t},\r\n\r\n\t{\r\n\t\tname: 'Compact table',\r\n\t\telement: 'table',\r\n\t\tattributes: {\r\n\t\t\tcellpadding: '5',\r\n\t\t\tcellspacing: '0',\r\n\t\t\tborder: '1',\r\n\t\t\tbordercolor: '#ccc'\r\n\t\t},\r\n\t\tstyles: {\r\n\t\t\t'border-collapse': 'collapse'\r\n\t\t}\r\n\t},\r\n\r\n\t{ name: 'Borderless Table',\t\telement: 'table',\tstyles: { 'border-style': 'hidden', 'background-color': '#E6E6FA' } },\r\n\t{ name: 'Square Bulleted List',\telement: 'ul',\t\tstyles: { 'list-style-type': 'square' } }\r\n] );\r\n\r\n\ndefine(\"styles\", function(){});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * Enables automatic observability of plain javascript object for ES5 compatible browsers. Also, converts promise properties into observables that are updated when the promise resolves.\n * @module observable\n * @requires system\n * @requires binder\n * @requires knockout\n */\ndefine('plugins/observable',['durandal/system', 'durandal/binder', 'knockout'], function(system, binder, ko) {\n    var observableModule,\n        toString = Object.prototype.toString,\n        nonObservableTypes = ['[object Function]', '[object String]', '[object Boolean]', '[object Number]', '[object Date]', '[object RegExp]'],\n        observableArrayMethods = ['remove', 'removeAll', 'destroy', 'destroyAll', 'replace'],\n        arrayMethods = ['pop', 'reverse', 'sort', 'shift', 'slice'],\n        additiveArrayFunctions = ['push', 'unshift'],\n        es5Functions = ['filter', 'map', 'reduce', 'reduceRight', 'forEach', 'every', 'some'],\n        arrayProto = Array.prototype,\n        observableArrayFunctions = ko.observableArray.fn,\n        logConversion = false,\n        changeDetectionMethod = undefined,\n        skipPromises = false,\n        shouldIgnorePropertyName;\n\n    /**\n     * You can call observable(obj, propertyName) to get the observable function for the specified property on the object.\n     * @class ObservableModule\n     */\n\n    if (!('getPropertyDescriptor' in Object)) {\n        var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n        var getPrototypeOf = Object.getPrototypeOf;\n\n        Object['getPropertyDescriptor'] = function(o, name) {\n            var proto = o, descriptor;\n\n            while(proto && !(descriptor = getOwnPropertyDescriptor(proto, name))) {\n                proto = getPrototypeOf(proto);\n            }\n\n            return descriptor;\n        };\n    }\n\n    function defaultShouldIgnorePropertyName(propertyName){\n        var first = propertyName[0];\n        return first === '_' || first === '$' || (changeDetectionMethod && propertyName === changeDetectionMethod);\n    }\n\n    function isNode(obj) {\n        return !!(obj && obj.nodeType !== undefined && system.isNumber(obj.nodeType));\n    }\n\n    function canConvertType(value) {\n        if (!value || isNode(value) || value.ko === ko || value.jquery) {\n            return false;\n        }\n\n        var type = toString.call(value);\n\n        return nonObservableTypes.indexOf(type) == -1 && !(value === true || value === false);\n    }\n\n    function createLookup(obj) {\n        var value = {};\n\n        Object.defineProperty(obj, \"__observable__\", {\n            enumerable: false,\n            configurable: false,\n            writable: false,\n            value: value\n        });\n\n        return value;\n    }\n\n    function makeObservableArray(original, observable, hasChanged) {\n        var lookup = original.__observable__, notify = true;\n\n        if(lookup && lookup.__full__){\n            return;\n        }\n\n        lookup = lookup || createLookup(original);\n        lookup.__full__ = true;\n\n        es5Functions.forEach(function (methodName) {\n            observable[methodName] = function () {\n                return arrayProto[methodName].apply(original, arguments);\n            };\n        });\n\n        observableArrayMethods.forEach(function(methodName) {\n            original[methodName] = function() {\n                notify = false;\n                var methodCallResult = observableArrayFunctions[methodName].apply(observable, arguments);\n                notify = true;\n                return methodCallResult;\n            };\n        });\n\n        arrayMethods.forEach(function(methodName) {\n            original[methodName] = function() {\n                if(notify){\n                    observable.valueWillMutate();\n                }\n\n                var methodCallResult = arrayProto[methodName].apply(original, arguments);\n\n                if(notify){\n                    observable.valueHasMutated();\n                }\n\n                return methodCallResult;\n            };\n        });\n\n        additiveArrayFunctions.forEach(function(methodName){\n            original[methodName] = function() {\n                for (var i = 0, len = arguments.length; i < len; i++) {\n                    convertObject(arguments[i], hasChanged);\n                }\n\n                if(notify){\n                    observable.valueWillMutate();\n                }\n\n                var methodCallResult = arrayProto[methodName].apply(original, arguments);\n\n                if(notify){\n                    observable.valueHasMutated();\n                }\n\n                return methodCallResult;\n            };\n        });\n\n        original['splice'] = function() {\n            for (var i = 2, len = arguments.length; i < len; i++) {\n                convertObject(arguments[i], hasChanged);\n            }\n\n            if(notify){\n                observable.valueWillMutate();\n            }\n\n            var methodCallResult = arrayProto['splice'].apply(original, arguments);\n\n            if(notify){\n                observable.valueHasMutated();\n            }\n\n            return methodCallResult;\n        };\n\n        for (var i = 0, len = original.length; i < len; i++) {\n            convertObject(original[i], hasChanged);\n        }\n    }\n\n    /**\n     * Converts an entire object into an observable object by re-writing its attributes using ES5 getters and setters. Attributes beginning with '_' or '$' are ignored.\n     * @method convertObject\n     * @param {object} obj The target object to convert.\n     */\n    function convertObject(obj, hasChanged) {\n        var lookup, value;\n\n        if (changeDetectionMethod) {\n            if(obj && obj[changeDetectionMethod]) {\n                if (hasChanged) {\n                    hasChanged = hasChanged.slice(0);\n                } else {\n                    hasChanged = [];\n                }\n                hasChanged.push(obj[changeDetectionMethod]);\n            }\n        }\n\n        if(!canConvertType(obj)){\n            return;\n        }\n\n        lookup = obj.__observable__;\n\n        if(lookup && lookup.__full__){\n            return;\n        }\n\n        lookup = lookup || createLookup(obj);\n        lookup.__full__ = true;\n\n        if (system.isArray(obj)) {\n            var observable = ko.observableArray(obj);\n            makeObservableArray(obj, observable, hasChanged);\n        } else {\n            for (var propertyName in obj) {\n                if(shouldIgnorePropertyName(propertyName)){\n                    continue;\n                }\n\n                if (!lookup[propertyName]) {\n                    var descriptor = Object.getPropertyDescriptor(obj, propertyName);\n                    if (descriptor && (descriptor.get || descriptor.set)) {\n                        defineProperty(obj, propertyName, {\n                            get:descriptor.get,\n                            set:descriptor.set\n                        });\n                    } else {\n                        value = obj[propertyName];\n\n                        if(!system.isFunction(value)) {\n                            convertProperty(obj, propertyName, value, hasChanged);\n                        }\n                    }\n                }\n            }\n        }\n\n        if(logConversion) {\n            system.log('Converted', obj);\n        }\n    }\n\n    function innerSetter(observable, newValue, isArray) {\n        //if this was originally an observableArray, then always check to see if we need to add/replace the array methods (if newValue was an entirely new array)\n        if (isArray) {\n            if (!newValue) {\n                //don't allow null, force to an empty array\n                newValue = [];\n                makeObservableArray(newValue, observable);\n            }\n            else if (!newValue.destroyAll) {\n                makeObservableArray(newValue, observable);\n            }\n        } else {\n            convertObject(newValue);\n        }\n\n        //call the update to the observable after the array as been updated.\n        observable(newValue);\n    }\n\n    /**\n     * Converts a normal property into an observable property using ES5 getters and setters.\n     * @method convertProperty\n     * @param {object} obj The target object on which the property to convert lives.\n     * @param {string} propertyName The name of the property to convert.\n     * @param {object} [original] The original value of the property. If not specified, it will be retrieved from the object.\n     * @return {KnockoutObservable} The underlying observable.\n     */\n    function convertProperty(obj, propertyName, original, hasChanged) {\n        var observable,\n            isArray,\n            lookup = obj.__observable__ || createLookup(obj);\n\n        if(original === undefined){\n            original = obj[propertyName];\n        }\n\n        if (system.isArray(original)) {\n            observable = ko.observableArray(original);\n            makeObservableArray(original, observable, hasChanged);\n            isArray = true;\n        } else if (typeof original == \"function\") {\n            if(ko.isObservable(original)){\n                observable = original;\n            }else{\n                return null;\n            }\n        } else if(!skipPromises && system.isPromise(original)) {\n            observable = ko.observable();\n\n            original.then(function (result) {\n                if(system.isArray(result)) {\n                    var oa = ko.observableArray(result);\n                    makeObservableArray(result, oa, hasChanged);\n                    result = oa;\n                }\n\n                observable(result);\n            });\n        } else {\n            observable = ko.observable(original);\n            convertObject(original, hasChanged);\n        }\n\n        if (hasChanged && hasChanged.length > 0) {\n            hasChanged.forEach(function (func) {\n                if (system.isArray(original)) {\n                    observable.subscribe(function (arrayChanges) {\n                        func(obj, propertyName, null, arrayChanges);\n                    }, null, \"arrayChange\");\n                } else {\n                    observable.subscribe(function (newValue) {\n                        func(obj, propertyName, newValue, null);\n                    });\n                }\n            });\n        }\n\n        Object.defineProperty(obj, propertyName, {\n            configurable: true,\n            enumerable: true,\n            get: observable,\n            set: ko.isWriteableObservable(observable) ? (function (newValue) {\n                if (newValue && system.isPromise(newValue) && !skipPromises) {\n                    newValue.then(function (result) {\n                        innerSetter(observable, result, system.isArray(result));\n                    });\n                } else {\n                    innerSetter(observable, newValue, isArray);\n                }\n            }) : undefined\n        });\n\n        lookup[propertyName] = observable;\n        return observable;\n    }\n\n    /**\n     * Defines a computed property using ES5 getters and setters.\n     * @method defineProperty\n     * @param {object} obj The target object on which to create the property.\n     * @param {string} propertyName The name of the property to define.\n     * @param {function|object} evaluatorOrOptions The Knockout computed function or computed options object.\n     * @return {KnockoutObservable} The underlying computed observable.\n     */\n    function defineProperty(obj, propertyName, evaluatorOrOptions) {\n        var computedOptions = { owner: obj, deferEvaluation: true },\n            computed;\n\n        if (typeof evaluatorOrOptions === 'function') {\n            computedOptions.read = evaluatorOrOptions;\n        } else {\n            if ('value' in evaluatorOrOptions) {\n                system.error('For defineProperty, you must not specify a \"value\" for the property. You must provide a \"get\" function.');\n            }\n\n            if (typeof evaluatorOrOptions.get !== 'function' && typeof evaluatorOrOptions.read !== 'function') {\n                system.error('For defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called \"get\".');\n            }\n\n            computedOptions.read = evaluatorOrOptions.get || evaluatorOrOptions.read;\n            computedOptions.write = evaluatorOrOptions.set || evaluatorOrOptions.write;\n        }\n\n        computed = ko.computed(computedOptions);\n        obj[propertyName] = computed;\n\n        return convertProperty(obj, propertyName, computed);\n    }\n\n    observableModule = function(obj, propertyName){\n        var lookup, observable, value;\n\n        if (!obj) {\n            return null;\n        }\n\n        lookup = obj.__observable__;\n        if(lookup){\n            observable = lookup[propertyName];\n            if(observable){\n                return observable;\n            }\n        }\n\n        value = obj[propertyName];\n\n        if(ko.isObservable(value)){\n            return value;\n        }\n\n        return convertProperty(obj, propertyName, value);\n    };\n\n    observableModule.defineProperty = defineProperty;\n    observableModule.convertProperty = convertProperty;\n    observableModule.convertObject = convertObject;\n\n    /**\n     * Installs the plugin into the view model binder's `beforeBind` hook so that objects are automatically converted before being bound.\n     * @method install\n     */\n    observableModule.install = function(options) {\n        var original = binder.binding;\n\n        binder.binding = function(obj, view, instruction) {\n            if(instruction.applyBindings && !instruction.skipConversion){\n                convertObject(obj);\n            }\n\n            original(obj, view);\n        };\n\n        logConversion = options.logConversion;\n        if (options.changeDetection) {\n            changeDetectionMethod = options.changeDetection;\n        }\n\n        skipPromises = options.skipPromises;\n        shouldIgnorePropertyName = options.shouldIgnorePropertyName || defaultShouldIgnorePropertyName;\n    };\n\n    return observableModule;\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * Serializes and deserializes data to/from JSON.\n * @module serializer\n * @requires system\n */\ndefine('plugins/serializer',['durandal/system'], function(system) {\n    /**\n     * @class SerializerModule\n     * @static\n     */\n    return {\n        /**\n         * The name of the attribute that the serializer should use to identify an object's type.\n         * @property {string} typeAttribute\n         * @default type\n         */\n        typeAttribute: 'type',\n        /**\n         * The amount of space to use for indentation when writing out JSON.\n         * @property {string|number} space\n         * @default undefined\n         */\n        space:undefined,\n        /**\n         * The default replacer function used during serialization. By default properties starting with '_' or '$' are removed from the serialized object.\n         * @method replacer\n         * @param {string} key The object key to check.\n         * @param {object} value The object value to check.\n         * @return {object} The value to serialize.\n         */\n        replacer: function(key, value) {\n            if(key){\n                var first = key[0];\n                if(first === '_' || first === '$'){\n                    return undefined;\n                }\n            }\n\n            return value;\n        },\n        /**\n         * Serializes the object.\n         * @method serialize\n         * @param {object} object The object to serialize.\n         * @param {object} [settings] Settings can specify a replacer or space to override the serializer defaults.\n         * @return {string} The JSON string.\n         */\n        serialize: function(object, settings) {\n            settings = (settings === undefined) ? {} : settings;\n\n            if(system.isString(settings) || system.isNumber(settings)) {\n                settings = { space: settings };\n            }\n\n            return JSON.stringify(object, settings.replacer || this.replacer, settings.space || this.space);\n        },\n        /**\n         * Gets the type id for an object instance, using the configured `typeAttribute`.\n         * @method getTypeId\n         * @param {object} object The object to serialize.\n         * @return {string} The type.\n         */\n        getTypeId: function(object) {\n            if (object) {\n                return object[this.typeAttribute];\n            }\n\n            return undefined;\n        },\n        /**\n         * Maps type ids to object constructor functions. Keys are type ids and values are functions.\n         * @property {object} typeMap.\n         */\n        typeMap: {},\n        /**\n         * Adds a type id/constructor function mampping to the `typeMap`.\n         * @method registerType\n         * @param {string} typeId The type id.\n         * @param {function} constructor The constructor.\n         */\n        registerType: function() {\n            var first = arguments[0];\n\n            if (arguments.length == 1) {\n                var id = first[this.typeAttribute] || system.getModuleId(first);\n                this.typeMap[id] = first;\n            } else {\n                this.typeMap[first] = arguments[1];\n            }\n        },\n        /**\n         * The default reviver function used during deserialization. By default is detects type properties on objects and uses them to re-construct the correct object using the provided constructor mapping.\n         * @method reviver\n         * @param {string} key The attribute key.\n         * @param {object} value The object value associated with the key.\n         * @param {function} getTypeId A custom function used to get the type id from a value.\n         * @param {object} getConstructor A custom function used to get the constructor function associated with a type id.\n         * @return {object} The value.\n         */\n        reviver: function(key, value, getTypeId, getConstructor) {\n            var typeId = getTypeId(value);\n            if (typeId) {\n                var ctor = getConstructor(typeId);\n                if (ctor) {\n                    if (ctor.fromJSON) {\n                        return ctor.fromJSON(value);\n                    }\n\n                    return new ctor(value);\n                }\n            }\n\n            return value;\n        },\n        /**\n         * Deserialize the JSON.\n         * @method deserialize\n         * @param {string} text The JSON string.\n         * @param {object} [settings] Settings can specify a reviver, getTypeId function or getConstructor function.\n         * @return {object} The deserialized object.\n         */\n        deserialize: function(text, settings) {\n            var that = this;\n            settings = settings || {};\n\n            var getTypeId = settings.getTypeId || function(object) { return that.getTypeId(object); };\n            var getConstructor = settings.getConstructor || function(id) { return that.typeMap[id]; };\n            var reviver = settings.reviver || function(key, value) { return that.reviver(key, value, getTypeId, getConstructor); };\n\n            return JSON.parse(text, reviver);\n        },\n        /**\n         * Clone the object.\n         * @method clone\n         * @param {object} obj The object to clone.\n         * @param {object} [settings] Settings can specify any of the options allowed by the serialize or deserialize methods.\n         * @return {object} The new clone.\n         */\n        clone:function(obj, settings) {\n            return this.deserialize(this.serialize(obj, settings), settings);\n        }\n    };\n});\n\n",
    "/**\n * Durandal 2.1.0 Copyright (c) 2012 Blue Spire Consulting, Inc. All Rights Reserved.\n * Available via the MIT license.\n * see: http://durandaljs.com or https://github.com/BlueSpire/Durandal for details.\n */\n/**\n * Layers the widget sugar on top of the composition system.\n * @module widget\n * @requires system\n * @requires composition\n * @requires jquery\n * @requires knockout\n */\ndefine('plugins/widget',['durandal/system', 'durandal/composition', 'jquery', 'knockout'], function(system, composition, $, ko) {\n    var kindModuleMaps = {},\n        kindViewMaps = {},\n        bindableSettings = ['model', 'view', 'kind'],\n        widgetDataKey = 'durandal-widget-data';\n\n    function extractParts(element, settings){\n        var data = ko.utils.domData.get(element, widgetDataKey);\n\n        if(!data){\n            data = {\n                parts:composition.cloneNodes(ko.virtualElements.childNodes(element))\n            };\n\n            ko.virtualElements.emptyNode(element);\n            ko.utils.domData.set(element, widgetDataKey, data);\n        }\n\n        settings.parts = data.parts;\n    }\n\n    /**\n     * @class WidgetModule\n     * @static\n     */\n    var widget = {\n        getSettings: function(valueAccessor) {\n            var settings = ko.utils.unwrapObservable(valueAccessor()) || {};\n\n            if (system.isString(settings)) {\n                return { kind: settings };\n            }\n\n            for (var attrName in settings) {\n                if (ko.utils.arrayIndexOf(bindableSettings, attrName) != -1) {\n                    settings[attrName] = ko.utils.unwrapObservable(settings[attrName]);\n                } else {\n                    settings[attrName] = settings[attrName];\n                }\n            }\n\n            return settings;\n        },\n        /**\n         * Creates a ko binding handler for the specified kind.\n         * @method registerKind\n         * @param {string} kind The kind to create a custom binding handler for.\n         */\n        registerKind: function(kind) {\n            ko.bindingHandlers[kind] = {\n                init: function() {\n                    return { controlsDescendantBindings: true };\n                },\n                update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n                    var settings = widget.getSettings(valueAccessor);\n                    settings.kind = kind;\n                    extractParts(element, settings);\n                    widget.create(element, settings, bindingContext, true);\n                }\n            };\n\n            ko.virtualElements.allowedBindings[kind] = true;\n            composition.composeBindings.push(kind + ':');\n        },\n        /**\n         * Maps views and module to the kind identifier if a non-standard pattern is desired.\n         * @method mapKind\n         * @param {string} kind The kind name.\n         * @param {string} [viewId] The unconventional view id to map the kind to.\n         * @param {string} [moduleId] The unconventional module id to map the kind to.\n         */\n        mapKind: function(kind, viewId, moduleId) {\n            if (viewId) {\n                kindViewMaps[kind] = viewId;\n            }\n\n            if (moduleId) {\n                kindModuleMaps[kind] = moduleId;\n            }\n        },\n        /**\n         * Maps a kind name to it's module id. First it looks up a custom mapped kind, then falls back to `convertKindToModulePath`.\n         * @method mapKindToModuleId\n         * @param {string} kind The kind name.\n         * @return {string} The module id.\n         */\n        mapKindToModuleId: function(kind) {\n            return kindModuleMaps[kind] || widget.convertKindToModulePath(kind);\n        },\n        /**\n         * Converts a kind name to it's module path. Used to conventionally map kinds who aren't explicitly mapped through `mapKind`.\n         * @method convertKindToModulePath\n         * @param {string} kind The kind name.\n         * @return {string} The module path.\n         */\n        convertKindToModulePath: function(kind) {\n            return 'widgets/' + kind + '/viewmodel';\n        },\n        /**\n         * Maps a kind name to it's view id. First it looks up a custom mapped kind, then falls back to `convertKindToViewPath`.\n         * @method mapKindToViewId\n         * @param {string} kind The kind name.\n         * @return {string} The view id.\n         */\n        mapKindToViewId: function(kind) {\n            return kindViewMaps[kind] || widget.convertKindToViewPath(kind);\n        },\n        /**\n         * Converts a kind name to it's view id. Used to conventionally map kinds who aren't explicitly mapped through `mapKind`.\n         * @method convertKindToViewPath\n         * @param {string} kind The kind name.\n         * @return {string} The view id.\n         */\n        convertKindToViewPath: function(kind) {\n            return 'widgets/' + kind + '/view';\n        },\n        createCompositionSettings: function(element, settings) {\n            if (!settings.model) {\n                settings.model = this.mapKindToModuleId(settings.kind);\n            }\n\n            if (!settings.view) {\n                settings.view = this.mapKindToViewId(settings.kind);\n            }\n\n            settings.preserveContext = true;\n            settings.activate = true;\n            settings.activationData = settings;\n            settings.mode = 'templated';\n\n            return settings;\n        },\n        /**\n         * Creates a widget.\n         * @method create\n         * @param {DOMElement} element The DOMElement or knockout virtual element that serves as the target element for the widget.\n         * @param {object} settings The widget settings.\n         * @param {object} [bindingContext] The current binding context.\n         */\n        create: function(element, settings, bindingContext, fromBinding) {\n            if(!fromBinding){\n                settings = widget.getSettings(function() { return settings; }, element);\n            }\n\n            var compositionSettings = widget.createCompositionSettings(element, settings);\n\n            composition.compose(element, compositionSettings, bindingContext);\n        },\n        /**\n         * Installs the widget module by adding the widget binding handler and optionally registering kinds.\n         * @method install\n         * @param {object} config The module config. Add a `kinds` array with the names of widgets to automatically register. You can also specify a `bindingName` if you wish to use another name for the widget binding, such as \"control\" for example.\n         */\n        install:function(config){\n            config.bindingName = config.bindingName || 'widget';\n\n            if(config.kinds){\n                var toRegister = config.kinds;\n\n                for(var i = 0; i < toRegister.length; i++){\n                    widget.registerKind(toRegister[i]);\n                }\n            }\n\n            ko.bindingHandlers[config.bindingName] = {\n                init: function() {\n                    return { controlsDescendantBindings: true };\n                },\n                update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n                    var settings = widget.getSettings(valueAccessor);\n                    extractParts(element, settings);\n                    widget.create(element, settings, bindingContext, true);\n                }\n            };\n\n            composition.composeBindings.push(config.bindingName + ':');\n            ko.virtualElements.allowedBindings[config.bindingName] = true;\n        }\n    };\n\n    return widget;\n});\n\n",
    "/**\n * @license RequireJS text 2.0.7 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/text for details\n */\n/*jslint regexp: true */\n/*global require, XMLHttpRequest, ActiveXObject,\n  define, window, process, Packages,\n  java, location, Components, FileUtils */\n\ndefine('text',['module'], function (module) {\n    'use strict';\n\n    var text, fs, Cc, Ci,\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\n        hasLocation = typeof location !== 'undefined' && location.href,\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\n        defaultHostName = hasLocation && location.hostname,\n        defaultPort = hasLocation && (location.port || undefined),\n        buildMap = {},\n        masterConfig = (module.config && module.config()) || {};\n\n    text = {\n        version: '2.0.7',\n\n        strip: function (content) {\n            //Strips <?xml ...?> declarations so that external SVG and XML\n            //documents can be added to a document without worry. Also, if the string\n            //is an HTML document, only the part inside the body tag is returned.\n            if (content) {\n                content = content.replace(xmlRegExp, \"\");\n                var matches = content.match(bodyRegExp);\n                if (matches) {\n                    content = matches[1];\n                }\n            } else {\n                content = \"\";\n            }\n            return content;\n        },\n\n        jsEscape: function (content) {\n            return content.replace(/(['\\\\])/g, '\\\\$1')\n                .replace(/[\\f]/g, \"\\\\f\")\n                .replace(/[\\b]/g, \"\\\\b\")\n                .replace(/[\\n]/g, \"\\\\n\")\n                .replace(/[\\t]/g, \"\\\\t\")\n                .replace(/[\\r]/g, \"\\\\r\")\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\n        },\n\n        createXhr: masterConfig.createXhr || function () {\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\n            var xhr, i, progId;\n            if (typeof XMLHttpRequest !== \"undefined\") {\n                return new XMLHttpRequest();\n            } else if (typeof ActiveXObject !== \"undefined\") {\n                for (i = 0; i < 3; i += 1) {\n                    progId = progIds[i];\n                    try {\n                        xhr = new ActiveXObject(progId);\n                    } catch (e) {}\n\n                    if (xhr) {\n                        progIds = [progId];  // so faster next time\n                        break;\n                    }\n                }\n            }\n\n            return xhr;\n        },\n\n        /**\n         * Parses a resource name into its component parts. Resource names\n         * look like: module/name.ext!strip, where the !strip part is\n         * optional.\n         * @param {String} name the resource name\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\n         * where strip is a boolean.\n         */\n        parseName: function (name) {\n            var modName, ext, temp,\n                strip = false,\n                index = name.indexOf(\".\"),\n                isRelative = name.indexOf('./') === 0 ||\n                             name.indexOf('../') === 0;\n\n            if (index !== -1 && (!isRelative || index > 1)) {\n                modName = name.substring(0, index);\n                ext = name.substring(index + 1, name.length);\n            } else {\n                modName = name;\n            }\n\n            temp = ext || modName;\n            index = temp.indexOf(\"!\");\n            if (index !== -1) {\n                //Pull off the strip arg.\n                strip = temp.substring(index + 1) === \"strip\";\n                temp = temp.substring(0, index);\n                if (ext) {\n                    ext = temp;\n                } else {\n                    modName = temp;\n                }\n            }\n\n            return {\n                moduleName: modName,\n                ext: ext,\n                strip: strip\n            };\n        },\n\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\n\n        /**\n         * Is an URL on another domain. Only works for browser use, returns\n         * false in non-browser environments. Only used to know if an\n         * optimized .js version of a text resource should be loaded\n         * instead.\n         * @param {String} url\n         * @returns Boolean\n         */\n        useXhr: function (url, protocol, hostname, port) {\n            var uProtocol, uHostName, uPort,\n                match = text.xdRegExp.exec(url);\n            if (!match) {\n                return true;\n            }\n            uProtocol = match[2];\n            uHostName = match[3];\n\n            uHostName = uHostName.split(':');\n            uPort = uHostName[1];\n            uHostName = uHostName[0];\n\n            return (!uProtocol || uProtocol === protocol) &&\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\n                   ((!uPort && !uHostName) || uPort === port);\n        },\n\n        finishLoad: function (name, strip, content, onLoad) {\n            content = strip ? text.strip(content) : content;\n            if (masterConfig.isBuild) {\n                buildMap[name] = content;\n            }\n            onLoad(content);\n        },\n\n        load: function (name, req, onLoad, config) {\n            //Name has format: some.module.filext!strip\n            //The strip part is optional.\n            //if strip is present, then that means only get the string contents\n            //inside a body tag in an HTML string. For XML/SVG content it means\n            //removing the <?xml ...?> declarations so the content can be inserted\n            //into the current doc without problems.\n\n            // Do not bother with the work if a build and text will\n            // not be inlined.\n            if (config.isBuild && !config.inlineText) {\n                onLoad();\n                return;\n            }\n\n            masterConfig.isBuild = config.isBuild;\n\n            var parsed = text.parseName(name),\n                nonStripName = parsed.moduleName +\n                    (parsed.ext ? '.' + parsed.ext : ''),\n                url = req.toUrl(nonStripName),\n                useXhr = (masterConfig.useXhr) ||\n                         text.useXhr;\n\n            //Load the text. Use XHR if possible and in a browser.\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\n                text.get(url, function (content) {\n                    text.finishLoad(name, parsed.strip, content, onLoad);\n                }, function (err) {\n                    if (onLoad.error) {\n                        onLoad.error(err);\n                    }\n                });\n            } else {\n                //Need to fetch the resource across domains. Assume\n                //the resource has been optimized into a JS module. Fetch\n                //by the module name + extension, but do not include the\n                //!strip part to avoid file system issues.\n                req([nonStripName], function (content) {\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\n                                    parsed.strip, content, onLoad);\n                });\n            }\n        },\n\n        write: function (pluginName, moduleName, write, config) {\n            if (buildMap.hasOwnProperty(moduleName)) {\n                var content = text.jsEscape(buildMap[moduleName]);\n                write.asModule(pluginName + \"!\" + moduleName,\n                               \"define(function () { return '\" +\n                                   content +\n                               \"';});\\n\");\n            }\n        },\n\n        writeFile: function (pluginName, moduleName, req, write, config) {\n            var parsed = text.parseName(moduleName),\n                extPart = parsed.ext ? '.' + parsed.ext : '',\n                nonStripName = parsed.moduleName + extPart,\n                //Use a '.js' file name so that it indicates it is a\n                //script that can be loaded across domains.\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\n\n            //Leverage own load() method to load plugin value, but only\n            //write out values that do not have the strip argument,\n            //to avoid any potential issues with ! in file names.\n            text.load(nonStripName, req, function (value) {\n                //Use own write() method to construct full module value.\n                //But need to create shell that translates writeFile's\n                //write() to the right interface.\n                var textWrite = function (contents) {\n                    return write(fileName, contents);\n                };\n                textWrite.asModule = function (moduleName, contents) {\n                    return write.asModule(moduleName, fileName, contents);\n                };\n\n                text.write(pluginName, nonStripName, textWrite, config);\n            }, config);\n        }\n    };\n\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\n            typeof process !== \"undefined\" &&\n            process.versions &&\n            !!process.versions.node)) {\n        //Using special require.nodeRequire, something added by r.js.\n        fs = require.nodeRequire('fs');\n\n        text.get = function (url, callback, errback) {\n            try {\n                var file = fs.readFileSync(url, 'utf8');\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\n                if (file.indexOf('\\uFEFF') === 0) {\n                    file = file.substring(1);\n                }\n                callback(file);\n            } catch (e) {\n                errback(e);\n            }\n        };\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\n            text.createXhr())) {\n        text.get = function (url, callback, errback, headers) {\n            var xhr = text.createXhr(), header;\n            xhr.open('GET', url, true);\n\n            //Allow plugins direct access to xhr headers\n            if (headers) {\n                for (header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\n                    }\n                }\n            }\n\n            //Allow overrides specified in config\n            if (masterConfig.onXhr) {\n                masterConfig.onXhr(xhr, url);\n            }\n\n            xhr.onreadystatechange = function (evt) {\n                var status, err;\n                //Do not explicitly handle errors, those should be\n                //visible via console output in the browser.\n                if (xhr.readyState === 4) {\n                    status = xhr.status;\n                    if (status > 399 && status < 600) {\n                        //An http 4xx or 5xx error. Signal an error.\n                        err = new Error(url + ' HTTP status: ' + status);\n                        err.xhr = xhr;\n                        errback(err);\n                    } else {\n                        callback(xhr.responseText);\n                    }\n\n                    if (masterConfig.onXhrComplete) {\n                        masterConfig.onXhrComplete(xhr, url);\n                    }\n                }\n            };\n            xhr.send(null);\n        };\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n        //Why Java, why is this so awkward?\n        text.get = function (url, callback) {\n            var stringBuffer, line,\n                encoding = \"utf-8\",\n                file = new java.io.File(url),\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\n                content = '';\n            try {\n                stringBuffer = new java.lang.StringBuffer();\n                line = input.readLine();\n\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\n                // http://www.unicode.org/faq/utf_bom.html\n\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\n                    // Eat the BOM, since we've already found the encoding on this file,\n                    // and we plan to concatenating this buffer with others; the BOM should\n                    // only appear at the top of a file.\n                    line = line.substring(1);\n                }\n\n                if (line !== null) {\n                    stringBuffer.append(line);\n                }\n\n                while ((line = input.readLine()) !== null) {\n                    stringBuffer.append(lineSeparator);\n                    stringBuffer.append(line);\n                }\n                //Make sure we return a JavaScript string and not a Java string.\n                content = String(stringBuffer.toString()); //String\n            } finally {\n                input.close();\n            }\n            callback(content);\n        };\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\n            typeof Components !== 'undefined' && Components.classes &&\n            Components.interfaces)) {\n        //Avert your gaze!\n        Cc = Components.classes,\n        Ci = Components.interfaces;\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\n\n        text.get = function (url, callback) {\n            var inStream, convertStream,\n                readData = {},\n                fileObj = new FileUtils.File(url);\n\n            //XPCOM, you so crazy\n            try {\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\n                           .createInstance(Ci.nsIFileInputStream);\n                inStream.init(fileObj, 1, 0, false);\n\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\n                                .createInstance(Ci.nsIConverterInputStream);\n                convertStream.init(inStream, \"utf-8\", inStream.available(),\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\n\n                convertStream.readString(inStream.available(), readData);\n                convertStream.close();\n                inStream.close();\n                callback(readData.value);\n            } catch (e) {\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\n            }\n        };\n    }\n    return text;\n});\n",
    "\ndefine('text!views/404.html',[],function () { return '<div class=\"modal-dialog\">\\r\\n    <div class=\"modal-content not-found\">\\r\\n        <div class=\"error\">404</div>\\r\\n        <div class=\"msg\">SORRY! It looks like the page you\\'re looking for doesn\\'t exist...</div>\\r\\n    </div>\\r\\n</div>';});\n\n",
    "\ndefine('text!views/events.html',[],function () { return '<div class=\"events\">\\r\\n    <h3 class=\"text-center\">Events</h3>\\r\\n\\r\\n    <div class=\"splash\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n    <div data-bind=\"visible: !isBusy()\">\\r\\n        <br />\\r\\n        <div class=\"panel-group\" id=\"eventist\">\\r\\n            <!--ko foreach: sortedEvents -->\\r\\n            <div class=\"panel panel-default\">\\r\\n                <div class=\"panel-heading\">\\r\\n                    <h4 class=\"panel-title\">\\r\\n                        <a class=\"collapsed\" data-toggle=\"collapse\" data-parent=\"#eventist\" data-bind=\"attr: { href: \\'#collapse\\' + objectId() }\">\\r\\n                            <span data-bind=\"text: name\"></span>\\r\\n                            <span data-bind=\"visible: important\">(!!!)</span>\\r\\n                        </a>\\r\\n                        <a href=\"#\" data-bind=\"ifnot: $root.subject, attr: { href: \\'#subjects/\\' + subject() }\">\\r\\n                            <span class=\"label label-default\" data-bind=\"text: subject\"></span>\\r\\n                        </a>\\r\\n                        <span class=\"pull-right\">\\r\\n                            <span data-bind=\"text: moment(date()).format(\\'HH:mm\\')\"></span>\\r\\n                            <span data-bind=\"text: moment(date()).format(\\' MMM DD, YYYY\\'), visible: $root.subject\"></span>\\r\\n                        </span>\\r\\n                    </h4>\\r\\n                </div>\\r\\n\\r\\n                <div class=\"panel-collapse collapse\" data-bind=\"attr: { id: \\'collapse\\' + objectId() }\">\\r\\n                    <table class=\"table table-bordered\">\\r\\n                        <tr>\\r\\n                            <th colspan=\"3\">Description</th>\\r\\n                            <th>Date</th>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td colspan=\"3\" rowspan=\"4\" data-bind=\"text: description\"></td>\\r\\n                            <td data-bind=\"text: date().format(\\'MM/DD/YYYY\\')\"></td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <th>Impotant</th>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td data-bind=\"text: important() ? \\'yes\\' : \\'no\\'\"></td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td class=\"text-center\">\\r\\n                                <button class=\"btn edit\" data-bind=\"click: $parent.editEvent, popover: \\'Edit\\'\"><i class=\"fa fa-pencil\"></i></button>\\r\\n                                <button class=\"btn delete\" data-bind=\"click: $parent.deleteEvent, popover: \\'Delete\\'\"><i class=\"fa fa-trash-o\"></i></button>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--/ko-->\\r\\n            <div class=\"text-center\" data-bind=\"visible: !sortedEvents().length\">\\r\\n                <h4>There are no events.</h4>\\r\\n                <button class=\"btn edit\" data-bind=\"click: editEvent\">+ Add new event</button>\\r\\n            </div>\\r\\n            <div class=\"text-right\" data-bind=\"visible: sortedEvents().length\">\\r\\n                <br />\\r\\n                <button class=\"btn edit\" data-bind=\"click: editEvent\">+ Add new event</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/modals/daySchedule.html',[],function () { return '<div class=\"modal-content\">\\r\\n\\r\\n    <div class=\"modal-header\">\\r\\n        <button type=\"button\" class=\"close\" data-bind=\"click: close\"><span>&times;</span></button>\\r\\n        <h3>Day schedule</h3>\\r\\n        <h4 data-bind=\"text: date.format(\\'MM/DD/YYYY\\')\"></h4>\\r\\n    </div>\\r\\n\\r\\n    <div class=\"modal-body day-schedule\">\\r\\n        <div class=\"row text-center\">\\r\\n            <div class=\"col-xs-2 col-xs-offset-1\"><strong>Time</strong></div>\\r\\n            <div class=\"col-xs-4\"><strong>Subject</strong></div>\\r\\n            <div class=\"col-xs-3\"><strong>Lecture Room</strong></div>\\r\\n        </div>\\r\\n        <!--ko foreach: { data: lectureHours, as: \\'currentLecture\\' } -->\\r\\n        <div class=\"row lecture-time\" data-bind=\"with: $root.lectures[currentLecture.time]\">\\r\\n            <div class=\"col-xs-1 text-right\">\\r\\n                <strong data-bind=\"text: $index() + 1 + \\'.\\'\"></strong>\\r\\n            </div>\\r\\n            <div class=\"col-xs-2\">\\r\\n                <div class=\"btn-group time-btn\">\\r\\n                    <button class=\"btn btn-default\" type=\"button\" data-bind=\"text: currentLecture.time.substr(0, 2)\" disabled></button>\\r\\n                    <button class=\"btn btn-default\" type=\"button\" data-bind=\"text: currentLecture.time.substr(3, 2)\" disabled></button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"col-xs-4\">\\r\\n                <input class=\"form-control\" data-bind=\"value: subject\" />\\r\\n            </div>\\r\\n            <div class=\"col-xs-3\">\\r\\n                <input class=\"form-control\" data-bind=\"value: lectureRoom\" />\\r\\n            </div>\\r\\n            <div class=\"col-xs-2 text-left\">\\r\\n                <button class=\"btn clear\" data-bind=\"click: $root.clear, popover: \\'Clear\\'\"><i class=\"fa fa-eraser\"></i></button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--/ko-->\\r\\n    </div>\\r\\n\\r\\n    <div class=\"modal-footer\">\\r\\n        <div class=\"row text-right\">\\r\\n            <div class=\"col-xs-11\">\\r\\n                <button class=\"btn btn-default success\" data-bind=\"click: save\">Save</button>\\r\\n                <button class=\"btn btn-default danger\" data-bind=\"click: close\">Cancel</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/modals/editEvent.html',[],function () { return '<div class=\"modal-content edit-event\">\\r\\n    <div class=\"modal-header\">\\r\\n        <button type=\"button\" class=\"close\" data-bind=\"click: cancel\"><span>&times;</span></button>\\r\\n        <h3>Edit event</h3>\\r\\n    </div>\\r\\n    <div class=\"modal-body\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-8\">\\r\\n                Title:<p><input class=\"form-control\" data-bind=\"value: name\" /></p>\\r\\n                Description:<p><textarea class=\"form-control\" data-bind=\"value: description\"></textarea></p>\\r\\n            </div>\\r\\n            <div class=\"col-md-4\">\\r\\n                Date:<p><input class=\"form-control\" data-bind=\"selectDate: date\" /></p>\\r\\n                Time:<div data-bind=\"compose: { model: \\'viewmodels/timepicker\\', mode: \\'templated\\' }\"></div>\\r\\n                Impotant:<p><input type=\"checkbox\" data-bind=\"checked: important\" /></p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"modal-footer text-right\">\\r\\n        <button class=\"btn btn-default success\" data-bind=\"click: save\">Save</button>\\r\\n        <button class=\"btn btn-default danger\" data-bind=\"click: cancel\">Cancel</button>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/modals/editTask.html',[],function () { return '<div class=\"modal-content edit-task\">\\r\\n    <div class=\"modal-header\">\\r\\n        <button type=\"button\" class=\"close\" data-bind=\"click: cancel\"><span>&times;</span></button>\\r\\n        <h3>Edit task</h3>\\r\\n    </div>\\r\\n    <div class=\"modal-body\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-8\">\\r\\n                Title:<p><input class=\"form-control\" data-bind=\"value: title\" /></p>\\r\\n                Description:<p><textarea class=\"form-control\" data-bind=\"value: description\"></textarea></p>\\r\\n            </div>\\r\\n            <div class=\"col-md-4\">\\r\\n                Date:<p><input class=\"form-control\" data-bind=\"selectDate: date\" /></p>\\r\\n                Impotant:<p><input type=\"checkbox\" data-bind=\"checked: important\" /></p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"modal-footer text-right\">\\r\\n        <button class=\"btn btn-default success\" data-bind=\"click: save\">Save</button>\\r\\n        <button class=\"btn btn-default danger\" data-bind=\"click: cancel\">Cancel</button>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/modals/newNotes.html',[],function () { return '<div class=\"modal-content new-notes\">\\r\\n    <div class=\"modal-header\">\\r\\n        <button type=\"button\" class=\"close\" data-bind=\"click: cancel\"><span>&times;</span></button>\\r\\n        <h3>New notes</h3>\\r\\n    </div>\\r\\n    <div class=\"modal-body\">\\r\\n        <form data-bind=\"submit: ok\">\\r\\n            <p class=\"message\">Title:</p>\\r\\n            <input class=\"form-control autofocus\" data-bind=\"value: title\" required />\\r\\n            <div class=\"modal-footer\">\\r\\n                <button class=\"btn btn-default success\" type=\"submit\">Create</button>\\r\\n                <button class=\"btn btn-default danger\" data-bind=\"click: cancel\">Cancel</button>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/organizer.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"col-md-4\">\\r\\n        <div class=\"schedule-small\">\\r\\n            <h3 class=\"text-center\">Schedule</h3>\\r\\n\\r\\n            <div class=\"splash small\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n            <table class=\"table table-stripped\" data-bind=\"visible: !isBusy()\">\\r\\n                <tr>\\r\\n                    <th colspan=\"5\"></th>\\r\\n                </tr>\\r\\n                <tr data-bind=\"ifnot: lectures().length\">\\r\\n                    <td colspan=\"5\"><h4 class=\"text-center\">There are no lectures for this day.</h4></td>\\r\\n                </tr>\\r\\n                <!--ko foreach: lectures -->\\r\\n                <tr>\\r\\n                    <td data-bind=\"text: moment(date).format(\\'HH:mm\\')\"></td>\\r\\n                    <td colspan=\"3\" data-bind=\"text: subject\"></td>\\r\\n                    <td class=\"text-right\" data-bind=\"text: lectureRoom\"></td>\\r\\n                </tr>\\r\\n                <!--/ko-->\\r\\n            </table>\\r\\n        </div>\\r\\n        <br />\\r\\n        <div data-bind=\"compose: \\'templates/calendar.html\\'\"></div>\\r\\n    </div>\\r\\n    <div class=\"col-md-8\">\\r\\n        <h3 class=\"text-right selected-date\" data-bind=\"text: selectedDate().format(\\'MMM DD, YYYY\\')\"></h3>\\r\\n        <div class=\"wrapper light-wrapper\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-12\" data-bind=\"compose: { model: \\'viewmodels/tasks\\', activationData: { date: selectedDate } }\"></div>\\r\\n            </div>\\r\\n            <br />\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-12\" data-bind=\"compose: { model: \\'viewmodels/events\\', activationData: { date: selectedDate } }\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/schedule.html',[],function () { return '<div class=\"wrapper light-wrapper schedule\">\\r\\n    <h3 class=\"text-center\">Schedule</h3>\\r\\n\\r\\n    <div class=\"splash\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n    <div data-bind=\"visible: !isBusy()\">\\r\\n        <div class=\"text-center\">\\r\\n            <i class=\"fa fa-caret-left btn btn-small\" data-bind=\"click: function () { monday(monday().subtract(7, \\'d\\')); }\"></i>\\r\\n            <span data-bind=\"text: week\"></span>\\r\\n            <i class=\"fa fa-caret-right btn btn-small\" data-bind=\"click: function () { monday(monday().add(7, \\'d\\')); }\"></i>\\r\\n        </div>\\r\\n        <br />\\r\\n\\r\\n        <div class=\"row table-heading\">\\r\\n            <div class=\"col-xs-1\"></div>\\r\\n            <!--ko foreach: [\\'Monday\\', \\'Tuesday\\', \\'Wednesday\\', \\'Thursday\\', \\'Friday\\'] -->\\r\\n            <div class=\"col-xs-2\">\\r\\n                <strong data-bind=\"text: $data\"></strong>\\r\\n            </div>\\r\\n            <!--/ko-->\\r\\n        </div>\\r\\n\\r\\n        <div class=\"schedule-table\">\\r\\n            <!--ko foreach: { data: lectureHours, as: \\'currentLecture\\' }-->\\r\\n            <div class=\"row schedule-row\">\\r\\n                <div class=\"col-xs-1\">\\r\\n                    <strong data-bind=\"text: time\"></strong>\\r\\n                </div>\\r\\n                <!--ko foreach: $root.days -->\\r\\n                <div class=\"col-xs-2 editable\" data-bind=\"click: $root.editDaySchedule\">\\r\\n                    <div class=\"lecture\" data-bind=\"with: lectures[currentLecture.time]\">\\r\\n                        <div data-bind=\"text: subject\"></div>\\r\\n                        <div class=\"lecture-room\" data-bind=\"text: lectureRoom\"></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <!--/ko-->\\r\\n                <div class=\"col-xs-1\">\\r\\n                    <i class=\"fa fa-times remove\" data-bind=\"click: $root.deleteLectureTime, popover: \\'Remove lecture time\\'\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--/ko-->\\r\\n\\r\\n            <!--ko ifnot: lectureHours().length-->\\r\\n            <!--ko foreach: [0,1,2,3] -->\\r\\n            <div class=\"row schedule-row\">\\r\\n                <div class=\"col-xs-1\">\\r\\n                    <strong data-bind=\"text: \\'--:--\\'\"></strong>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--/ko-->\\r\\n            <div class=\"row schedule-row\">\\r\\n                <div class=\"col-xs-10 col-xs-offset-1\">\\r\\n                    <span>Schedule is empty. Create lecture time and add lectures to your schedule.</span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--/ko-->\\r\\n        </div>\\r\\n\\r\\n        <div class=\"row add-time\">\\r\\n            <div class=\"col-xs-1 text-right clock\">\\r\\n                <i class=\"fa fa-clock-o\"></i>\\r\\n            </div>\\r\\n            <div class=\"col-xs-2\" data-bind=\"with: timeToAdd\">\\r\\n                <div data-bind=\"compose: { model: \\'viewmodels/timepicker\\', mode: \\'templated\\' }\"></div>\\r\\n            </div>\\r\\n            <div class=\"col-xs-8 text-left\">\\r\\n                <div class=\"add-btn\" data-bind=\"click: addLectureTime\">Add lecture time</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/shell.html',[],function () { return '<div class=\"container\">\\r\\n\\r\\n    <nav class=\"navbar navbar-inverse\" role=\"navigation\" data-bind=\"visible: userName\">\\r\\n        <div class=\"container-fluid\">\\r\\n            <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#main-navbar\">\\r\\n                <span class=\"sr-only\">Toggle Navigation</span>\\r\\n                <span class=\"icon-bar\"></span>\\r\\n                <span class=\"icon-bar\"></span>\\r\\n                <span class=\"icon-bar\"></span>\\r\\n            </button>\\r\\n\\r\\n        <div class=\"collapse navbar-collapse\" id=\"main-navbar\">\\r\\n            <ul class=\"nav navbar-nav\">\\r\\n                <!--ko foreach: router.navigationModel -->\\r\\n                <li data-bind=\"css: { active: isActive }\">\\r\\n                    <a data-bind=\"attr: { href: hash }\">\\r\\n                        <i data-bind=\"attr: { class: \\'fa fa-\\' + icon }\"></i>\\r\\n                        <span data-bind=\"text: title\"></span>\\r\\n                    </a>\\r\\n                </li>\\r\\n                <!--/ko-->\\r\\n\\r\\n                <li class=\"dropdown\">\\r\\n                    <a href=\"#\" class=\"dropdown-toggle\" data-bind=\"click: refreshSubjects\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">\\r\\n                        <i class=\"fa fa-book\"></i> Subjects <span class=\"caret\"></span>\\r\\n                    </a>\\r\\n                    <ul class=\"dropdown-menu subj-dropdown\" role=\"menu\">\\r\\n                        <li data-bind=\"visible: isBusy\"><div class=\"splash small\"><i class=\"fa fa-spinner fa-spin\"></i></div></li>\\r\\n\\r\\n                        <!--ko foreach: subjects-->\\r\\n                        <li>\\r\\n                            <a href=\"#\" data-bind=\"attr: { href: \\'#subjects/\\' + name }\">\\r\\n                                <span data-bind=\"text: name\"></span>\\r\\n                            </a>\\r\\n                            <i class=\"fa fa-times\" data-bind=\"click: $root.removeSubject, popover: \\'Remove subject\\'\"></i>\\r\\n                        </li>\\r\\n                        <!--/ko-->\\r\\n                        <li class=\"add-subj\">\\r\\n                            <form data-bind=\"submit: addNewSubject\">\\r\\n                                <div class=\"input-group input-group-sm\">\\r\\n                                    <input class=\"form-control\" type=\"text\" data-bind=\"value: newSubject, valueUpdate: \\'afterkeydown\\'\" placeholder=\"New subject...\" required />\\r\\n                                    <span class=\"input-group-btn\">\\r\\n                                        <button class=\"btn btn-default\" type=\"submit\" data-bind=\"popover: \\'Add new subject\\'\"><i class=\"fa fa-plus\"></i></button>\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </form>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </li>\\r\\n            </ul>\\r\\n\\r\\n            <div class=\"pull-right log-out\">\\r\\n                <span data-bind=\"text: userName\"></span>\\r\\n                <i class=\"fa fa-sign-out\" data-bind=\"click: logOut, popover: \\'Sign out\\'\"></i>\\r\\n            </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n    </nav>\\r\\n\\r\\n    <div data-bind=\"css: { \\'wrapper dark-wrapper\\': userName }\">\\r\\n\\r\\n        <div class=\"splash vertical-middle\" data-bind=\"visible: router.isNavigating() || removingSubjectData()\">\\r\\n            <div class=\"message\" data-bind=\"visible: removingSubjectData()\">Removing subject data...</div>\\r\\n            <i class=\"fa fa-spinner fa-spin\"></i>\\r\\n        </div>\\r\\n\\r\\n        <div data-bind=\"visible: !router.isNavigating() && !removingSubjectData(), router: {}\"></div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/signin.html',[],function () { return '<div class=\"wrapper sign-in\">\\r\\n\\r\\n    <h2 class=\"text-center\">\\r\\n        <i class=\"fa fa-mortar-board\"></i>\\r\\n        Student Organizer\\r\\n    </h2>\\r\\n    <br />\\r\\n\\r\\n    <h3>Sign In</h3>\\r\\n    <hr />\\r\\n\\r\\n    <form data-bind=\"submit: submit\">\\r\\n        <div class=\"form-group\">\\r\\n            <label for=\"username\">Username</label>\\r\\n            <input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Username\" data-bind=\"value: username\" required>\\r\\n        </div>\\r\\n        <div class=\"form-group\">\\r\\n            <label for=\"passwordInput\">Password</label>\\r\\n            <input type=\"password\" class=\"form-control\" id=\"passwordInput\" placeholder=\"Password\" data-bind=\"value: password\" required>\\r\\n            <br />\\r\\n        </div>\\r\\n        <hr />\\r\\n        <div>\\r\\n            <button type=\"submit\" class=\"btn btn-default success pull-right\"><i class=\"fa fa-sign-in\"></i> Sign In</button>\\r\\n            <a href=\"#signup\"><span class=\"btn btn-default blue-btn\">Create an account</span></a>\\r\\n        </div>\\r\\n    </form>\\r\\n\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/signup.html',[],function () { return '<div class=\"wrapper sign-in\">\\r\\n\\r\\n    <h2 class=\"text-center\">\\r\\n        <i class=\"fa fa-mortar-board\"></i>\\r\\n        Student Organizer\\r\\n    </h2>\\r\\n    <br />\\r\\n\\r\\n    <h3>Sign Up</h3>\\r\\n    <hr />\\r\\n\\r\\n    <form data-bind=\"submit: submit\">\\r\\n        <div class=\"form-group\">\\r\\n            <label for=\"username\">Username</label>\\r\\n            <input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Choose your username..\" data-bind=\"value: username\" required>\\r\\n        </div>\\r\\n        <div class=\"form-group\">\\r\\n            <label for=\"passwordInput\">Password</label>\\r\\n            <input type=\"password\" class=\"form-control\" id=\"passwordInput\" placeholder=\"Type your password..\" data-bind=\"value: password\" required>\\r\\n        </div>\\r\\n        <div class=\"form-group\">\\r\\n            <label for=\"passwordConfirm\">Confirm your password</label>\\r\\n            <input type=\"password\" class=\"form-control\" id=\"passwordConfirm\" placeholder=\"Confirm your password..\" data-bind=\"value: passwordConfirm\" required>\\r\\n            <br />\\r\\n        </div>\\r\\n        <hr />\\r\\n        <div>\\r\\n            <a href=\"#signin\"><span class=\"btn btn-default blue-btn\"><i class=\"fa fa-sign-in\"></i> Sign In</span></a>\\r\\n            <button type=\"submit\" class=\"btn btn-default success pull-right\">Create an account</button>\\r\\n        </div>\\r\\n    </form>\\r\\n\\r\\n</div>';});\n\n",
    "\ndefine('text!views/subject/deck.html',[],function () { return '<div class=\"wrapper light-wrapper deck\">\\r\\n    <h3 class=\"text-center\">Flashcards deck</h3>\\r\\n\\r\\n    <div class=\"splash\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n    <div data-bind=\"visible: !isBusy()\">\\r\\n        <br />\\r\\n        <h4 class=\"text-center\" data-bind=\"visible: !flashcards().length\">This deck is empty.</h4>\\r\\n        <form data-bind=\"submit: saveCard\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-6\">\\r\\n                    <textarea class=\"form-control\" data-bind=\"value: cardToSave.front, valueUpdate: \\'afterkeydown\\'\" rows=\"5\" placeholder=\"front\" required></textarea>\\r\\n                </div>\\r\\n                <div class=\"col-md-6 text-right\">\\r\\n                    <textarea class=\"form-control\" data-bind=\"value: cardToSave.back, valueUpdate: \\'afterkeydown\\'\" rows=\"5\" placeholder=\"back\" required></textarea>\\r\\n                    <br />\\r\\n                    <button class=\"btn edit\" type=\"submit\" data-bind=\"enable: !cardToEdit() || isDirty()\">\\r\\n                        <span data-bind=\"visible: cardToEdit\">Save</span>\\r\\n                        <span data-bind=\"visible: !cardToEdit()\">Add</span>\\r\\n                    </button>\\r\\n                    <button class=\"btn clear\" data-bind=\"click: resetState, popover: \\'Clear\\'\"><i class=\"fa fa-eraser\"></i></button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n        <br />\\r\\n        <table class=\"table table-stripped\" data-bind=\"visible: flashcards().length\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th></th>\\r\\n                    <th colspan=\"2\">Front</th>\\r\\n                    <th colspan=\"3\">Back</th>\\r\\n                    <th colspan=\"2\">Due Date</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody data-bind=\"foreach: flashcards\">\\r\\n                <tr>\\r\\n                    <td data-bind=\"text: $index() + 1\"></td>\\r\\n                    <td colspan=\"2\" class=\"editable\" data-bind=\"click: $root.editCard\"><span data-bind=\"    text: front\"></span></td>\\r\\n                    <td colspan=\"3\" class=\"editable\" data-bind=\"click: $root.editCard\"><span data-bind=\"    text: back\"></span></td>\\r\\n                    <td data-bind=\"text: dueDate().format(\\'DD/MM/YYYY\\')\"></td>\\r\\n                    <td class=\"text-center\"><i class=\"fa fa-times remove\" data-bind=\"click: $root.deleteCard, popover: \\'Remove\\'\"></i></td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/subject/flashcards.html',[],function () { return '<div class=\"wrapper light-wrapper flashcards\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-8 col-md-offset-2 text-center\">\\r\\n            <h3>Flashcards</h3>\\r\\n            <br />\\r\\n\\r\\n            <div data-bind=\"visible: flashcards().length\">\\r\\n                Cards to learn: <span class=\"badge\" data-bind=\"text: flashcards().length\"></span>\\r\\n                <div data-bind=\"visible: !currentCard()\">\\r\\n                    <br />\\r\\n                    <button class=\"btn edit\" data-bind=\"click: showNextCard\">Study!</button>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div data-bind=\"visible: !flashcards().length\">\\r\\n                No cards for today!\\r\\n                <div>\\r\\n                    <br />\\r\\n                    <a data-bind=\"attr: { href: \\'#subjects/\\' + subject() + \\'/deck\\' }\">\\r\\n                        <span class=\"btn edit\">Add cards</span>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <br />\\r\\n\\r\\n            <div data-bind=\"with: currentCard\">\\r\\n                <div data-bind=\"visible: !$root.isAnswerVisible()\">\\r\\n                    <div class=\"card card-front\" data-bind=\"text: front\"></div>\\r\\n                    <button class=\"btn edit\" data-bind=\"click: function () { $root.isAnswerVisible(true); }\">Show answer</button>\\r\\n                </div>\\r\\n                <div data-bind=\"visible: $root.isAnswerVisible\">\\r\\n                    <div class=\"card card-back\" data-bind=\"text: back\"></div>\\r\\n                    <span class=\"hard\">Hard</span>\\r\\n                    <span data-bind=\"foreach: [0, 1, 2]\">\\r\\n                        <button class=\"btn button hard\" data-bind=\"text: $data, click: $root.reviewCard\"></button>\\r\\n                    </span>\\r\\n                    <span data-bind=\"foreach: [3, 4, 5]\">\\r\\n                        <button class=\"btn button easy\" data-bind=\"text: $data, click: $root.reviewCard\"></button>\\r\\n                    </span>\\r\\n                    <span class=\"easy\">Easy</span>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\"col-md-2 text-center\">\\r\\n            <a data-bind=\"attr: { href: \\'#subjects/\\' + subject() + \\'/deck\\' }\">\\r\\n                <i class=\"fa fa-language deck-link\" data-bind=\"popover: \\'View deck\\'\"></i>\\r\\n            </a>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/subject/notes.html',[],function () { return '<div class=\"splash\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n<div class=\"notes\" data-bind=\"visible: !isBusy()\">\\r\\n    <div class=\"row heading\">        \\r\\n        <div class=\"col-md-11\">\\r\\n            <h3 class=\"text-right\" data-bind=\"text: title\"></h3>\\r\\n        </div>\\r\\n        <div class=\"col-md-1\">\\r\\n            <i class=\"fa fa-floppy-o save\" data-bind=\"click: saveData, popover: \\'Save changes\\'\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n    <br />\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <form>\\r\\n                <textarea name=\"editor\" id=\"editor\" data-bind=\"texteditor: editor\"></textarea>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/subject/notesList.html',[],function () { return '<div class=\"wrapper light-wrapper\">\\r\\n    <div class=\"notes-list\">\\r\\n        <h3 class=\"text-center\">Notes</h3>\\r\\n\\r\\n        <div class=\"splash\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n        <div data-bind=\"visible: !isBusy()\">\\r\\n            <br />\\r\\n            <!--ko foreach: notesList -->\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-7\">\\r\\n                    <strong data-bind=\"text: $index() + 1 + \\'.  \\' + title\"></strong>\\r\\n                </div>\\r\\n                <div class=\"col-md-3 text-right\">\\r\\n                    <span>updated at: </span>\\r\\n                    <p data-bind=\"text: moment(updatedAt).format(\\'HH:mm, MMM DD, YYYY\\')\"></p>\\r\\n                </div>\\r\\n                <div class=\"col-md-2 text-right\">\\r\\n                    <a href=\"#\" class=\"link\" data-bind=\"attr: { href: \\'#subjects/\\' + $root.subject() + \\'/notes/\\' + objectId }\">\\r\\n                        <span class=\"btn edit\"><i class=\"fa fa-file-text\"  data-bind=\"popover: \\'Open notes\\'\"></i></span>\\r\\n                    </a>\\r\\n                    <button class=\"btn delete\" data-bind=\"click: $root.removeNotes, popover: \\'Remove\\'\"><i class=\"fa fa-trash-o\"></i></button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <hr class=\"line\" />\\r\\n            <!--/ko-->\\r\\n            <div class=\"text-center\" data-bind=\"visible: !notesList().length\">\\r\\n                <h4>There are no notes.</h4>\\r\\n                <button class=\"btn edit\" data-bind=\"click: createNewNotes\">+ Create new notes</button>\\r\\n            </div>\\r\\n            <div class=\"text-right\" data-bind=\"visible: notesList().length\">\\r\\n                <button class=\"btn edit\" data-bind=\"click: createNewNotes\">+ Create new notes</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/subject/planner.html',[],function () { return '<div class=\"wrapper light-wrapper\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\" data-bind=\"compose: { model: \\'viewmodels/tasks\\', activationData: { subject: subject } }\"></div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\" data-bind=\"compose: { model: \\'viewmodels/events\\', activationData: { subject: subject } }\"></div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/subject/shell.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"col-md-3\">\\r\\n        <h4 class=\"subject\">\\r\\n            <i class=\"fa fa-book\"></i>\\r\\n            <span data-bind=\"text: subject().toUpperCase()\"></span>\\r\\n        </h4>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n\\r\\n    <div class=\"col-md-3\">\\r\\n        <ul class=\"nav side-nav\" data-bind=\"foreach: router.navigationModel\">\\r\\n            <li data-bind=\"css: { active: isActive }\">\\r\\n                <a data-bind=\"attr: { href: dynamicHash }, text: title\"></a>\\r\\n            </li>\\r\\n        </ul>\\r\\n    </div>\\r\\n\\r\\n    <div class=\"col-md-9\">\\r\\n        <div data-bind=\"router: {}\"></div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/tasks.html',[],function () { return '<div class=\"tasks\">\\r\\n    <h3 class=\"text-center\">Tasks to do</h3>\\r\\n\\r\\n    <div class=\"splash\" data-bind=\"visible: isBusy\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n    <div data-bind=\"visible: !isBusy()\">\\r\\n        <br />\\r\\n        <div data-bind=\"visible: importantTasks().length\">\\r\\n            <h4>IMPORTANT :</h4>\\r\\n            <br />\\r\\n        </div>\\r\\n        <!--ko foreach: importantTasks -->\\r\\n        <!--ko compose: \\'templates/taskInfo.html\\' -->\\r\\n        <!--/ko-->\\r\\n        <!--/ko-->\\r\\n        <div data-bind=\"visible: importantTasks().length && unimportantTasks().length\">\\r\\n            <br />\\r\\n            <h4>OTHER :</h4>\\r\\n            <br />\\r\\n        </div>\\r\\n        <!--ko foreach: unimportantTasks -->\\r\\n        <!--ko compose: \\'templates/taskInfo.html\\' -->\\r\\n        <!--/ko-->\\r\\n        <!--/ko-->\\r\\n        <div class=\"text-center\" data-bind=\"visible: !importantTasks().length && !unimportantTasks().length\">\\r\\n            <h4>There are no tasks.</h4>\\r\\n            <button class=\"btn edit\" data-bind=\"click: editTask\">+ Add new task</button>\\r\\n        </div>\\r\\n        <div class=\"text-right\" data-bind=\"visible: importantTasks().length || unimportantTasks().length\">\\r\\n            <button class=\"btn edit\" data-bind=\"click: editTask\">+ Add new task</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/templates/calendar.html',[],function () { return '<div class=\"calendar\">\\r\\n    <div class=\"text-center\">\\r\\n        <i class=\"fa fa-caret-left btn btn-small\" data-bind=\"click: function () { changeMonth(-1); }\"></i>\\r\\n        <strong data-bind=\"text: selectedDate().format(\\'MMMM YYYY\\')\"></strong>\\r\\n        <i class=\"fa fa-caret-right btn btn-small\" data-bind=\"click: function () { changeMonth(+1); }\"></i>\\r\\n    </div>\\r\\n    <br />\\r\\n    \\r\\n    <div class=\"splash small\" data-bind=\"visible: isCalendarRefreshing\"><i class=\"fa fa-spinner fa-spin\"></i></div>\\r\\n\\r\\n    <table class=\"table table-stripped text-center\" data-bind=\"visible: !isCalendarRefreshing()\">\\r\\n        <tr>\\r\\n            <th>SUN</th>\\r\\n            <th>MON</th>\\r\\n            <th>TUE</th>\\r\\n            <th>WED</th>\\r\\n            <th>THU</th>\\r\\n            <th>FRI</th>\\r\\n            <th>SAT</th>\\r\\n        </tr>\\r\\n        <!--ko foreach: calendarWeeks -->\\r\\n        <tr data-bind=\"foreach: $data\">\\r\\n            <td>\\r\\n                <div data-bind=\"\\r\\n                    css: {\\r\\n                        empty: !$data,\\r\\n                        today: $root.isToday($data),\\r\\n                        selected: $root.isSelected($data),\\r\\n                        important: $root.isImportant($data)\\r\\n                    },\\r\\n                    text: $data,\\r\\n                    click: $root.changeDay\">\\r\\n                </div>\\r\\n            </td>\\r\\n        </tr>\\r\\n        <!--/ko-->\\r\\n    </table>\\r\\n</div>\\r\\n';});\n\n",
    "\ndefine('text!views/templates/taskInfo.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"col-md-8\">\\r\\n        <strong data-bind=\"text: $index() + 1 + \\'.  \\' + title()\"></strong>\\r\\n        <a href=\"#\" data-bind=\"ifnot: $root.subject, attr: { href: \\'#subjects/\\' + subject() }\">\\r\\n            <span class=\"label label-default\" data-bind=\"text: subject\"></span>\\r\\n        </a>\\r\\n        <div data-bind=\"text: description\"></div>\\r\\n    </div>\\r\\n    <div class=\"col-md-2\">\\r\\n        <span data-bind=\"visible: $root.subject\">\\r\\n            <strong>Due date:</strong>\\r\\n            <p data-bind=\"text: date().format(\\'MM/DD/YYYY\\')\"></p>\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\"col-md-2 text-right\">\\r\\n        <button class=\"btn edit\" data-bind=\"click: $parent.editTask, popover: \\'Edit\\'\"><i class=\"fa fa-pencil\"></i></button>\\r\\n        <button class=\"btn delete\" data-bind=\"click: $parent.deleteTask, popover: \\'Remove\\'\"><i class=\"fa fa-trash-o\"></i></button>\\r\\n    </div>\\r\\n</div>\\r\\n<hr class=\"line\" />\\r\\n';});\n\n",
    "\ndefine('text!views/timepicker.html',[],function () { return '<div class=\"btn-group time-btn\">\\r\\n    <div class=\"btn-group\">\\r\\n        <button class=\"btn btn-default dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" data-bind=\"text: $parent.hours\"></button>\\r\\n        <div class=\"dropdown-menu dropdown-time\" data-bind=\"foreach: hh\">\\r\\n            <div data-bind=\"text: $data, click: $parents[1].hours\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"btn-group\">\\r\\n        <button class=\"btn btn-default dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" data-bind=\"text: $parent.minutes\"></button>\\r\\n        <div class=\"dropdown-menu dropdown-time\" data-bind=\"foreach: mm\">\\r\\n            <div data-bind=\"text: $data, click: $parents[1].minutes\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n"
  ]
}