<div class="wrapper light-wrapper deck">
    <h3 class="text-center">Flashcards deck</h3>

    <div class="splash" data-bind="visible: isBusy"><i class="fa fa-spinner fa-spin"></i></div>

    <div data-bind="visible: !isBusy()">
        <br />
        <h4 class="text-center" data-bind="visible: !flashcards().length">This deck is empty.</h4>
        <form data-bind="submit: saveCard">
            <div class="row">
                <div class="col-md-6">
                    <textarea class="form-control" data-bind="value: cardToSave.front, valueUpdate: 'afterkeydown'" rows="5" placeholder="front" required></textarea>
                </div>
                <div class="col-md-6 text-right">
                    <textarea class="form-control" data-bind="value: cardToSave.back, valueUpdate: 'afterkeydown'" rows="5" placeholder="back" required></textarea>
                    <br />
                    <button class="btn edit" type="submit" data-bind="enable: !cardToEdit() || isDirty()">
                        <span data-bind="visible: cardToEdit">Save</span>
                        <span data-bind="visible: !cardToEdit()">Add</span>
                    </button>
                    <button class="btn clear" data-bind="click: resetState, popover: 'Clear'"><i class="fa fa-eraser"></i></button>
                </div>
            </div>
        </form>
        <br />
        <table class="table table-stripped" data-bind="visible: flashcards().length">
            <thead>
                <tr>
                    <th></th>
                    <th colspan="2">Front</th>
                    <th colspan="3">Back</th>
                    <th colspan="2">Due Date</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: flashcards">
                <tr>
                    <td data-bind="text: $index() + 1"></td>
                    <td colspan="2" class="editable" data-bind="click: $root.editCard"><span data-bind="    text: front"></span></td>
                    <td colspan="3" class="editable" data-bind="click: $root.editCard"><span data-bind="    text: back"></span></td>
                    <td data-bind="text: dueDate().format('DD/MM/YYYY')"></td>
                    <td class="text-center"><i class="fa fa-times remove" data-bind="click: $root.deleteCard, popover: 'Remove'"></i></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
